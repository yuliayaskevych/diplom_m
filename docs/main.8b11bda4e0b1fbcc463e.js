(self.webpackChunksteam_clone=self.webpackChunksteam_clone||[]).push([[179],{8255:Fe=>{function me(F){return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+F+"'");throw p.code="MODULE_NOT_FOUND",p})}me.keys=()=>[],me.resolve=me,me.id=8255,Fe.exports=me},7716:(Fe,me,F)=>{"use strict";F.d(me,{deG:()=>Ac,tb:()=>XE,AFp:()=>QE,ip1:()=>Dv,CZH:()=>Pd,hGG:()=>TA,z2F:()=>Wh,sBO:()=>dw,Sil:()=>Gh,_Vd:()=>Zl,EJc:()=>tb,SBq:()=>Is,qLn:()=>_s,vpe:()=>As,gxx:()=>gu,tBr:()=>Yr,XFs:()=>Re,OlP:()=>Tt,zs3:()=>xt,ZZ4:()=>Ug,aQg:()=>Bg,soG:()=>Kg,YKP:()=>GC,v3s:()=>iA,h0i:()=>ql,PXZ:()=>JI,R0b:()=>Ai,FiY:()=>Mr,Lbi:()=>JE,g9A:()=>KE,Qsj:()=>QD,FYo:()=>Vg,JOm:()=>Qr,Tiy:()=>Q_,q3G:()=>Dt,tp0:()=>pi,EAV:()=>uA,Rgc:()=>Nh,dDg:()=>ob,DyG:()=>Eo,q4F:()=>K_,GfV:()=>LC,s_b:()=>$g,ifc:()=>xe,eFA:()=>cb,G48:()=>WI,Gpc:()=>H,X6Q:()=>Rv,_c5:()=>vA,VLi:()=>GI,c2e:()=>eb,zSh:()=>Ds,wAp:()=>Ke,vHH:()=>se,EiD:()=>qr,mCW:()=>mr,qzn:()=>Yi,JVY:()=>fl,pB0:()=>_f,eBb:()=>hl,L6k:()=>mf,LAX:()=>kc,cg1:()=>j_,Tjo:()=>mA,kL8:()=>oC,yhl:()=>gf,dqk:()=>At,sIi:()=>Gl,CqO:()=>N_,QGY:()=>x_,F4k:()=>hy,RDi:()=>Da,AaK:()=>Q,z3N:()=>Zr,qOj:()=>Ch,TTD:()=>Lu,_Bn:()=>NC,xp6:()=>id,uIk:()=>wh,ekj:()=>L_,Suo:()=>SE,Xpm:()=>dn,lG2:()=>Ou,Yz7:()=>mt,cJS:()=>Kt,oAB:()=>Nu,Yjl:()=>nc,Y36:()=>Th,_UZ:()=>dy,BQk:()=>R_,ynx:()=>M_,qZA:()=>S_,TgZ:()=>A_,EpF:()=>fy,n5z:()=>si,Ikx:()=>B_,LFG:()=>Rt,$8M:()=>_n,NdJ:()=>O_,CRH:()=>ME,oxw:()=>_y,Q6J:()=>T_,s9C:()=>F_,DdM:()=>vE,VKq:()=>yE,iGM:()=>AE,CHM:()=>Vs,oJD:()=>Vn,LSH:()=>Ja,kYT:()=>tc,YNc:()=>s,_uU:()=>By,Oqu:()=>U_,hij:()=>xg});var p=F(9765),ie=F(5319),I=F(7574),W=F(6682),ue=F(8819);function Y(e){for(let t in e)if(e[t]===Y)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Q(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Q).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function z(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const P=Y({__forward_ref__:Y});function H(e){return e.__forward_ref__=H,e.toString=function(){return Q(this())},e}function O(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(P)&&e.__forward_ref__===H}class se extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function ve(e){return"string"==typeof e?e:null==e?"":String(e)}function ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ve(e)}function Ct(e,t){const n=t?` in ${t}`:"";throw new se("201",`No provider for ${ye(e)} found${n}`)}function ke(e,t){null==e&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function mn(e){return Er(e,pt)||Er(e,Cn)}function Er(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ms(e){return e&&(e.hasOwnProperty(ot)||e.hasOwnProperty(En))?e[ot]:null}const pt=Y({\u0275prov:Y}),ot=Y({\u0275inj:Y}),Cn=Y({ngInjectableDef:Y}),En=Y({ngInjectorDef:Y});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let kt;function tn(e){const t=kt;return kt=e,t}function Br(e,t,n){const i=mn(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Re.Optional?null:void 0!==t?t:void Ct(Q(e),"Injector")}function sr(e){return{toString:e}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),xe=(()=>((xe=xe||{})[xe.Emulated=0]="Emulated",xe[xe.None=2]="None",xe[xe.ShadowDom=3]="ShadowDom",xe))();const Xe="undefined"!=typeof globalThis&&globalThis,xu="undefined"!=typeof window&&window,Mi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ar="undefined"!=typeof global&&global,At=Xe||ar||xu||Mi,U={},V=[],$=Y({\u0275cmp:Y}),ae=Y({\u0275dir:Y}),q=Y({\u0275pipe:Y}),Te=Y({\u0275mod:Y}),Ge=Y({\u0275loc:Y}),ut=Y({\u0275fac:Y}),Et=Y({__NG_ELEMENT_ID__:Y});let wt=0;function dn(e){return sr(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||V,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xe.Emulated,id:"c",styles:e.styles||V,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,f=e.features,g=e.pipes;return i.id+=wt++,i.inputs=_a(e.inputs,n),i.outputs=_a(e.outputs),f&&f.forEach(_=>_(i)),i.directiveDefs=l?()=>("function"==typeof l?l():l).map(Hn):null,i.pipeDefs=g?()=>("function"==typeof g?g():g).map(ei):null,i})}function Hn(e){return Tn(e)||function(e){return e[ae]||null}(e)}function ei(e){return function(e){return e[q]||null}(e)}const ma={};function Nu(e){return sr(()=>{const t={type:e.type,bootstrap:e.bootstrap||V,declarations:e.declarations||V,imports:e.imports||V,exports:e.exports||V,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ma[e.id]=e.type),t})}function tc(e,t){return sr(()=>{const n=lr(e,!0);n.declarations=t.declarations||V,n.imports=t.imports||V,n.exports=t.exports||V})}function _a(e,t){if(null==e)return U;const n={};for(const i in e)if(e.hasOwnProperty(i)){let l=e[i],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),n[l]=i,t&&(t[l]=f)}return n}const Ou=dn;function nc(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tn(e){return e[$]||null}function lr(e,t){const n=e[Te]||null;if(!n&&!0===t)throw new Error(`Type ${Q(e)} does not have '\u0275mod' property.`);return n}function Yt(e){return Array.isArray(e)&&"object"==typeof e[1]}function cr(e){return Array.isArray(e)&&!0===e[1]}function xs(e){return 0!=(8&e.flags)}function Pn(e){return 2==(2&e.flags)}function ya(e){return 1==(1&e.flags)}function $r(e){return null!==e.template}function br(e){return 0!=(512&e[2])}function ni(e,t){return e.hasOwnProperty(ut)?e[ut]:null}class ku{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Lu(){return Ea}function Ea(e){return e.type.prototype.ngOnChanges&&(e.setInput=oc),ic}function ic(){const e=sc(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===U)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function oc(e,t,n,i){const l=sc(e)||function(e,t){return e[fo]=t}(e,{previous:U,current:null}),f=l.current||(l.current={}),g=l.previous,_=this.declaredInputs[n],y=g[_];f[_]=new ku(y&&y.currentValue,t,g===U),e[i]=t}Lu.ngInherit=!0;const fo="__ngSimpleChanges__";function sc(e){return e[fo]||null}let ba;function Da(e){ba=e}function wa(){return void 0!==ba?ba:"undefined"!=typeof document?document:void 0}function Ht(e){return!!e.listen}const Ze={createRenderer:(e,t)=>wa()};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function Jo(e,t){return Ft(t[e])}function dr(e,t){return Ft(t[e.index])}function Ni(e,t){return e.data[t]}function Wn(e,t){const n=t[e];return Yt(n)?n:n[0]}function cc(e){return 4==(4&e[2])}function dc(e){return 128==(128&e[2])}function Pi(e,t){return null==t?null:e[t]}function Vu(e){e[18]=0}function Fi(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const We={lFrame:ki(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qd(){return We.bindingsEnabled}function ge(){return We.lFrame.lView}function ft(){return We.lFrame.tView}function Vs(e){return We.lFrame.contextLView=e,e[8]}function qt(){let e=Us();for(;null!==e&&64===e.type;)e=e.parent;return e}function Us(){return We.lFrame.currentTNode}function Fn(e,t){const n=We.lFrame;n.currentTNode=e,n.isParent=t}function Bs(){return We.lFrame.isParent}function js(){We.lFrame.isParent=!1}function po(){return We.isInCheckNoChangesMode}function ri(e){We.isInCheckNoChangesMode=e}function sn(){const e=We.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ii(){return We.lFrame.bindingIndex++}function gc(e,t){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=e,zn(t)}function zn(e){We.lFrame.currentDirectiveIndex=e}function Ta(){return We.lFrame.currentQueryIndex}function go(e){We.lFrame.currentQueryIndex=e}function mc(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Bu(e,t,n){if(n&Re.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||n&Re.Host||(l=mc(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;t=l,e=f}const i=We.lFrame=Ia();return i.currentTNode=t,i.lView=e,!0}function mo(e){const t=Ia(),n=e[1];We.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ia(){const e=We.lFrame,t=null===e?null:e.child;return null===t?ki(e):t}function ki(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function _c(){const e=We.lFrame;return We.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ef=_c;function oi(){const e=_c();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hn(){return We.lFrame.selectedIndex}function wr(e){We.lFrame.selectedIndex=e}function en(){const e=We.lFrame;return Ni(e.tView,e.selectedIndex)}function Li(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const f=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:y,ngAfterViewChecked:b,ngOnDestroy:T}=f;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),_&&((e.contentHooks||(e.contentHooks=[])).push(n,_),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,_)),y&&(e.viewHooks||(e.viewHooks=[])).push(-n,y),b&&((e.viewHooks||(e.viewHooks=[])).push(n,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,b)),null!=T&&(e.destroyHooks||(e.destroyHooks=[])).push(n,T)}}function Vi(e,t,n){Ui(e,t,3,n)}function $s(e,t,n,i){(3&e[2])===n&&Ui(e,t,n,i)}function Gs(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ui(e,t,n,i){const f=null!=i?i:-1,g=t.length-1;let _=0;for(let y=void 0!==i?65535&e[18]:0;y<g;y++)if("number"==typeof t[y+1]){if(_=t[y],null!=i&&_>=i)break}else t[y]<0&&(e[18]+=65536),(_<f||-1==f)&&(vc(e,n,t,y),e[18]=(4294901760&e[18])+y+2),y++}function vc(e,t,n,i){const l=n[i]<0,f=n[i+1],_=e[l?-n[i]:n[i]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{f.call(_)}finally{}}}else try{f.call(_)}finally{}}class es{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Gu(e,t,n){const i=Ht(e);let l=0;for(;l<n.length;){const f=n[l];if("number"==typeof f){if(0!==f)break;l++;const g=n[l++],_=n[l++],y=n[l++];i?e.setAttribute(t,_,y,g):t.setAttributeNS(g,_,y)}else{const g=f,_=n[++l];Ir(g)?i&&e.setProperty(t,g,_):i?e.setAttribute(t,g,_):t.setAttribute(g,_),l++}}return l}function Cc(e){return 3===e||4===e||6===e}function Ir(e){return 64===e.charCodeAt(0)}function zs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const l=t[i];"number"==typeof l?n=l:0===n||Ec(e,n,l,null,-1===n||2===n?t[++i]:null)}}return e}function Ec(e,t,n,i,l){let f=0,g=e.length;if(-1===t)g=-1;else for(;f<e.length;){const _=e[f++];if("number"==typeof _){if(_===t){g=-1;break}if(_>t){g=f-1;break}}}for(;f<e.length;){const _=e[f];if("number"==typeof _)break;if(_===n){if(null===i)return void(null!==l&&(e[f+1]=l));if(i===e[f+1])return void(e[f+2]=l)}f++,null!==i&&f++,null!==l&&f++}-1!==g&&(e.splice(g,0,t),f=g+1),e.splice(f++,0,n),null!==i&&e.splice(f++,0,i),null!==l&&e.splice(f++,0,l)}function Aa(e){return-1!==e}function _o(e){return 32767&e}function Ys(e,t){let n=function(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let bc=!0;function vo(e){const t=bc;return bc=e,t}let lp=0;function ts(e,t){const n=an(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,zu(i.data,e),zu(t,null),zu(i.blueprint,null));const l=Xn(e,t),f=e.injectorIndex;if(Aa(l)){const g=_o(l),_=Ys(l,t),y=_[1].data;for(let b=0;b<8;b++)t[f+b]=_[g+b]|y[g+b]}return t[f+8]=l,f}function zu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function an(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Xn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,l=t;for(;null!==l;){const f=l[1],g=f.type;if(i=2===g?f.declTNode:1===g?l[6]:null,null===i)return-1;if(n++,l=l[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function yo(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Et)&&(i=n[Et]),null==i&&(i=n[Et]=lp++);const l=255&i;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function wc(e,t,n){if(n&Re.Optional)return e;Ct(t,"NodeInjector")}function Tc(e,t,n,i){if(n&Re.Optional&&void 0===i&&(i=null),0==(n&(Re.Self|Re.Host))){const l=e[9],f=tn(void 0);try{return l?l.get(t,i,n&Re.Optional):Br(t,i,n&Re.Optional)}finally{tn(f)}}return wc(i,t,n)}function Zs(e,t,n,i=Re.Default,l){if(null!==e){const f=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Et)?e[Et]:void 0;return"number"==typeof t?t>=0?255&t:ji:t}(n);if("function"==typeof f){if(!Bu(t,e,i))return i&Re.Host?wc(l,n,i):Tc(t,n,i,l);try{const g=f(i);if(null!=g||i&Re.Optional)return g;Ct(n)}finally{ef()}}else if("number"==typeof f){let g=null,_=an(e,t),y=-1,b=i&Re.Host?t[16][6]:null;for((-1===_||i&Re.SkipSelf)&&(y=-1===_?Xn(e,t):t[_+8],-1!==y&&Ma(i,!1)?(g=t[1],_=_o(y),t=Ys(y,t)):_=-1);-1!==_;){const T=t[1];if(Zu(f,_,T.data)){const S=er(_,t,n,g,i,b);if(S!==Yu)return S}y=t[_+8],-1!==y&&Ma(i,t[1].data[_+8]===b)&&Zu(f,_,t)?(g=T,_=_o(y),t=Ys(y,t)):_=-1}}}return Tc(t,n,i,l)}const Yu={};function ji(){return new tr(qt(),ge())}function er(e,t,n,i,l,f){const g=t[1],_=g.data[e+8],T=ns(_,g,n,null==i?Pn(_)&&bc:i!=g&&0!=(3&_.type),l&Re.Host&&f===_);return null!==T?Hi(t,g,T,_):Yu}function ns(e,t,n,i,l){const f=e.providerIndexes,g=t.data,_=1048575&f,y=e.directiveStart,T=f>>20,x=l?_+T:e.directiveEnd;for(let L=i?_:_+T;L<x;L++){const j=g[L];if(L<y&&n===j||L>=y&&j.type===n)return L}if(l){const L=g[y];if(L&&$r(L)&&L.type===n)return y}return null}function Hi(e,t,n,i){let l=e[n];const f=t.data;if(function(e){return e instanceof es}(l)){const g=l;g.resolving&&function(e,t){throw new se("200",`Circular dependency in DI detected for ${e}`)}(ye(f[n]));const _=vo(g.canSeeViewProviders);g.resolving=!0;const y=g.injectImpl?tn(g.injectImpl):null;Bu(e,i,Re.Default);try{l=e[n]=g.factory(void 0,f,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(i){const g=Ea(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),f&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f))}(n,f[n],t)}finally{null!==y&&tn(y),vo(_),g.resolving=!1,ef()}}return l}function Zu(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ma(e,t){return!(e&Re.Self||e&Re.Host&&t)}class tr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return Zs(this._tNode,this._lView,t,void 0,n)}}function si(e){return sr(()=>{const t=e.prototype.constructor,n=t[ut]||Ra(t),i=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==i;){const f=l[ut]||Ra(l);if(f&&f!==n)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Ra(e){return B(e)?()=>{const t=Ra(O(e));return t&&t()}:ni(e)}function _n(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let l=0;for(;l<i;){const f=n[l];if(Cc(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<i&&"string"==typeof n[l];)l++;else{if(f===t)return n[l+1];l+=2}}}return null}(qt(),e)}const rs="__parameters__";function ai(e,t,n){return sr(()=>{const i=function(e){return function(...n){if(e){const i=e(...n);for(const l in i)this[l]=i[l]}}}(t);function l(...f){if(this instanceof l)return i.apply(this,f),this;const g=new l(...f);return _.annotation=g,_;function _(y,b,T){const S=y.hasOwnProperty(rs)?y[rs]:Object.defineProperty(y,rs,{value:[]})[rs];for(;S.length<=T;)S.push(null);return(S[T]=S[T]||[]).push(g),y}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class Tt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ac=new Tt("AnalyzeForEntryComponents"),Eo=Function;function Lt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Lt(i,t)):t!==e&&t.push(i)}return t}function Gt(e,t){e.forEach(n=>Array.isArray(n)?Gt(n,t):t(n))}function ci(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function is(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function In(e,t,n){let i=wo(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let l=e.length;if(l==t)e.push(n,i);else if(1===l)e.push(i,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Sr(e,t){const n=wo(e,t);if(n>=0)return e[1|n]}function wo(e,t){return function(e,t,n){let i=0,l=e.length>>n;for(;l!==i;){const f=i+(l-i>>1),g=e[f<<n];if(t===g)return f<<n;g>t?l=f:i=f+1}return~(l<<n)}(e,t,1)}const Ks={},ja="__NG_DI_FLAG__",Wi="ngTempTokenPath",cf=/\n/gm,as="__source",fi=Y({provide:String,useValue:Y});let To;function zr(e){const t=To;return To=e,t}function Xs(e,t=Re.Default){if(void 0===To)throw new Error("inject() must be called from an injection context");return null===To?Br(e,void 0,t):To.get(e,t&Re.Optional?null:void 0,t)}function Rt(e,t=Re.Default){return(kt||Xs)(O(e),t)}function hi(e){const t=[];for(let n=0;n<e.length;n++){const i=O(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let l,f=Re.Default;for(let g=0;g<i.length;g++){const _=i[g],y=ls(_);"number"==typeof y?-1===y?l=_.token:f|=y:l=_}t.push(Rt(l,f))}else t.push(Rt(i))}return t}function Wt(e,t){return e[ja]=t,e.prototype[ja]=t,e}function ls(e){return e[ja]}function $a(e,t,n,i){const l=e[Wi];throw t[as]&&l.unshift(t[as]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=Q(t);if(Array.isArray(t))l=t.map(Q).join(" -> ");else if("object"==typeof t){let f=[];for(let g in t)if(t.hasOwnProperty(g)){let _=t[g];f.push(g+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}l=`{${f.join(", ")}}`}return`${n}${i?"("+i+")":""}[${l}]: ${e.replace(cf,"\n  ")}`}("\n"+e.message,l,n,i),e.ngTokenPath=l,e[Wi]=null,e}const Yr=Wt(ai("Inject",e=>({token:e})),-1),Mr=Wt(ai("Optional"),8),pi=Wt(ai("SkipSelf"),4);let Mo,za;function Dn(e){var t;return(null===(t=function(){if(void 0===Mo&&(Mo=null,At.trustedTypes))try{Mo=At.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Mo}())||void 0===t?void 0:t.createHTML(e))||e}function ul(e){var t;return(null===(t=function(){if(void 0===za&&(za=null,At.trustedTypes))try{za=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return za}())||void 0===t?void 0:t.createHTML(e))||e}class zi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pc extends zi{getTypeName(){return"HTML"}}class Fc extends zi{getTypeName(){return"Style"}}class cl extends zi{getTypeName(){return"Script"}}class dl extends zi{getTypeName(){return"URL"}}class Ya extends zi{getTypeName(){return"ResourceURL"}}function Zr(e){return e instanceof zi?e.changingThisBreaksApplicationSecurity:e}function Yi(e,t){const n=gf(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function gf(e){return e instanceof zi&&e.getTypeName()||null}function fl(e){return new Pc(e)}function mf(e){return new Fc(e)}function hl(e){return new cl(e)}function kc(e){return new dl(e)}function _f(e){return new Ya(e)}class gl{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Za{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Dn(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const g=n.item(l).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&t.removeAttribute(g)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ro=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mr(e){return(e=String(e)).match(yf)||e.match(Ro)?e:"unsafe:"+e}function _r(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function _i(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const Vc=_r("area,br,col,hr,img,wbr"),Zi=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uc=_r("rp,rt"),ra=_i(Vc,_i(Zi,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_i(Uc,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_i(Uc,Zi)),ps=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qa=_r("srcset"),qi=_i(ps,qa,_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gp=_r("script,style,template");class rn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!ra.hasOwnProperty(n))return this.sanitizedSomething=!0,!gp.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let l=0;l<i.length;l++){const f=i.item(l),g=f.name,_=g.toLowerCase();if(!qi.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let y=f.value;ps[_]&&(y=mr(y)),qa[_]&&(e=y,y=(e=String(e)).split(",").map(t=>mr(t.trim())).join(", ")),this.buf.push(" ",g,'="',Qa(y),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();ra.hasOwnProperty(n)&&!Vc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Qa(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const jc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qe=/([^\#-~ |!])/g;function Qa(e){return e.replace(/&/g,"&amp;").replace(jc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Qe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ln;function qr(e,t){let n=null;try{Ln=Ln||function(e){const t=new Za(e);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(e){return!1}}()?new gl(t):t}(e);let i=t?String(t):"";n=Ln.getInertBodyElement(i);let l=5,f=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=f,f=n.innerHTML,n=Ln.getInertBodyElement(i)}while(i!==f);return Dn((new rn).sanitizeChildren(Vt(n)||n))}finally{if(n){const i=Vt(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Vt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Dt=(()=>((Dt=Dt||{})[Dt.NONE=0]="NONE",Dt[Dt.HTML=1]="HTML",Dt[Dt.STYLE=2]="STYLE",Dt[Dt.SCRIPT=3]="SCRIPT",Dt[Dt.URL=4]="URL",Dt[Dt.RESOURCE_URL=5]="RESOURCE_URL",Dt))();function Vn(e){const t=gs();return t?ul(t.sanitize(Dt.HTML,e)||""):Yi(e,"HTML")?ul(Zr(e)):qr(wa(),ve(e))}function Ja(e){const t=gs();return t?t.sanitize(Dt.URL,e)||"":Yi(e,"URL")?Zr(e):mr(ve(e))}function gs(){const e=ge();return e&&e[12]}const vl="__ngContext__";function wn(e,t){e[vl]=t}function Rr(e){const t=function(e){return e[vl]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nr(e){return e.ngOriginalError}function Sf(e,...t){e.error(...t)}class _s{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=this._findContext(t),l=(e=t)&&e.ngErrorLogger||Sf;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),i&&l(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?t.ngDebugContext||this._findContext(Nr(t)):null}_findOriginalError(t){let n=t&&Nr(t);for(;n&&Nr(n);)n=Nr(n);return n||null}}const aa=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Pr(e){return e instanceof Function?e():e}var Qr=(()=>((Qr=Qr||{})[Qr.Important=1]="Important",Qr[Qr.DashCase=2]="DashCase",Qr))();function Ki(e,t){return undefined(e,t)}function vr(e){const t=e[3];return cr(t)?t[3]:t}function Tl(e){return Al(e[13])}function Il(e){return Al(e[4])}function Al(e){for(;null!==e&&!cr(e);)e=e[4];return e}function Po(e,t,n,i,l){if(null!=i){let f,g=!1;cr(i)?f=i:Yt(i)&&(g=!0,i=i[0]);const _=Ft(i);0===e&&null!==n?null==l?A(t,n,_):D(t,n,_,l||null,!0):1===e&&null!==n?D(t,n,_,l||null,!0):2===e?function(e,t,n){const i=k(e,t);i&&function(e,t,n,i){Ht(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,_,g):3===e&&t.destroyNode(_),null!=f&&function(e,t,n,i,l){const f=n[7];f!==Ft(n)&&Po(t,e,i,f,l);for(let _=10;_<n.length;_++){const y=n[_];pn(y[1],y,e,t,i,f)}}(t,e,f,n,l)}}function ou(e,t,n){return Ht(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function su(e,t){const n=e[9],i=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,Fi(l,-1)),n.splice(i,1)}function Ml(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const l=i[17];null!==l&&l!==e&&su(l,i),t>0&&(e[n-1][4]=i[4]);const f=is(e,10+t);!function(e,t){pn(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const g=f[19];null!==g&&g.detachView(f[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function u(e,t){if(!(256&t[2])){const n=t[11];Ht(n)&&n.destroyNode&&pn(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return a(e[1],e);for(;t;){let n=null;if(Yt(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Yt(t)&&a(t[1],t),t=t[3];null===t&&(t=e),Yt(t)&&a(t[1],t),n=t&&t[4]}t=n}}(t)}}function a(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const l=t[n[i]];if(!(l instanceof es)){const f=n[i+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const _=l[f[g]],y=f[g+1];try{y.call(_)}finally{}}else try{f.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let l=-1;if(null!==n)for(let f=0;f<n.length-1;f+=2)if("string"==typeof n[f]){const g=n[f+1],_="function"==typeof g?g(t):Ft(t[g]),y=i[l=n[f+2]],b=n[f+3];"boolean"==typeof b?_.removeEventListener(n[f],y,b):b>=0?i[l=b]():i[l=-b].unsubscribe(),f+=2}else{const g=i[l=n[f+1]];n[f].call(g)}if(null!==i){for(let f=l+1;f<i.length;f++)i[f]();t[7]=null}}(e,t),1===t[1].type&&Ht(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&cr(t[3])){n!==t[3]&&su(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function v(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const l=e.data[i.directiveStart].encapsulation;if(l===xe.None||l===xe.Emulated)return null}return dr(i,n)}(e,t.parent,n)}function D(e,t,n,i,l){Ht(e)?e.insertBefore(t,n,i,l):t.insertBefore(n,i,l)}function A(e,t,n){Ht(e)?e.appendChild(t,n):t.appendChild(n)}function R(e,t,n,i,l){null!==i?D(e,t,n,i,l):A(e,t,n)}function k(e,t){return Ht(e)?e.parentNode(t):t.parentNode}let be=function(e,t,n){return 40&e.type?dr(e,n):null};function Pe(e,t,n,i){const l=v(e,i,t),f=t[11],_=function(e,t,n){return be(e,t,n)}(i.parent||t[6],i,t);if(null!=l)if(Array.isArray(n))for(let y=0;y<n.length;y++)R(f,l,n[y],_,!1);else R(f,l,n,_,!1)}function Ut(e,t){if(null!==t){const n=t.type;if(3&n)return dr(t,e);if(4&n)return vs(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ut(e,i);{const l=e[t.index];return cr(l)?vs(-1,l):Ft(l)}}if(32&n)return Ki(t,e)()||Ft(e[t.index]);{const i=ir(e,t);return null!==i?Array.isArray(i)?i[0]:Ut(vr(e[16]),i):Ut(e,t.next)}}return null}function ir(e,t){return null!==t?e[16][6].projection[t.projection]:null}function vs(e,t){const n=10+e+1;if(n<t.length){const i=t[n],l=i[1].firstChild;if(null!==l)return Ut(i,l)}return t[7]}function ua(e,t,n,i,l,f,g){for(;null!=n;){const _=i[n.index],y=n.type;if(g&&0===t&&(_&&wn(Ft(_),i),n.flags|=4),64!=(64&n.flags))if(8&y)ua(e,t,n.child,i,l,f,!1),Po(t,e,l,_,f);else if(32&y){const b=Ki(n,i);let T;for(;T=b();)Po(t,e,l,T,f);Po(t,e,l,_,f)}else 16&y?Cp(e,t,i,n,l,f):Po(t,e,l,_,f);n=g?n.projectionNext:n.next}}function pn(e,t,n,i,l,f){ua(n,i,e.firstChild,t,l,f,!1)}function Cp(e,t,n,i,l,f){const g=n[16],y=g[6].projection[i.projection];if(Array.isArray(y))for(let b=0;b<y.length;b++)Po(t,e,l,y[b],f);else ua(e,t,y,g[3],l,f,!0)}function Ji(e,t,n){Ht(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Rl(e,t,n){Ht(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function uu(e,t,n){let i=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===i||e.charCodeAt(l+f)<=32)return l}n=l+1}}const Ep="ng-template";function gm(e,t,n){let i=0;for(;i<e.length;){let l=e[i++];if(n&&"class"===l){if(l=e[i],-1!==uu(l.toLowerCase(),t,0))return!0}else if(1===l){for(;i<e.length&&"string"==typeof(l=e[i++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function bp(e){return 4===e.type&&e.value!==Ep}function mm(e,t,n){return t===(4!==e.type||n?e.value:Ep)}function _m(e,t,n){let i=4;const l=e.attrs||[],f=function(e){for(let t=0;t<e.length;t++)if(Cc(e[t]))return t;return e.length}(l);let g=!1;for(let _=0;_<t.length;_++){const y=t[_];if("number"!=typeof y){if(!g)if(4&i){if(i=2|1&i,""!==y&&!mm(e,y,n)||""===y&&1===t.length){if(Ci(i))return!1;g=!0}}else{const b=8&i?y:t[++_];if(8&i&&null!==e.attrs){if(!gm(e.attrs,b,n)){if(Ci(i))return!1;g=!0}continue}const S=Dp(8&i?"class":y,l,bp(e),n);if(-1===S){if(Ci(i))return!1;g=!0;continue}if(""!==b){let x;x=S>f?"":l[S+1].toLowerCase();const L=8&i?x:null;if(L&&-1!==uu(L,b,0)||2&i&&b!==x){if(Ci(i))return!1;g=!0}}}}else{if(!g&&!Ci(i)&&!Ci(y))return!1;if(g&&Ci(y))continue;g=!1,i=y|1&i}}return Ci(i)||g}function Ci(e){return 0==(1&e)}function Dp(e,t,n,i){if(null===t)return-1;let l=0;if(i||!n){let f=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)f=!0;else{if(1===g||2===g){let _=t[++l];for(;"string"==typeof _;)_=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=f?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Lf(e,t,n=!1){for(let i=0;i<t.length;i++)if(_m(e,t[i],n))return!0;return!1}function Vf(e,t){return e?":not("+t.trim()+")":t}function ht(e){let t=e[0],n=1,i=2,l="",f=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&i){const _=e[++n];l+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&i?l+="."+g:4&i&&(l+=" "+g);else""!==l&&!Ci(g)&&(t+=Vf(f,l),l=""),i=g,f=f||!Ci(i);n++}return""!==l&&(t+=Vf(f,l)),t}const tt={};function id(e){wp(ft(),ge(),hn()+e,po())}function wp(e,t,n,i){if(!i)if(3==(3&t[2])){const f=e.preOrderCheckHooks;null!==f&&Vi(t,f,n)}else{const f=e.preOrderHooks;null!==f&&$s(t,f,0,n)}wr(n)}function od(e,t){return e<<17|t<<2}function Ei(e){return e>>17&32767}function sd(e){return 2|e}function Xi(e){return(131068&e)>>2}function Ip(e,t){return-131069&e|t<<2}function Kr(e){return 1|e}function Zf(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const l=n[i],f=n[i+1];if(-1!==f){const g=e.data[f];go(l),g.contentQueries(2,t[f],f)}}}function Mn(e,t,n,i,l,f,g,_,y,b){const T=t.blueprint.slice();return T[0]=l,T[2]=140|i,Vu(T),T[3]=T[15]=e,T[8]=n,T[10]=g||e&&e[10],T[11]=_||e&&e[11],T[12]=y||e&&e[12]||null,T[9]=b||e&&e[9]||null,T[6]=f,T[16]=2==t.type?e[16]:T,T}function la(e,t,n,i,l){let f=e.data[t];if(null===f)f=function(e,t,n,i,l){const f=Us(),g=Bs(),y=e.data[t]=function(e,t,n,i,l,f){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,n,t,i,l);return null===e.firstChild&&(e.firstChild=y),null!==f&&(g?null==f.child&&null!==y.parent&&(f.child=y):null===f.next&&(f.next=y)),y}(e,t,n,i,l),We.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=n,f.value=i,f.attrs=l;const g=function(){const e=We.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return Fn(f,!0),f}function Fo(e,t,n,i){if(0===n)return-1;const l=t.length;for(let f=0;f<n;f++)t.push(i),e.blueprint.push(i),e.data.push(null);return l}function du(e,t,n){mo(t);try{const i=e.viewQuery;null!==i&&ha(1,i,n);const l=e.template;null!==l&&cd(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zf(e,t),e.staticViewQueries&&ha(2,e.viewQuery,n);const f=e.components;null!==f&&function(e,t){for(let n=0;n<t.length;n++)Wp(e,t[n])}(t,f)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,oi()}}function bs(e,t,n,i){const l=t[2];if(256==(256&l))return;mo(t);const f=po();try{Vu(t),function(e){We.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&cd(e,t,n,2,i);const g=3==(3&l);if(!f)if(g){const b=e.preOrderCheckHooks;null!==b&&Vi(t,b,null)}else{const b=e.preOrderHooks;null!==b&&$s(t,b,0,null),Gs(t,0)}if(function(e){for(let t=Tl(e);null!==t;t=Il(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const l=n[i],f=l[3];0==(1024&l[2])&&Fi(f,1),l[2]|=1024}}}(t),function(e){for(let t=Tl(e);null!==t;t=Il(t))for(let n=10;n<t.length;n++){const i=t[n],l=i[1];dc(i)&&bs(l,i,l.template,i[8])}}(t),null!==e.contentQueries&&Zf(e,t),!f)if(g){const b=e.contentCheckHooks;null!==b&&Vi(t,b)}else{const b=e.contentHooks;null!==b&&$s(t,b,1),Gs(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const l=n[i];if(l<0)wr(~l);else{const f=l,g=n[++i],_=n[++i];gc(g,f),_(2,t[f])}}}finally{wr(-1)}}(e,t);const _=e.components;null!==_&&function(e,t){for(let n=0;n<t.length;n++)Jr(e,t[n])}(t,_);const y=e.viewQuery;if(null!==y&&ha(2,y,i),!f)if(g){const b=e.viewCheckHooks;null!==b&&Vi(t,b)}else{const b=e.viewHooks;null!==b&&$s(t,b,2),Gs(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),f||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Fi(t[3],-1))}finally{oi()}}function Pp(e,t,n,i){const l=t[10],f=!po(),g=cc(t);try{f&&!g&&l.begin&&l.begin(),g&&du(e,t,i),bs(e,t,n,i)}finally{f&&!g&&l.end&&l.end()}}function cd(e,t,n,i,l){const f=hn(),g=2&i;try{wr(-1),g&&t.length>20&&wp(e,t,20,po()),n(i,l)}finally{wr(f)}}function dd(e,t,n){if(xs(t)){const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const g=e.data[f];g.contentQueries&&g.contentQueries(1,n[f],f)}}}function Qf(e,t,n){!Qd()||(function(e,t,n,i){const l=n.directiveStart,f=n.directiveEnd;e.firstCreatePass||ts(n,t),wn(i,t);const g=n.initialInputs;for(let _=l;_<f;_++){const y=e.data[_],b=$r(y);b&&Hm(t,n,y);const T=Hi(t,e,_,n);wn(T,t),null!==g&&kl(0,_-l,T,y,0,g),b&&(Wn(n.index,t)[8]=T)}}(e,t,n,dr(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,l=n.directiveEnd,g=n.index,_=We.lFrame.currentDirectiveIndex;try{wr(g);for(let y=i;y<l;y++){const b=e.data[y],T=t[y];zn(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Bp(b,T)}}finally{wr(-1),zn(_)}}(e,t,n))}function fu(e,t,n=dr){const i=t.localNames;if(null!==i){let l=t.index+1;for(let f=0;f<i.length;f+=2){const g=i[f+1],_=-1===g?n(t,e):e[g];e[l++]=_}}}function Kf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=fd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function fd(e,t,n,i,l,f,g,_,y,b){const T=20+i,S=T+l,x=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:tt);return n}(T,S),L="function"==typeof b?b():b;return x[1]={type:e,blueprint:x,template:n,queries:null,viewQuery:_,declTNode:t,data:x.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:y,consts:L,incompleteFirstPass:!1}}function hd(e,t,n,i){const l=uh(t);null===n?l.push(i):(l.push(n),e.firstCreatePass&&Zp(e).push(i,l.length-1))}function Xf(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const l=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,l):n[i]=[t,l]}return n}function Fr(e,t,n,i,l,f,g,_){const y=dr(t,n);let T,b=t.inputs;!_&&null!=b&&(T=b[i])?(Kp(e,n,T,i,l),Pn(t)&&function(e,t){const n=Wn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),l=null!=g?g(l,t.value||"",i):l,Ht(f)?f.setProperty(y,i,l):Ir(i)||(y.setProperty?y.setProperty(i,l):y[i]=l))}function pd(e,t,n,i){let l=!1;if(Qd()){const f=function(e,t,n){const i=e.directiveRegistry;let l=null;if(i)for(let f=0;f<i.length;f++){const g=i[f];Lf(n,g.selectors,!1)&&(l||(l=[]),yo(ts(n,t),e,g.type),$r(g)?(ko(e,n),l.unshift(g)):l.push(g))}return l}(e,t,n),g=null===i?null:{"":-1};if(null!==f){l=!0,jp(n,e.data.length,f.length);for(let T=0;T<f.length;T++){const S=f[T];S.providersResolver&&S.providersResolver(S)}let _=!1,y=!1,b=Fo(e,t,f.length,null);for(let T=0;T<f.length;T++){const S=f[T];n.mergedAttrs=zs(n.mergedAttrs,S.hostAttrs),Hp(e,n,t,b,S),ca(b,S,g),null!==S.contentQueries&&(n.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(n.flags|=128);const x=S.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),_=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),b++}!function(e,t){const i=t.directiveEnd,l=e.data,f=t.attrs,g=[];let _=null,y=null;for(let b=t.directiveStart;b<i;b++){const T=l[b],S=T.inputs,x=null===f||bp(t)?null:$p(S,f);g.push(x),_=Xf(S,b,_),y=Xf(T.outputs,b,y)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=16),_.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=g,t.inputs=_,t.outputs=y}(e,n)}g&&function(e,t,n){if(t){const i=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=n[t[l+1]];if(null==f)throw new se("301",`Export of name '${t[l+1]}' not found!`);i.push(t[l],f)}}}(n,i,g)}return n.mergedAttrs=zs(n.mergedAttrs,n.attrs),l}function nh(e,t,n,i,l,f){const g=f.hostBindings;if(g){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const y=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(_)!=y&&_.push(y),_.push(i,l,g)}}function Bp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ko(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ca(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;$r(t)&&(n[""]=e)}}function jp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hp(e,t,n,i,l){e.data[i]=l;const f=l.factory||(l.factory=ni(l.type)),g=new es(f,$r(l),null);e.blueprint[i]=g,n[i]=g,nh(e,t,0,i,Fo(e,n,l.hostVars,tt),l)}function Hm(e,t,n){const i=dr(t,e),l=Kf(n),f=e[10],g=fa(e,Mn(e,l,null,n.onPush?64:16,i,t,f,f.createRenderer(i,n),null,null));e[t.index]=g}function to(e,t,n,i,l,f){const g=dr(e,t);!function(e,t,n,i,l,f,g){if(null==f)Ht(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const _=null==g?ve(f):g(f,i||"",l);Ht(e)?e.setAttribute(t,l,_,n):n?t.setAttributeNS(n,l,_):t.setAttribute(l,_)}}(t[11],g,f,e.value,n,i,l)}function kl(e,t,n,i,l,f){const g=f[t];if(null!==g){const _=i.setInput;for(let y=0;y<g.length;){const b=g[y++],T=g[y++],S=g[y++];null!==_?i.setInput(n,S,b,T):n[T]=S}}}function $p(e,t){let n=null,i=0;for(;i<t.length;){const l=t[i];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Gp(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Jr(e,t){const n=Wn(t,e);if(dc(n)){const i=n[1];80&n[2]?bs(i,n,i.template,n[8]):n[5]>0&&gd(n)}}function gd(e){for(let i=Tl(e);null!==i;i=Il(i))for(let l=10;l<i.length;l++){const f=i[l];if(1024&f[2]){const g=f[1];bs(g,f,g.template,f[8])}else f[5]>0&&gd(f)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const l=Wn(n[i],e);dc(l)&&l[5]>0&&gd(l)}}function Wp(e,t){const n=Wn(t,e),i=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),du(i,n,n[8])}function fa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function oh(e){for(;e;){e[2]|=64;const t=vr(e);if(br(e)&&!t)return e;e=t}return null}function ah(e,t,n){const i=t[10];i.begin&&i.begin();try{bs(e,t,e.template,n)}catch(l){throw Qp(t,l),l}finally{i.end&&i.end()}}function Ll(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Rr(n),l=i[1];Pp(l,i,l.template,n)}}(e[8])}function ha(e,t,n){go(0),t(e,n)}const _d=(()=>Promise.resolve(null))();function uh(e){return e[7]||(e[7]=[])}function Zp(e){return e.cleanup||(e.cleanup=[])}function Qp(e,t){const n=e[9],i=n?n.get(_s,null):null;i&&i.handleError(t)}function Kp(e,t,n,i,l){for(let f=0;f<n.length;){const g=n[f++],_=n[f++],y=t[g],b=e.data[g];null!==b.setInput?b.setInput(y,l,i,_):y[_]=l}}function Lo(e,t,n){const i=Jo(t,e);!function(e,t,n){Ht(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function pu(e,t,n){let i=n?e.styles:null,l=n?e.classes:null,f=0;if(null!==t)for(let g=0;g<t.length;g++){const _=t[g];"number"==typeof _?f=_:1==f?l=z(l,_):2==f&&(i=z(i,_+": "+t[++g]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=l:e.classesWithoutHost=l}const gu=new Tt("INJECTOR",-1);class Xp{get(t,n=Ks){if(n===Ks){const i=new Error(`NullInjectorError: No provider for ${Q(t)}!`);throw i.name="NullInjectorError",i}return n}}const Ds=new Tt("Set Injector scope."),Vl={},Ul={};let ch;function eg(){return void 0===ch&&(ch=new Xp),ch}function tg(e,t=null,n=null,i){return new Zm(e,n,t||eg(),i)}class Zm{constructor(t,n,i,l=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];n&&Gt(n,_=>this.processProvider(_,t,n)),Gt([t],_=>this.processInjectorType(_,[],f)),this.records.set(gu,mu(void 0,this));const g=this.records.get(Ds);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof t?null:Q(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Ks,i=Re.Default){this.assertNotDestroyed();const l=zr(this),f=tn(void 0);try{if(!(i&Re.SkipSelf)){let _=this.records.get(t);if(void 0===_){const y=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Tt)&&mn(t);_=y&&this.injectableDefInScope(y)?mu(dh(t),Vl):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(i&Re.Self?eg():this.parent).get(t,n=i&Re.Optional&&n===Ks?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[Wi]=g[Wi]||[]).unshift(Q(t)),l)throw g;return $a(g,t,"R3InjectorError",this.source)}throw g}finally{tn(f),zr(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,l)=>t.push(Q(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,i){if(!(t=O(t)))return!1;let l=Ms(t);const f=null==l&&t.ngModule||void 0,g=void 0===f?t:f,_=-1!==i.indexOf(g);if(void 0!==f&&(l=Ms(f)),null==l)return!1;if(null!=l.imports&&!_){let T;i.push(g);try{Gt(l.imports,S=>{this.processInjectorType(S,n,i)&&(void 0===T&&(T=[]),T.push(S))})}finally{}if(void 0!==T)for(let S=0;S<T.length;S++){const{ngModule:x,providers:L}=T[S];Gt(L,j=>this.processProvider(j,x,L||V))}}this.injectorDefTypes.add(g);const y=ni(g)||(()=>new g);this.records.set(g,mu(y,Vl));const b=l.providers;if(null!=b&&!_){const T=t;Gt(b,S=>this.processProvider(S,T,b))}return void 0!==f&&void 0!==t.providers}processProvider(t,n,i){let l=_u(t=O(t))?t:O(t&&t.provide);const f=rg(e=t)?mu(void 0,e.useValue):mu(ng(e),Vl);var e;if(_u(t)||!0!==t.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=mu(void 0,Vl,!0),g.factory=()=>hi(g.multi),this.records.set(l,g)),l=t,g.multi.push(t)}this.records.set(l,f)}hydrate(t,n){return n.value===Vl&&(n.value=Ul,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=O(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function dh(e){const t=mn(e),n=null!==t?t.factory:ni(e);if(null!==n)return n;if(e instanceof Tt)throw new Error(`Token ${Q(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=function(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${Q(e)}: (${i.join(", ")}).`)}const n=function(e){const t=e&&(e[pt]||e[Cn]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ng(e,t,n){let i;if(_u(e)){const l=O(e);return ni(l)||dh(l)}if(rg(e))i=()=>O(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...hi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Rt(O(e.useExisting));else{const l=O(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ni(l)||dh(l);i=()=>new l(...hi(e.deps))}return i}function mu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function rg(e){return null!==e&&"object"==typeof e&&fi in e}function _u(e){return"function"==typeof e}const fh=function(e,t,n){return function(e,t=null,n=null,i){const l=tg(e,t,n,i);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};class xt{static create(t,n){return Array.isArray(t)?fh(t,n,""):fh(t.providers,t.parent,t.name||"")}}function vg(e,t){Li(Rr(e)[1],qt())}function Ch(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let l;if($r(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(n){i.push(l);const g=e;g.inputs=Eh(e.inputs),g.declaredInputs=Eh(e.declaredInputs),g.outputs=Eh(e.outputs);const _=l.hostBindings;_&&bh(e,_);const y=l.viewQuery,b=l.contentQueries;if(y&&f_(e,y),b&&h_(e,b),de(e.inputs,l.inputs),de(e.declaredInputs,l.declaredInputs),de(e.outputs,l.outputs),$r(l)&&l.data.animation){const T=e.data;T.animation=(T.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let g=0;g<f.length;g++){const _=f[g];_&&_.ngInherit&&_(e),_===Ch&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const l=e[i];l.hostVars=t+=l.hostVars,l.hostAttrs=zs(l.hostAttrs,n=zs(n,l.hostAttrs))}}(i)}function Eh(e){return e===U?{}:e===V?[]:e}function f_(e,t){const n=e.viewQuery;e.viewQuery=n?(i,l)=>{t(i,l),n(i,l)}:t}function h_(e,t){const n=e.contentQueries;e.contentQueries=n?(i,l,f)=>{t(i,l,f),n(i,l,f)}:t}function bh(e,t){const n=e.hostBindings;e.hostBindings=n?(i,l)=>{t(i,l),n(i,l)}:t}xt.THROW_IF_NOT_FOUND=Ks,xt.NULL=new Xp,xt.\u0275prov=mt({token:xt,providedIn:"any",factory:()=>Rt(gu)}),xt.__NG_ELEMENT_ID__=-1;let Ed=null;function $l(){if(!Ed){const e=At.Symbol;if(e&&e.iterator)Ed=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ed=i)}}}return Ed}function Gl(e){return!!Dh(e)&&(Array.isArray(e)||!(e instanceof Map)&&$l()in e)}function Dh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ti(e,t,n){return e[t]=n}function zt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function wh(e,t,n,i){const l=ge();return zt(l,ii(),t)&&(ft(),to(en(),l,e,t,n,i)),wh}function Eu(e,t,n,i){return zt(e,ii(),n)?t+ve(n)+i:tt}function s(e,t,n,i,l,f,g,_){const y=ge(),b=ft(),T=e+20,S=b.firstCreatePass?function(e,t,n,i,l,f,g,_,y){const b=t.consts,T=la(t,e,4,g||null,Pi(b,_));pd(t,n,T,Pi(b,y)),Li(t,T);const S=T.tViews=fd(2,T,i,l,f,t.directiveRegistry,t.pipeRegistry,null,t.schemas,b);return null!==t.queries&&(t.queries.template(t,T),S.queries=t.queries.embeddedTView(T)),T}(T,b,y,t,n,i,l,f,g):b.data[T];Fn(S,!1);const x=y[11].createComment("");Pe(b,y,x,S),wn(x,y),fa(y,y[T]=Gp(x,y,x,S)),ya(S)&&Qf(b,y,S),null!=g&&fu(y,S,_)}function Th(e,t=Re.Default){const n=ge();return null===n?Rt(e,t):Zs(qt(),n,O(e),t)}function T_(e,t,n){const i=ge();return zt(i,ii(),t)&&Fr(ft(),en(),i,e,t,i[11],n,!1),T_}function I_(e,t,n,i,l){const g=l?"class":"style";Kp(e,n,t.inputs[g],g,i)}function A_(e,t,n,i){const l=ge(),f=ft(),g=20+e,_=l[11],y=l[g]=ou(_,t,We.lFrame.currentNamespace),b=f.firstCreatePass?function(e,t,n,i,l,f,g){const _=t.consts,b=la(t,e,2,l,Pi(_,f));return pd(t,n,b,Pi(_,g)),null!==b.attrs&&pu(b,b.attrs,!1),null!==b.mergedAttrs&&pu(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(g,f,l,0,t,n,i):f.data[g];Fn(b,!0);const T=b.mergedAttrs;null!==T&&Gu(_,y,T);const S=b.classes;null!==S&&Rl(_,y,S);const x=b.styles;null!==x&&Ji(_,y,x),64!=(64&b.flags)&&Pe(f,l,y,b),0===We.lFrame.elementDepthCount&&wn(y,l),We.lFrame.elementDepthCount++,ya(b)&&(Qf(f,l,b),dd(f,b,l)),null!==i&&fu(l,b)}function S_(){let e=qt();Bs()?js():(e=e.parent,Fn(e,!1));const t=e;We.lFrame.elementDepthCount--;const n=ft();n.firstCreatePass&&(Li(n,e),xs(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&I_(n,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&I_(n,t,ge(),t.stylesWithoutHost,!1)}function dy(e,t,n,i){A_(e,t,n,i),S_()}function M_(e,t,n){const i=ge(),l=ft(),f=e+20,g=l.firstCreatePass?function(e,t,n,i,l){const f=t.consts,g=Pi(f,i),_=la(t,e,8,"ng-container",g);return null!==g&&pu(_,g,!0),pd(t,n,_,Pi(f,l)),null!==t.queries&&t.queries.elementStart(t,_),_}(f,l,i,t,n):l.data[f];Fn(g,!0);const _=i[f]=i[11].createComment("");Pe(l,i,_,g),wn(_,i),ya(g)&&(Qf(l,i,g),dd(l,g,i)),null!=n&&fu(i,g)}function R_(){let e=qt();const t=ft();Bs()?js():(e=e.parent,Fn(e,!1)),t.firstCreatePass&&(Li(t,e),xs(e)&&t.queries.elementEnd(e))}function fy(){return ge()}function x_(e){return!!e&&"function"==typeof e.then}function hy(e){return!!e&&"function"==typeof e.subscribe}const N_=hy;function O_(e,t,n,i){const l=ge(),f=ft(),g=qt();return function(e,t,n,i,l,f,g,_){const y=ya(i),T=e.firstCreatePass&&Zp(e),S=t[8],x=uh(t);let L=!0;if(3&i.type||_){const K=dr(i,t),Ce=_?_(K):K,fe=x.length,Be=_?Je=>_(Ft(Je[i.index])):i.index;if(Ht(n)){let Je=null;if(!_&&y&&(Je=function(e,t,n,i){const l=e.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const g=l[f];if(g===n&&l[f+1]===i){const _=t[7],y=l[f+2];return _.length>y?_[y]:null}"string"==typeof g&&(f+=2)}return null}(e,t,l,i.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=f,Je.__ngLastListenerFn__=f,L=!1;else{f=P_(i,t,S,f,!1);const yt=n.listen(Ce,l,f);x.push(f,yt),T&&T.push(l,Be,fe,fe+1)}}else f=P_(i,t,S,f,!0),Ce.addEventListener(l,f,g),x.push(f),T&&T.push(l,Be,fe,g)}else f=P_(i,t,S,f,!1);const j=i.outputs;let oe;if(L&&null!==j&&(oe=j[l])){const K=oe.length;if(K)for(let Ce=0;Ce<K;Ce+=2){const jn=t[oe[Ce]][oe[Ce+1]].subscribe(f),oo=x.length;x.push(f,jn),T&&T.push(l,i.index,oo,-(oo+1))}}}(f,l,l[11],g,e,t,!!n,i),O_}function my(e,t,n,i){try{return!1!==n(i)}catch(l){return Qp(e,l),!1}}function P_(e,t,n,i,l){return function f(g){if(g===Function)return i;const _=2&e.flags?Wn(e.index,t):t;0==(32&t[2])&&oh(_);let y=my(t,0,i,g),b=f.__ngNextListenerFn__;for(;b;)y=my(t,0,b,g)&&y,b=b.__ngNextListenerFn__;return l&&!1===y&&(g.preventDefault(),g.returnValue=!1),y}}function _y(e=1){return function(e){return(We.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,We.lFrame.contextLView))[8]}(e)}function F_(e,t,n){return k_(e,"",t,"",n),F_}function k_(e,t,n,i,l){const f=ge(),g=Eu(f,t,n,i);return g!==tt&&Fr(ft(),en(),f,e,g,f[11],l,!1),k_}function Iy(e,t,n,i,l){const f=e[n+1],g=null===t;let _=i?Ei(f):Xi(f),y=!1;for(;0!==_&&(!1===y||g);){const T=e[_+1];d0(e[_],t)&&(y=!0,e[_+1]=i?Kr(T):sd(T)),_=i?Ei(T):Xi(T)}y&&(e[n+1]=i?sd(f):Kr(f))}function d0(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wo(e,t)>=0}function L_(e,t){return function(e,t,n,i){const l=ge(),f=ft(),g=function(e){const t=We.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);f.firstUpdatePass&&function(e,t,n,i){const l=e.data;if(null===l[n+1]){const f=l[hn()],g=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(f,i)&&null===t&&!g&&(t=!1),t=function(e,t,n,i){const l=function(e){const t=We.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let f=i?t.residualClasses:t.residualStyles;if(null===l)0===(i?t.classBindings:t.styleBindings)&&(n=Ih(n=V_(null,e,t,n,i),t.attrs,i),f=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(n=V_(l,e,t,n,i),null===f){let y=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Xi(i))return e[Ei(i)]}(e,t,i);void 0!==y&&Array.isArray(y)&&(y=V_(null,e,t,y[1],i),y=Ih(y,t.attrs,i),function(e,t,n,i){e[Ei(n?t.classBindings:t.styleBindings)]=i}(e,t,i,y))}else f=function(e,t,n){let i;const l=t.directiveEnd;for(let f=1+t.directiveStylingLast;f<l;f++)i=Ih(i,e[f].hostAttrs,n);return Ih(i,t.attrs,n)}(e,t,i)}return void 0!==f&&(i?t.residualClasses=f:t.residualStyles=f),n}(l,f,t,i),function(e,t,n,i,l,f){let g=f?t.classBindings:t.styleBindings,_=Ei(g),y=Xi(g);e[i]=n;let T,b=!1;if(Array.isArray(n)){const S=n;T=S[1],(null===T||wo(S,T)>0)&&(b=!0)}else T=n;if(l)if(0!==y){const x=Ei(e[_+1]);e[i+1]=od(x,_),0!==x&&(e[x+1]=Ip(e[x+1],i)),e[_+1]=function(e,t){return 131071&e|t<<17}(e[_+1],i)}else e[i+1]=od(_,0),0!==_&&(e[_+1]=Ip(e[_+1],i)),_=i;else e[i+1]=od(y,0),0===_?_=i:e[y+1]=Ip(e[y+1],i),y=i;b&&(e[i+1]=sd(e[i+1])),Iy(e,T,i,!0),Iy(e,T,i,!1),function(e,t,n,i,l){const f=l?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof t&&wo(f,t)>=0&&(n[i+1]=Kr(n[i+1]))}(t,T,e,i,f),g=od(_,y),f?t.classBindings=g:t.styleBindings=g}(l,f,t,n,g,i)}}(f,e,g,i),t!==tt&&zt(l,g,t)&&function(e,t,n,i,l,f,g,_){if(!(3&t.type))return;const y=e.data,b=y[_+1];Rg(function(e){return 1==(1&e)}(b)?Vy(y,t,n,l,Xi(b),g):void 0)||(Rg(f)||function(e){return 2==(2&e)}(b)&&(f=Vy(y,null,n,l,_,g)),function(e,t,n,i,l){const f=Ht(e);if(t)l?f?e.addClass(n,i):n.classList.add(i):f?e.removeClass(n,i):n.classList.remove(i);else{let g=-1===i.indexOf("-")?void 0:Qr.DashCase;if(null==l)f?e.removeStyle(n,i,g):n.style.removeProperty(i);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),g|=Qr.Important),f?e.setStyle(n,i,l,g):n.style.setProperty(i,l,_?"important":"")}}}(i,g,Jo(hn(),n),l,f))}(f,f.data[hn()],l,l[11],e,l[g+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Q(Zr(e)))),e}(t,n),i,g)}(e,t,null,!0),L_}function V_(e,t,n,i,l){let f=null;const g=n.directiveEnd;let _=n.directiveStylingLast;for(-1===_?_=n.directiveStart:_++;_<g&&(f=t[_],i=Ih(i,f.hostAttrs,l),f!==e);)_++;return null!==e&&(n.directiveStylingLast=_),i}function Ih(e,t,n){const i=n?1:2;let l=-1;if(null!==t)for(let f=0;f<t.length;f++){const g=t[f];"number"==typeof g?l=g:l===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),In(e,g,!!n||t[++f]))}return void 0===e?null:e}function Vy(e,t,n,i,l,f){const g=null===t;let _;for(;l>0;){const y=e[l],b=Array.isArray(y),T=b?y[1]:y,S=null===T;let x=n[l+1];x===tt&&(x=S?V:void 0);let L=S?Sr(x,i):T===i?x:void 0;if(b&&!Rg(L)&&(L=Sr(y,i)),Rg(L)&&(_=L,g))return _;const j=e[l+1];l=g?Ei(j):Xi(j)}if(null!==t){let y=f?t.residualClasses:t.residualStyles;null!=y&&(_=Sr(y,i))}return _}function Rg(e){return void 0!==e}function By(e,t=""){const n=ge(),i=ft(),l=e+20,f=i.firstCreatePass?la(i,l,1,t,null):i.data[l],g=n[l]=function(e,t){return Ht(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Pe(i,n,g,f),Fn(f,!1)}function U_(e){return xg("",e,""),U_}function xg(e,t,n){const i=ge(),l=Eu(i,e,t,n);return l!==tt&&Lo(i,hn(),l),xg}function B_(e,t,n){const i=ge();return zt(i,ii(),t)&&Fr(ft(),en(),i,e,t,i[11],n,!0),B_}const Yl=void 0;var z0=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Td={};function j_(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=sC(t);if(n)return n;const i=t.split("-")[0];if(n=sC(i),n)return n;if("en"===i)return z0;throw new Error(`Missing locale data for the locale "${e}".`)}function oC(e){return j_(e)[Ke.PluralCase]}function sC(e){return e in Td||(Td[e]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[e]),Td[e]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const Ng="en-US";let aC=Ng;function H_(e){ke(e,"Expected localeId to be defined"),"string"==typeof e&&(aC=e.toLowerCase().replace(/_/g,"-"))}function W_(e,t,n,i,l){if(e=O(e),Array.isArray(e))for(let f=0;f<e.length;f++)W_(e[f],t,n,i,l);else{const f=ft(),g=ge();let _=_u(e)?e:O(e.provide),y=ng(e);const b=qt(),T=1048575&b.providerIndexes,S=b.directiveStart,x=b.providerIndexes>>20;if(_u(e)||!e.multi){const L=new es(y,l,Th),j=Y_(_,t,l?T:T+x,S);-1===j?(yo(ts(b,g),f,_),z_(f,e,t.length),t.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(L),g.push(L)):(n[j]=L,g[j]=L)}else{const L=Y_(_,t,T+x,S),j=Y_(_,t,T,T+x),oe=L>=0&&n[L],K=j>=0&&n[j];if(l&&!K||!l&&!oe){yo(ts(b,g),f,_);const Ce=function(e,t,n,i,l){const f=new es(e,n,Th);return f.multi=[],f.index=t,f.componentProviders=0,xC(f,l,i&&!n),f}(l?$D:HD,n.length,l,i,y);!l&&K&&(n[j].providerFactory=Ce),z_(f,e,t.length,0),t.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(Ce),g.push(Ce)}else z_(f,e,L>-1?L:j,xC(n[l?j:L],y,!l&&i));!l&&i&&K&&n[j].componentProviders++}}}function z_(e,t,n,i){const l=_u(t);if(l||function(e){return!!e.useClass}(t)){const g=(t.useClass||t).prototype.ngOnDestroy;if(g){const _=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const y=_.indexOf(n);-1===y?_.push(n,[i,g]):_[y+1].push(i,g)}else _.push(n,g)}}}function xC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Y_(e,t,n,i){for(let l=n;l<i;l++)if(t[l]===e)return l;return-1}function HD(e,t,n,i){return Z_(this.multi,[])}function $D(e,t,n,i){const l=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Hi(n,n[1],this.providerFactory.index,i);f=_.slice(0,g),Z_(l,f);for(let y=g;y<_.length;y++)f.push(_[y])}else f=[],Z_(l,f);return f}function Z_(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function NC(e,t=[]){return n=>{n.providersResolver=(i,l)=>function(e,t,n){const i=ft();if(i.firstCreatePass){const l=$r(e);W_(n,i.data,i.blueprint,l,!0),W_(t,i.data,i.blueprint,l,!1)}}(i,l?l(e):e,t)}}class OC{}const FC="ngComponent";class zD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Q(e)}. Did you add it to @NgModule.entryComponents?`);return t[FC]=e,t}(t)}}class Zl{}function Lg(...e){}function Ad(e,t){return new Is(dr(e,t))}Zl.NULL=new zD;const qD=function(){return Ad(qt(),ge())};let Is=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qD,e})();function kC(e){return e instanceof Is?e.nativeElement:e}class Vg{}let QD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>JD(),e})();const JD=function(){const e=ge(),n=Wn(qt().index,e);return function(e){return e[11]}(Yt(n)?n:e)};let Q_=(()=>{class e{}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>null}),e})();class LC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const K_=new LC("12.2.2");class VC{constructor(){}supports(t){return Gl(t)}create(t){return new nw(t)}}const tw=(e,t)=>t;class nw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,l=0,f=null;for(;n||i;){const g=!i||n&&n.currentIndex<BC(i,l,f)?n:i,_=BC(g,l,f),y=g.currentIndex;if(g===i)l--,i=i._nextRemoved;else if(n=n._next,null==g.previousIndex)l++;else{f||(f=[]);const b=_-l,T=y-l;if(b!=T){for(let x=0;x<b;x++){const L=x<f.length?f[x]:f[x]=0,j=L+x;T<=j&&j<b&&(f[x]=L+1)}f[g.previousIndex]=T-b}}_!==y&&t(g,_,y)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Gl(t))throw new Error(`Error trying to diff '${Q(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,g,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)f=t[_],g=this._trackByFn(_,f),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,f,g,_)),Object.is(n.item,f)||this._addIdentityChange(n,f)):(n=this._mismatch(n,f,g,_),i=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$l()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,_=>{g=this._trackByFn(l,_),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,_,g,l)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,g,l),i=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,f,l)):t=this._addAfter(new rw(n,i),f,l),t}_verifyReinsertion(t,n,i,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new UC),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class UC{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new iw,this.map.set(n,i)),i.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BC(e,t,n){const i=e.previousIndex;if(null===i)return i;let l=0;return n&&i<n.length&&(l=n[i]),i+t+l}class jC{constructor(){}supports(t){return t instanceof Map||Dh(t)}create(){return new ow}}class ow{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Dh(t)))throw new Error(`Error trying to diff '${Q(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const f=this._getOrCreateRecordForKey(l,i);n=this._insertBeforeOrAppend(n,f)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const f=l._prev,g=l._next;return f&&(f._next=g),g&&(g._prev=f),l._next=null,l._prev=null,l}const i=new sw(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class sw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HC(){return new Ug([new VC])}let Ug=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||HC()),deps:[[e,new pi,new Mr]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:HC}),e})();function $C(){return new Bg([new jC])}let Bg=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||$C()),deps:[[e,new pi,new Mr]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:$C}),e})();function jg(e,t,n,i,l=!1){for(;null!==n;){const f=t[n.index];if(null!==f&&i.push(Ft(f)),cr(f))for(let _=10;_<f.length;_++){const y=f[_],b=y[1].firstChild;null!==b&&jg(y[1],y,b,i)}const g=n.type;if(8&g)jg(e,t,n.child,i);else if(32&g){const _=Ki(n,t);let y;for(;y=_();)i.push(y)}else if(16&g){const _=ir(t,n);if(Array.isArray(_))i.push(..._);else{const y=vr(t[16]);jg(y[1],y,_,i,!0)}}n=l?n.projectionNext:n.next}return i}class xh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return jg(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cr(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Ml(t,i),is(n,i))}this._attachedToViewContainer=!1}u(this._lView[1],this._lView)}onDestroy(t){hd(this._lView[1],this._lView,null,t)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ah(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ri(!0);try{ah(e,t,n)}finally{ri(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,pn(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class uw extends xh{constructor(t){super(t),this._view=t}detectChanges(){Ll(this._view)}checkNoChanges(){!function(e){ri(!0);try{Ll(e)}finally{ri(!1)}}(this._view)}get context(){return null}}const cw=function(e){return function(e,t,n){if(Pn(e)&&!n){const i=Wn(e.index,t);return new xh(i,i)}return 47&e.type?new xh(t[16],t):null}(qt(),ge(),16==(16&e))};let dw=(()=>{class e{}return e.__NG_ELEMENT_ID__=cw,e})();const pw=[new jC],mw=new Ug([new VC]),_w=new Bg(pw),yw=function(){return Hg(qt(),ge())};let Nh=(()=>{class e{}return e.__NG_ELEMENT_ID__=yw,e})();const Cw=Nh,Ew=class extends Cw{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=Mn(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(i[19]=f.createEmbeddedView(n)),du(n,i,t),new xh(i)}};function Hg(e,t){return 4&e.type?new Ew(t,e,Ad(e,t)):null}class ql{}class GC{}const ww=function(){return YC(qt(),ge())};let $g=(()=>{class e{}return e.__NG_ELEMENT_ID__=ww,e})();const Iw=$g,WC=class extends Iw{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Ad(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xn(this._hostTNode,this._hostLView);if(Aa(t)){const n=Ys(t,this._hostLView),i=_o(t);return new tr(n[1].data[i+8],n)}return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=zC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const l=t.createEmbeddedView(n||{});return this.insert(l,i),l}createComponent(t,n,i,l,f){const g=i||this.parentInjector;if(!f&&null==t.ngModule&&g){const y=g.get(ql,null);y&&(f=y)}const _=t.create(g,l,void 0,f);return this.insert(_.hostView,n),_}insert(t,n){const i=t._lView,l=i[1];if(cr(i[3])){const T=this.indexOf(t);if(-1!==T)this.detach(T);else{const S=i[3],x=new WC(S,S[6],S[3]);x.detach(x.indexOf(t))}}const f=this._adjustIndex(n),g=this._lContainer;!function(e,t,n,i){const l=10+i,f=n.length;i>0&&(n[l-1][4]=t),i<f-10?(t[4]=n[l],ci(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const _=t[19];null!==_&&_.insertView(e),t[2]|=128}(l,i,g,f);const _=vs(f,g),y=i[11],b=k(y,g[7]);return null!==b&&function(e,t,n,i,l,f){i[0]=l,i[6]=t,pn(e,i,n,1,l,f)}(l,g[6],y,i,b,_),t.attachToViewContainerRef(),ci(J_(g),f,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=zC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Ml(this._lContainer,n);i&&(is(J_(this._lContainer),n),u(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=Ml(this._lContainer,n);return i&&null!=is(J_(this._lContainer),n)?new xh(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function zC(e){return e[8]}function J_(e){return e[8]||(e[8]=[])}function YC(e,t){let n;const i=t[e.index];if(cr(i))n=i;else{let l;if(8&e.type)l=Ft(i);else{const f=t[11];l=f.createComment("");const g=dr(e,t);D(f,k(f,g),l,function(e,t){return Ht(e)?e.nextSibling(t):t.nextSibling}(f,g),!1)}t[e.index]=n=Gp(i,t,l,e),fa(t,n)}return new WC(n,e,t)}const xd={};class hE extends Zl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Tn(t);return new gE(n,this.ngModule)}}function pE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const bT=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>aa});class gE extends OC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(ht).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return pE(this.componentDef.inputs)}get outputs(){return pE(this.componentDef.outputs)}create(t,n,i,l){const f=(l=l||this.ngModule)?function(e,t){return{get:(n,i,l)=>{const f=e.get(n,xd,l);return f!==xd||i===xd?f:t.get(n,i,l)}}}(t,l.injector):t,g=f.get(Vg,Ze),_=f.get(Q_,null),y=g.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",T=i?function(e,t,n){if(Ht(e))return e.selectRootElement(t,n===xe.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(y,i,this.componentDef.encapsulation):ou(g.createRenderer(null,this.componentDef),b,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(b)),S=this.componentDef.onPush?576:528,x=function(e,t){return{components:[],scheduler:e||aa,clean:_d,playerHandler:t||null,flags:0}}(),L=fd(0,null,null,1,0,null,null,null,null,null),j=Mn(null,L,x,S,null,null,g,y,_,f);let oe,K;mo(j);try{const Ce=function(e,t,n,i,l,f){const g=n[1];n[20]=e;const y=la(g,20,2,"#host",null),b=y.mergedAttrs=t.hostAttrs;null!==b&&(pu(y,b,!0),null!==e&&(Gu(l,e,b),null!==y.classes&&Rl(l,e,y.classes),null!==y.styles&&Ji(l,e,y.styles)));const T=i.createRenderer(e,t),S=Mn(n,Kf(t),null,t.onPush?64:16,n[20],y,i,T,f||null,null);return g.firstCreatePass&&(yo(ts(y,n),g,t.type),ko(g,y),jp(y,n.length,1)),fa(n,S),n[20]=S}(T,this.componentDef,j,g,y);if(T)if(i)Gu(y,T,["ng-version",K_.full]);else{const{attrs:fe,classes:Be}=function(e){const t=[],n=[];let i=1,l=2;for(;i<e.length;){let f=e[i];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++i]):8===l&&n.push(f);else{if(!Ci(l))break;l=f}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);fe&&Gu(y,T,fe),Be&&Be.length>0&&Rl(y,T,Be.join(" "))}if(K=Ni(L,20),void 0!==n){const fe=K.projection=[];for(let Be=0;Be<this.ngContentSelectors.length;Be++){const Je=n[Be];fe.push(null!=Je?Array.from(Je):null)}}oe=function(e,t,n,i,l){const f=n[1],g=function(e,t,n){const i=qt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hp(e,i,t,Fo(e,t,1,null),n));const l=Hi(t,e,i.directiveStart,i);wn(l,t);const f=dr(i,t);return f&&wn(f,t),l}(f,n,t);if(i.components.push(g),e[8]=g,l&&l.forEach(y=>y(g,t)),t.contentQueries){const y=qt();t.contentQueries(1,g,y.directiveStart)}const _=qt();return!f.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(wr(_.index),nh(n[1],_,0,_.directiveStart,_.directiveEnd,t),Bp(t,g)),g}(Ce,this.componentDef,j,x,[vg]),du(L,j,null)}finally{oi()}return new TT(this.componentType,oe,Ad(K,j),j,K)}}class TT extends class{}{constructor(t,n,i,l,f){super(),this.location=i,this._rootLView=l,this._tNode=f,this.instance=n,this.hostView=this.changeDetectorRef=new uw(l),this.componentType=t}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Nd=new Map;class ST extends ql{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hE(this);const i=lr(t),l=t[Ge]||null;l&&H_(l),this._bootstrapComponents=Pr(i.bootstrap),this._r3Injector=tg(t,n,[{provide:ql,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],Q(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=xt.THROW_IF_NOT_FOUND,i=Re.Default){return t===xt||t===ql||t===gu?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dv extends GC{constructor(t){super(),this.moduleType=t,null!==lr(t)&&function(e){const t=new Set;!function n(i){const l=lr(i,!0),f=l.id;null!==f&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Q(t)} vs ${Q(t.name)}`)}(f,Nd.get(f),i),Nd.set(f,i));const g=Pr(l.imports);for(const _ of g)t.has(_)||(t.add(_),n(_))}(e)}(t)}create(t){return new ST(this.moduleType,t)}}function vE(e,t,n){const i=sn()+e,l=ge();return l[i]===tt?Ti(l,i,n?t.call(n):t()):function(e,t){return e[t]}(l,i)}function yE(e,t,n,i){return function(e,t,n,i,l,f){const g=t+n;return zt(e,g,l)?Ti(e,g+1,f?i.call(f,l):i(l)):function(e,t){const n=e[t];return n===tt?void 0:n}(e,g+1)}(ge(),sn(),e,t,n,i)}function fv(e){return t=>{setTimeout(e,void 0,t)}}const As=class extends p.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var l,f,g;let _=t,y=n||(()=>null),b=i;if(t&&"object"==typeof t){const S=t;_=null===(l=S.next)||void 0===l?void 0:l.bind(S),y=null===(f=S.error)||void 0===f?void 0:f.bind(S),b=null===(g=S.complete)||void 0===g?void 0:g.bind(S)}this.__isAsync&&(y=fv(y),_&&(_=fv(_)),b&&(b=fv(b)));const T=super.subscribe({next:_,error:y,complete:b});return t instanceof ie.w&&t.add(T),T}};function WT(){return this._results[$l()]()}class Zg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$l(),i=Zg.prototype;i[n]||(i[n]=WT)}get changes(){return this._changes||(this._changes=new As)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const l=Lt(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let l=e[i],f=t[i];if(n&&(l=n(l),f=n(f)),f!==l)return!1}return!0}(i._results,l,n))&&(i._results=l,i.length=l.length,i.last=l[this.length-1],i.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class hv{constructor(t){this.queryList=t,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let f=0;f<i;f++){const g=n.getByIndex(f);l.push(this.queries[g.indexInDeclarationView].clone())}return new pv(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==NE(t,n).matches&&this.queries[n].setDirty()}}class TE{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class gv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const l=null!==n?n.length:0,f=this.getByIndex(i).embeddedTView(t,l);f&&(f.indexInDeclarationView=i,null!==n?n.push(f):n=[f])}return null!==n?new gv(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new mv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let l=0;l<i.length;l++){const f=i[l];this.matchTNodeWithReadOption(t,n,ZT(n,f)),this.matchTNodeWithReadOption(t,n,ns(n,t,f,!1,!1))}else i===Nh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ns(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const l=this.metadata.read;if(null!==l)if(l===Is||l===$g||l===Nh&&4&n.type)this.addMatch(n.index,-2);else{const f=ns(n,t,l,!1,!1);null!==f&&this.addMatch(n.index,f)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ZT(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function QT(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Ad(e,t):4&e.type?Hg(e,t):null}(t,e):-2===n?function(e,t,n){return n===Is?Ad(t,e):n===Nh?Hg(t,e):n===$g?YC(t,e):void 0}(e,t,i):Hi(e,e[1],n,t)}function IE(e,t,n,i){const l=t[19].queries[i];if(null===l.matches){const f=e.data,g=n.matches,_=[];for(let y=0;y<g.length;y+=2){const b=g[y];_.push(b<0?null:QT(t,f[b],g[y+1],n.metadata.read))}l.matches=_}return l.matches}function _v(e,t,n,i){const l=e.queries.getByIndex(n),f=l.matches;if(null!==f){const g=IE(e,t,l,n);for(let _=0;_<f.length;_+=2){const y=f[_];if(y>0)i.push(g[_/2]);else{const b=f[_+1],T=t[-y];for(let S=10;S<T.length;S++){const x=T[S];x[17]===x[3]&&_v(x[1],x,b,i)}if(null!==T[9]){const S=T[9];for(let x=0;x<S.length;x++){const L=S[x];_v(L[1],L,b,i)}}}}}return i}function AE(e){const t=ge(),n=ft(),i=Ta();go(i+1);const l=NE(n,i);if(e.dirty&&cc(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const f=l.crossesNgTemplate?_v(n,t,i,[]):IE(n,t,l,i);e.reset(f,kC),e.notifyOnChanges()}return!0}return!1}function SE(e,t,n,i){const l=ft();if(l.firstCreatePass){const f=qt();(function(e,t,n){null===e.queries&&(e.queries=new gv),e.queries.track(new mv(t,n))})(l,new TE(t,n,i),f.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function(e,t,n){const i=new Zg(4==(4&n));hd(e,t,i,i.destroy),null===t[19]&&(t[19]=new pv),t[19].queries.push(new hv(i))}(l,ge(),n)}function ME(){return e=ge(),t=Ta(),e[19].queries[t].queryList;var e,t}function NE(e,t){return e.queries.getByIndex(t)}const Dv=new Tt("Application Initializer");let Pd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Lg,this.reject=Lg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,l)=>{this.resolve=i,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(x_(f))n.push(f);else if(N_(f)){const g=new Promise((_,y)=>{f.subscribe({complete:_,error:y})});n.push(g)}}Promise.all(n).then(()=>{i()}).catch(l=>{this.reject(l)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Rt(Dv,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const QE=new Tt("AppId"),SI={provide:QE,useFactory:function(){return`${wv()}${wv()}${wv()}`},deps:[]};function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KE=new Tt("Platform Initializer"),JE=new Tt("Platform ID"),XE=new Tt("appBootstrapListener");let eb=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const Kg=new Tt("LocaleId"),tb=new Tt("DefaultCurrencyCode");class RI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Tv=function(e){return new dv(e)},xI=Tv,NI=function(e){return Promise.resolve(Tv(e))},nb=function(e){const t=Tv(e),i=Pr(lr(e).declarations).reduce((l,f)=>{const g=Tn(f);return g&&l.push(new gE(g)),l},[]);return new RI(t,i)},OI=nb,PI=function(e){return Promise.resolve(nb(e))};let Gh=(()=>{class e{constructor(){this.compileModuleSync=xI,this.compileModuleAsync=NI,this.compileModuleAndAllComponentsSync=OI,this.compileModuleAndAllComponentsAsync=PI}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const LI=(()=>Promise.resolve(0))();function Iv(e){"undefined"==typeof Zone?LI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ai{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!i&&n,l.shouldCoalesceRunChangeDetection=i,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=At.requestAnimationFrame,t=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(At,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Sv(e),e.isCheckStableRunning=!0,Av(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Sv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,l,f,g,_)=>{try{return rb(e),n.invokeTask(l,f,g,_)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),ib(e)}},onInvoke:(n,i,l,f,g,_,y)=>{try{return rb(e),n.invoke(l,f,g,_,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),ib(e)}},onHasTask:(n,i,l,f)=>{n.hasTask(l,f),i===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Sv(e),Av(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(n,i,l,f)=>(n.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ai.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ai.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,l){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+l,t,UI,Lg,Lg);try{return f.runTask(g,n,i)}finally{f.cancelTask(g)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const UI={};function Av(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Sv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function rb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ib(e){e._nesting--,Av(e)}class HI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,l){return t.apply(n,i)}}let ob=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ai.assertNotInAngularZone(),Iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,l){let f=-1;i&&i>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:f,updateCb:l})}whenStable(n,i,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(Rt(Ai))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),sb=(()=>{class e{constructor(){this._applications=new Map,Mv.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Mv.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class $I{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}function GI(e){Mv=e}let Mv=new $I,ab=!0,ub=!1;function Rv(){return ub=!0,ab}function WI(){if(ub)throw new Error("Cannot enable prod mode after platform setup.");ab=!1}let $o;const lb=new Tt("AllowMultipleToken");class JI{constructor(t,n){this.name=t,this.token=n}}function cb(e,t,n=[]){const i=`Platform: ${t}`,l=new Tt(i);return(f=[])=>{let g=db();if(!g||g.injector.get(lb,!1))if(e)e(n.concat(f).concat({provide:l,useValue:!0}));else{const _=n.concat(f).concat({provide:l,useValue:!0},{provide:Ds,useValue:"platform"});!function(e){if($o&&!$o.destroyed&&!$o.injector.get(lb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$o=e.get(fb);const t=e.get(KE,null);t&&t.forEach(n=>n())}(xt.create({providers:_,name:i}))}return function(e){const t=db();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function db(){return $o&&!$o.destroyed?$o:null}let fb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const _=function(e,t){let n;return n="noop"===e?new HI:("zone.js"===e?void 0:e)||new Ai({enableLongStackTrace:Rv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),y=[{provide:Ai,useValue:_}];return _.run(()=>{const b=xt.create({providers:y,parent:this.injector,name:n.moduleType.name}),T=n.create(b),S=T.injector.get(_s,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const x=_.onError.subscribe({next:L=>{S.handleError(L)}});T.onDestroy(()=>{xv(this._modules,T),x.unsubscribe()})}),function(e,t,n){try{const i=n();return x_(i)?i.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(S,_,()=>{const x=T.injector.get(Pd);return x.runInitializers(),x.donePromise.then(()=>(H_(T.injector.get(Kg,Ng)||Ng),this._moduleDoBootstrap(T),T))})})}bootstrapModule(n,i=[]){const l=hb({},i);return function(e,t,n){const i=new dv(n);return Promise.resolve(i)}(0,0,n).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(n){const i=n.injector.get(Wh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>i.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Q(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Rt(xt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function hb(e,t){return Array.isArray(t)?t.reduce(hb,e):Object.assign(Object.assign({},e),t)}let Wh=(()=>{class e{constructor(n,i,l,f,g){this._zone=n,this._injector=i,this._exceptionHandler=l,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new I.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new I.y(b=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ai.assertNotInAngularZone(),Iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{T.unsubscribe(),S.unsubscribe()}});this.isStable=(0,W.T)(_,y.pipe((0,ue.B)()))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof OC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const f=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(ql),_=l.create(xt.NULL,[],i||l.selector,f),y=_.location.nativeElement,b=_.injector.get(ob,null),T=b&&_.injector.get(sb);return b&&T&&T.registerApplication(y,b),_.onDestroy(()=>{this.detachView(_.hostView),xv(this.components,_),T&&T.unregisterApplication(y)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;xv(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(XE,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Rt(Ai),Rt(xt),Rt(_s),Rt(Zl),Rt(Pd))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function xv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class iA{}class sA{}const aA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let uA=(()=>{class e{constructor(n,i){this._compiler=n,this._config=i||aA}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,l]=n.split("#");return void 0===l&&(l="default"),F(8255)(i).then(f=>f[l]).then(f=>_b(f,i,l)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(n){let[i,l]=n.split("#"),f="NgFactory";return void 0===l&&(l="default",f=""),F(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(g=>g[l+f]).then(g=>_b(g,i,l))}}return e.\u0275fac=function(n){return new(n||e)(Rt(Gh),Rt(sA,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function _b(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const mA=function(e){return null},vA=cb(null,"core",[{provide:JE,useValue:"unknown"},{provide:fb,deps:[xt]},{provide:sb,deps:[]},{provide:eb,deps:[]}]),DA=[{provide:Wh,useClass:Wh,deps:[Ai,xt,_s,Zl,Pd]},{provide:bT,deps:[Ai],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Pd,useClass:Pd,deps:[[new Mr,Dv]]},{provide:Gh,useClass:Gh,deps:[]},SI,{provide:Ug,useFactory:function(){return mw},deps:[]},{provide:Bg,useFactory:function(){return _w},deps:[]},{provide:Kg,useFactory:function(e){return H_(e=e||"undefined"!=typeof $localize&&$localize.locale||Ng),e},deps:[[new Yr(Kg),new Mr,new pi]]},{provide:tb,useValue:"USD"}];let TA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Rt(Wh))},e.\u0275mod=Nu({type:e}),e.\u0275inj=Kt({providers:DA}),e})()},57:(Fe,me,F)=>{"use strict";F.d(me,{hO:()=>It,xv:()=>Ie,Dh:()=>ce,HU:()=>H,GT:()=>se,sI:()=>Nt,on:()=>Ae,ss:()=>O,pX:()=>Z,yq:()=>Ye});var p=F(7771),ie=F(3637),I=F(3342),W=F(3101),ue=F(309),Y=F(7716),de=F(2329);function Q(){}Fe=F.hmd(Fe);class z{constructor(ne,re=p.N){this.zone=ne,this.delegate=re}now(){return this.delegate.now()}schedule(ne,re,X){const pe=this.zone;return this.delegate.schedule(function(je){pe.runGuarded(()=>{ne.apply(this,[je])})},re,X)}}class P{constructor(ne){this.zone=ne,this.task=null}call(ne,re){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Q,{},Q,Q)),re.pipe((0,I.b)({next:X,complete:X,error:X})).subscribe(ne).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class H{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new z(Zone.current)),this.insideAngular=ne.run(()=>new z(Zone.current,ie.z))}}function O(ee){return function(re){return(re=re.lift(new P(ee.ngZone))).pipe((0,W.R)(ee.outsideAngular),(0,ue.QV)(ee.insideAngular))}}const B=["ngOnDestroy"],Z=(ee,ne,re,X={})=>new Proxy(ee,{get:(pe,te)=>re.runOutsideAngular(()=>{var je;if(ee[te])return(null===(je=null==X?void 0:X.spy)||void 0===je?void 0:je.get)&&X.spy.get(te,ee[te]),ee[te];if(B.indexOf(te)>-1)return()=>{};const $e=ne.toPromise().then(Ot=>{const Le=Ot&&Ot[te];return"function"==typeof Le?Le.bind(Ot):Le&&Le.then?Le.then(ke=>re.run(()=>ke)):re.run(()=>Le)});return new Proxy(()=>{},{get:(Ot,Le)=>$e[Le],apply:(Ot,Le,ke)=>$e.then(Me=>{var Ne;const nt=Me&&Me(...ke);return(null===(Ne=null==X?void 0:X.spy)||void 0===Ne?void 0:Ne.apply)&&X.spy.apply(te,ke,nt),nt})})})}),se=(ee,ne)=>{ne.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(X=>{Object.defineProperty(ee.prototype,X,Object.getOwnPropertyDescriptor(re.prototype||re,X))})})},ce=new Y.OlP("angularfire2.app.options"),Ie=new Y.OlP("angularfire2.app.nameOrConfig"),ye=new Y.GfV("6.1.5");function Ae(ee,ne,re){const pe="object"==typeof re&&re||{};pe.name=pe.name||"string"==typeof re&&re||"[DEFAULT]";const je=de.Z.apps.filter($e=>$e&&$e.name===pe.name)[0]||ne.runOutsideAngular(()=>de.Z.initializeApp(ee,pe));try{JSON.stringify(ee)!==JSON.stringify(je.options)&&we("error",`${je.name} Firebase App already initialized with different options${Fe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return je}const Ye=()=>{we("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},we=(ee,...ne)=>{(0,Y.X6Q)()&&"undefined"!=typeof console&&console[ee](...ne)};function Nt(ee,ne,re,X,pe){const[te,...je]=globalThis.\u0275AngularfireInstanceCache.get(ee)||[];if(te){try{pe.some(($e,Ot)=>{const Le=je[Ot];return $e&&"object"==typeof $e?JSON.stringify($e)!==JSON.stringify(Le):$e!==Le})&&we("error",`${ne} was already initialized on the ${re.name} Firebase App instance with different settings.${Fe.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch($e){}return te}{const $e=X();return globalThis.\u0275AngularfireInstanceCache.set(ee,[$e,...pe]),$e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const vt={provide:class{},useFactory:Ae,deps:[ce,Y.R0b,[new Y.FiY,Ie]]};let It=(()=>{class ee{constructor(re){de.Z.registerVersion("angularfire",ye.full,re.toString()),de.Z.registerVersion("angular",Y.q4F.full)}static initializeApp(re,X){return{ngModule:ee,providers:[{provide:ce,useValue:re},{provide:Ie,useValue:X}]}}}return ee.\u0275fac=function(re){return new(re||ee)(Y.LFG(Y.Lbi))},ee.\u0275mod=Y.oAB({type:ee}),ee.\u0275inj=Y.cJS({providers:[vt]}),ee})()},9759:(Fe,me,F)=>{"use strict";F.d(me,{Z:()=>ke});var ue,we,p=F(4762),ie=F(4685),I=F(6034),W=F(300),Y=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),de=new ie.LL("app","Firebase",Y),Q="@firebase/app",Ct="[DEFAULT]",Nt=((we={})[Q]="fire-core",we["@firebase/analytics"]="fire-analytics",we["@firebase/app-check"]="fire-app-check",we["@firebase/auth"]="fire-auth",we["@firebase/database"]="fire-rtdb",we["@firebase/functions"]="fire-fn",we["@firebase/installations"]="fire-iid",we["@firebase/messaging"]="fire-fcm",we["@firebase/performance"]="fire-perf",we["@firebase/remote-config"]="fire-rc",we["@firebase/storage"]="fire-gcs",we["@firebase/firestore"]="fire-fst",we["fire-js"]="fire-js",we["firebase-wrapper"]="fire-js-all",we),vt=new W.Yd("@firebase/app"),It=function(){function Me(Ne,nt,Pt){var mt=this;this.firebase_=Pt,this.isDeleted_=!1,this.name_=nt.name,this.automaticDataCollectionEnabled_=nt.automaticDataCollectionEnabled||!1,this.options_=(0,ie.p$)(Ne),this.container=new I.H0(nt.name),this._addComponent(new I.wA("app",function(){return mt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(or){return mt._addComponent(or)})}return Object.defineProperty(Me.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Me.prototype.delete=function(){var Ne=this;return new Promise(function(nt){Ne.checkDestroyed_(),nt()}).then(function(){return Ne.firebase_.INTERNAL.removeApp(Ne.name_),Promise.all(Ne.container.getProviders().map(function(nt){return nt.delete()}))}).then(function(){Ne.isDeleted_=!0})},Me.prototype._getService=function(Ne,nt){var Pt;void 0===nt&&(nt=Ct),this.checkDestroyed_();var mt=this.container.getProvider(Ne);return!mt.isInitialized()&&"EXPLICIT"===(null===(Pt=mt.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:nt})},Me.prototype._removeServiceInstance=function(Ne,nt){void 0===nt&&(nt=Ct),this.container.getProvider(Ne).clearInstance(nt)},Me.prototype._addComponent=function(Ne){try{this.container.addComponent(Ne)}catch(nt){vt.debug("Component "+Ne.name+" failed to register with FirebaseApp "+this.name,nt)}},Me.prototype._addOrOverwriteComponent=function(Ne){this.container.addOrOverwriteComponent(Ne)},Me.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Me.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},Me}();It.prototype.name&&It.prototype.options||It.prototype.delete||console.log("dc");var X=function re(){var Me=function(Me){var Ne={},nt=new Map,Pt={__esModule:!0,initializeApp:function(pt,ot){void 0===ot&&(ot={}),("object"!=typeof ot||null===ot)&&(ot={name:ot});var En=ot;void 0===En.name&&(En.name=Ct);var Re=En.name;if("string"!=typeof Re||!Re)throw de.create("bad-app-name",{appName:String(Re)});if((0,ie.r3)(Ne,Re))throw de.create("duplicate-app",{appName:Re});var kt=new Me(pt,En,Pt);return Ne[Re]=kt,kt},app:or,registerVersion:function(pt,ot,Cn){var En,Re=null!==(En=Nt[pt])&&void 0!==En?En:pt;Cn&&(Re+="-"+Cn);var kt=Re.match(/\s|\//),on=ot.match(/\s|\//);if(kt||on){var tn=['Unable to register library "'+Re+'" with version "'+ot+'":'];return kt&&tn.push('library name "'+Re+'" contains illegal characters (whitespace or "/")'),kt&&on&&tn.push("and"),on&&tn.push('version name "'+ot+'" contains illegal characters (whitespace or "/")'),void vt.warn(tn.join(" "))}Er(new I.wA(Re+"-version",function(){return{library:Re,version:ot}},"VERSION"))},setLogLevel:W.Ub,onLog:function(pt,ot){if(null!==pt&&"function"!=typeof pt)throw de.create("invalid-log-argument");(0,W.Am)(pt,ot)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Er,removeApp:function(pt){delete Ne[pt]},components:nt,useAsService:function(pt,ot){return"serverAuth"===ot?null:ot}}};function or(pt){if(!(0,ie.r3)(Ne,pt=pt||Ct))throw de.create("no-app",{appName:pt});return Ne[pt]}function Er(pt){var ot=pt.name;if(nt.has(ot))return vt.debug("There were multiple attempts to register component "+ot+"."),"PUBLIC"===pt.type?Pt[ot]:null;if(nt.set(ot,pt),"PUBLIC"===pt.type){var Cn=function(on){if(void 0===on&&(on=or()),"function"!=typeof on[ot])throw de.create("invalid-app-argument",{appName:ot});return on[ot]()};void 0!==pt.serviceProps&&(0,ie.ZB)(Cn,pt.serviceProps),Pt[ot]=Cn,Me.prototype[ot]=function(){for(var on=[],tn=0;tn<arguments.length;tn++)on[tn]=arguments[tn];return this._getService.bind(this,ot).apply(this,pt.multipleInstances?on:[])}}for(var En=0,Re=Object.keys(Ne);En<Re.length;En++)Ne[Re[En]]._addComponent(pt);return"PUBLIC"===pt.type?Pt[ot]:null}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function(){return Object.keys(Ne).map(function(pt){return Ne[pt]})}}),or.App=Me,Pt}(It);return Me.INTERNAL=(0,p.pi)((0,p.pi)({},Me.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(nt){(0,ie.ZB)(Me,nt)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),Me}(),pe=function(){function Me(Ne){this.container=Ne}return Me.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(nt){if(function(Me){var Ne=Me.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(nt)){var Pt=nt.getImmediate();return Pt.library+"/"+Pt.version}return null}).filter(function(nt){return nt}).join(" ")},Me}();if((0,ie.jU)()&&void 0!==self.firebase){vt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&vt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ot=X.initializeApp;X.initializeApp=function(){for(var Me=[],Ne=0;Ne<arguments.length;Ne++)Me[Ne]=arguments[Ne];return(0,ie.UG)()&&vt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ot.apply(void 0,Me)};var Me,Le=X;(Me=Le).INTERNAL.registerComponent(new I.wA("platform-logger",function(nt){return new pe(nt)},"PRIVATE")),Me.registerVersion(Q,"0.6.29",undefined),Me.registerVersion("fire-js","");const ke=Le},6034:(Fe,me,F)=>{"use strict";F.d(me,{wA:()=>I,H0:()=>Q,zt:()=>ue});var p=F(4762),ie=F(4685),I=function(){function z(P,H,O){this.name=P,this.instanceFactory=H,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},z.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},z.prototype.setServiceProps=function(P){return this.serviceProps=P,this},z.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},z}(),W="[DEFAULT]",ue=function(){function z(P,H){this.name=P,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(P){var H=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(H)){var O=new ie.BH;if(this.instancesDeferred.set(H,O),this.isInitialized(H)||this.shouldAutoInitialize())try{var B=this.getOrInitializeService({instanceIdentifier:H});B&&O.resolve(B)}catch(Z){}}return this.instancesDeferred.get(H).promise},z.prototype.getImmediate=function(P){var H,O=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),B=null!==(H=null==P?void 0:P.optional)&&void 0!==H&&H;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(B)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(Z){if(B)return null;throw Z}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(P){var H,O;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:W})}catch(Ae){}try{for(var B=(0,p.XA)(this.instancesDeferred.entries()),Z=B.next();!Z.done;Z=B.next()){var se=(0,p.CR)(Z.value,2),Ie=se[1],ve=this.normalizeInstanceIdentifier(se[0]);try{var ye=this.getOrInitializeService({instanceIdentifier:ve});Ie.resolve(ye)}catch(Ae){}}}catch(Ae){H={error:Ae}}finally{try{Z&&!Z.done&&(O=B.return)&&O.call(B)}finally{if(H)throw H.error}}}},z.prototype.clearInstance=function(P){void 0===P&&(P=W),this.instancesDeferred.delete(P),this.instances.delete(P)},z.prototype.delete=function(){return(0,p.mG)(this,void 0,void 0,function(){var P;return(0,p.Jh)(this,function(H){switch(H.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,p.ev)((0,p.ev)([],(0,p.CR)(P.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,p.CR)(P.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return H.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(P){return void 0===P&&(P=W),this.instances.has(P)},z.prototype.initialize=function(P){var H,O;void 0===P&&(P={});var B=P.options,Z=void 0===B?{}:B,se=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(se))throw Error(this.name+"("+se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:se,options:Z});try{for(var Ie=(0,p.XA)(this.instancesDeferred.entries()),ve=Ie.next();!ve.done;ve=Ie.next()){var ye=(0,p.CR)(ve.value,2),Ye=ye[1];se===this.normalizeInstanceIdentifier(ye[0])&&Ye.resolve(ce)}}catch(Ct){H={error:Ct}}finally{try{ve&&!ve.done&&(O=Ie.return)&&O.call(Ie)}finally{if(H)throw H.error}}return ce},z.prototype.onInit=function(P,H){var O,B=this.normalizeInstanceIdentifier(H),Z=null!==(O=this.onInitCallbacks.get(B))&&void 0!==O?O:new Set;Z.add(P),this.onInitCallbacks.set(B,Z);var se=this.instances.get(B);return se&&P(se,B),function(){Z.delete(P)}},z.prototype.invokeOnInitCallbacks=function(P,H){var O,B,Z=this.onInitCallbacks.get(H);if(Z)try{for(var se=(0,p.XA)(Z),ce=se.next();!ce.done;ce=se.next()){var Ie=ce.value;try{Ie(P,H)}catch(ve){}}}catch(ve){O={error:ve}}finally{try{ce&&!ce.done&&(B=se.return)&&B.call(se)}finally{if(O)throw O.error}}},z.prototype.getOrInitializeService=function(P){var H=P.instanceIdentifier,O=P.options,B=void 0===O?{}:O,Z=this.instances.get(H);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:Y(H),options:B}),this.instances.set(H,Z),this.invokeOnInitCallbacks(Z,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Z)}catch(se){}return Z||null},z.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=W),this.component?this.component.multipleInstances?P:W:P},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function Y(z){return z===W?void 0:z}var Q=function(){function z(P){this.name=P,this.providers=new Map}return z.prototype.addComponent=function(P){var H=this.getProvider(P.name);if(H.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);H.setComponent(P)},z.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},z.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var H=new ue(P,this);return this.providers.set(P,H),H},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},9192:(Fe,me,F)=>{"use strict";var p=F(9759),ie=F(6034),I=F(4685),W=F(4762),ue=F(300);Fe=F.hmd(Fe);var Q="";function z(u){Q=u}var u,P=function(){function u(a){this.domStorage_=a,this.prefix_="firebase:"}return u.prototype.set=function(a,c){null==c?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,I.Pz)(c))},u.prototype.get=function(a){var c=this.domStorage_.getItem(this.prefixedName_(a));return null==c?null:(0,I.cI)(c)},u.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},u.prototype.prefixedName_=function(a){return this.prefix_+a},u.prototype.toString=function(){return this.domStorage_.toString()},u}(),H=function(){function u(){this.cache_={},this.isInMemoryStorage=!0}return u.prototype.set=function(a,c){null==c?delete this.cache_[a]:this.cache_[a]=c},u.prototype.get=function(a){return(0,I.r3)(this.cache_,a)?this.cache_[a]:null},u.prototype.remove=function(a){delete this.cache_[a]},u}(),O=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){var a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new P(a)}}catch(c){}return new H},B=O("localStorage"),Z=O("sessionStorage"),se=new ue.Yd("@firebase/database"),ce=(u=1,function(){return u++}),Ie=function(u){var a=(0,I.dS)(u),c=new I.gQ;c.update(a);var h=c.digest();return I.US.encodeByteArray(h)},ve=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];for(var c="",h=0;h<u.length;h++){var v=u[h];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?c+=ve.apply(null,v):c+="object"==typeof v?(0,I.Pz)(v):v,c+=" "}return c},ye=null,Ae=!0,Ye=function(u,a){(0,I.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(se.logLevel=ue.in.VERBOSE,ye=se.log.bind(se),a&&Z.set("logging_enabled",!0)):"function"==typeof u?ye=u:(ye=null,Z.remove("logging_enabled"))},we=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!0===Ae&&(Ae=!1,null===ye&&!0===Z.get("logging_enabled")&&Ye(!0)),ye){var c=ve.apply(null,u);ye(c)}},Ct=function(u){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];we.apply(void 0,(0,W.ev)([u],(0,W.CR)(a)))}},Nt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE INTERNAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.error(c)},vt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE FATAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));throw se.error(c),new Error(c)},It=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE WARNING: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.warn(c)},ne=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},X="[MIN_NAME]",pe="[MAX_NAME]",te=function(u,a){if(u===a)return 0;if(u===X||a===pe)return-1;if(a===X||u===pe)return 1;var c=mn(u),h=mn(a);return null!==c?null!==h?c-h==0?u.length-a.length:c-h:-1:null!==h?1:u<a?-1:1},je=function(u,a){return u===a?0:u<a?-1:1},$e=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,I.Pz)(a))},Ot=function(u){if("object"!=typeof u||null===u)return(0,I.Pz)(u);var a=[];for(var c in u)a.push(c);a.sort();for(var h="{",v=0;v<a.length;v++)0!==v&&(h+=","),h+=(0,I.Pz)(a[v]),h+=":",h+=Ot(u[a[v]]);return h+"}"},Le=function(u,a){var c=u.length;if(c<=a)return[u];for(var h=[],v=0;v<c;v+=a)h.push(u.substring(v,v+a>c?c:v+a));return h};function ke(u,a){for(var c in u)u.hasOwnProperty(c)&&a(c,u[c])}var Me=function(u){(0,I.hu)(!ne(u),"Invalid JSON number");var v,E,D,A,R,h=1023;0===u?(E=0,D=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(E=(A=Math.min(Math.floor(Math.log(u)/Math.LN2),h))+h,D=Math.round(u*Math.pow(2,52-A)-Math.pow(2,52))):(E=0,D=Math.round(u/Math.pow(2,-1074))));var N=[];for(R=52;R;R-=1)N.push(D%2?1:0),D=Math.floor(D/2);for(R=11;R;R-=1)N.push(E%2?1:0),E=Math.floor(E/2);N.push(v?1:0),N.reverse();var k=N.join(""),J="";for(R=0;R<64;R+=8){var le=parseInt(k.substr(R,8),2).toString(16);1===le.length&&(le="0"+le),J+=le}return J.toLowerCase()},mt=new RegExp("^-?(0*)\\d{1,10}$"),or=-2147483648,Kt=2147483647,mn=function(u){if(mt.test(u)){var a=Number(u);if(a>=or&&a<=Kt)return a}return null},Er=function(u){try{u()}catch(a){setTimeout(function(){throw It("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},Si=function(u,a){var c=setTimeout(u,a);return"object"==typeof c&&c.unref&&c.unref(),c},Ms=function(){function u(a,c){var h=this;this.appName_=a,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(function(v){return h.appCheck=v})}return u.prototype.getToken=function(a){var c=this;return this.appCheck?this.appCheck.getToken(a):new Promise(function(h,v){setTimeout(function(){c.appCheck?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(function(h){return h.addTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){It('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},u}(),pt=function(){function u(a,c,h){var v=this;this.appName_=a,this.firebaseOptions_=c,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(function(E){return v.auth_=E})}return u.prototype.getToken=function(a){var c=this;return this.auth_?this.auth_.getToken(a).catch(function(h){return h&&"auth/token-not-initialized"===h.code?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)}):new Promise(function(h,v){setTimeout(function(){c.auth_?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(function(c){return c.addAuthTokenListener(a)})},u.prototype.removeTokenChangeListener=function(a){this.authProvider_.get().then(function(c){return c.removeAuthTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';It(a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},u}(),ot=function(){function u(a){this.accessToken=a}return u.prototype.getToken=function(a){return Promise.resolve({accessToken:this.accessToken})},u.prototype.addTokenChangeListener=function(a){a(this.accessToken)},u.prototype.removeTokenChangeListener=function(a){},u.prototype.notifyForInvalidToken=function(){},u.OWNER="owner",u}(),tn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cn="websocket",Ru="long_polling",Jt=function(){function u(a,c,h,v,E,D,A){void 0===E&&(E=!1),void 0===D&&(D=""),void 0===A&&(A=!1),this.secure=c,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=E,this.persistenceKey=D,this.includeNamespaceInQueryParams=A,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=B.get("host:"+a)||this._host}return u.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},u.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(u.prototype,"host",{get:function(){return this._host},set:function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&B.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),u.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},u.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},u}();function Xe(u,a,c){var h;if((0,I.hu)("string"==typeof a,"typeof type must == string"),(0,I.hu)("object"==typeof c,"typeof params must == object"),a===cn)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==Ru)throw new Error("Unknown connection type: "+a);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(c.ns=u.namespace);var v=[];return ke(c,function(E,D){v.push(E+"="+D)}),h+v.join("&")}var xu=function(){function u(){this.counters_={}}return u.prototype.incrementCounter=function(a,c){void 0===c&&(c=1),(0,I.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=c},u.prototype.get=function(){return(0,I.p$)(this.counters_)},u}(),Mi={},ar={};function At(u){var a=u.toString();return Mi[a]||(Mi[a]=new xu),Mi[a]}var ec=function(){function u(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return u.prototype.closeAfter=function(a,c){this.closeAfterResponse=a,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},u.prototype.handleResponse=function(a,c){var h=this;this.pendingResponses[a]=c;for(var v=function(){var A=E.pendingResponses[E.currentResponseNum];delete E.pendingResponses[E.currentResponseNum];for(var R=function(k){A[k]&&Er(function(){h.onMessage_(A[k])})},N=0;N<A.length;++N)R(N);if(E.currentResponseNum===E.closeAfterResponse)return E.onClose&&(E.onClose(),E.onClose=null),"break";E.currentResponseNum++},E=this;this.pendingResponses[this.currentResponseNum]&&"break"!==v(););},u}(),U="start",V="close",_a=function(){function u(a,c,h,v,E,D,A){var R=this;this.connId=a,this.repoInfo=c,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.transportSessionId=D,this.lastSessionId=A,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ct(a),this.stats_=At(c),this.urlFn=function(N){return R.appCheckToken&&(N.ac=R.appCheckToken),Xe(c,Ru,N)}}return u.prototype.open=function(a,c){var h=this;this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new ec(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect."),h.onClosed_(),h.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,I.Yr)()||"complete"===document.readyState)u();else{var a=!1,c=function(){document.body?a||(a=!0,u()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(function(){if(!h.isClosed_){h.scriptTagHolder=new Ou(function(){for(var D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];var R=(0,W.CR)(D,5),N=R[0],k=R[1],J=R[2];if(h.incrementIncomingBytes_(D),h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),h.connectTimeoutTimer_=null),h.everConnected_=!0,N===U)h.id=k,h.password=J;else{if(N!==V)throw new Error("Unrecognized command received: "+N);k?(h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(k,function(){h.onClosed_()})):h.onClosed_()}},function(){for(var D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];var R=(0,W.CR)(D,2),N=R[0],k=R[1];h.incrementIncomingBytes_(D),h.myPacketOrderer.handleResponse(N,k)},function(){h.onClosed_()},h.urlFn);var v={start:"t"};v.ser=Math.floor(1e8*Math.random()),h.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=h.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",h.transportSessionId&&(v.s=h.transportSessionId),h.lastSessionId&&(v.ls=h.lastSessionId),h.applicationId&&(v.p=h.applicationId),h.appCheckToken&&(v.ac=h.appCheckToken),"undefined"!=typeof location&&location.hostname&&tn.test(location.hostname)&&(v.r="f");var E=h.urlFn(v);h.log_("Connecting via long-poll to "+E),h.scriptTagHolder.addTag(E,function(){})}})},u.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},u.forceAllow=function(){u.forceAllow_=!0},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){return!((0,I.Yr)()||!u.forceAllow_&&(u.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},u.prototype.markConnectionHealthy=function(){},u.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},u.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},u.prototype.send=function(a){var c=(0,I.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);for(var h=(0,I.h$)(c),v=Le(h,1840),E=0;E<v.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[E]),this.curSegmentNum++},u.prototype.addDisconnectPingFrame=function(a,c){if(!(0,I.Yr)()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};h.id=a,h.pw=c,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},u.prototype.incrementIncomingBytes_=function(a){var c=(0,I.Pz)(a).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)},u}(),Ou=function(){function u(a,c,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.Yr)())this.commandCB=a,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=ce(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=u.createIFrame_();var E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(E='<script>document.domain="'+document.domain+'";<\/script>');var A="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch(R){we("frame writing exception"),R.stack&&we(R.stack),we(R)}}}return u.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||we("No IE domain setting required")}catch(v){var h=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},u.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var c=this.onDisconnect;c&&(this.onDisconnect=null,c())},u.prototype.startLongPoll=function(a,c){for(this.myID=a,this.myPW=c,this.alive=!0;this.newRequest_(););},u.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var c=this.urlFn(a),h="",v=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){var D=this.pendingSegs.shift();h=h+"&seg"+v+"="+D.seg+"&ts"+v+"="+D.ts+"&d"+v+"="+D.d,v++}return this.addLongPollTag_(c+=h,this.currentSerial),!0}return!1},u.prototype.enqueueSegment=function(a,c,h){this.pendingSegs.push({seg:a,ts:c,d:h}),this.alive&&this.newRequest_()},u.prototype.addLongPollTag_=function(a,c){var h=this;this.outstandingRequests.add(c);var v=function(){h.outstandingRequests.delete(c),h.newRequest_()},E=setTimeout(v,Math.floor(25e3));this.addTag(a,function(){clearTimeout(E),v()})},u.prototype.addTag=function(a,c){var h=this;(0,I.Yr)()?this.doNodeLongPoll(a,c):setTimeout(function(){try{if(!h.sendNewPolls)return;var v=h.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=a,v.onload=v.onreadystatechange=function(){var E=v.readyState;(!E||"loaded"===E||"complete"===E)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=function(){we("Long-poll script failed to load: "+a),h.sendNewPolls=!1,h.close()},h.myIFrame.doc.body.appendChild(v)}catch(E){}},Math.floor(1))},u}(),Nn=null;"undefined"!=typeof MozWebSocket?Nn=MozWebSocket:"undefined"!=typeof WebSocket&&(Nn=WebSocket);var bn=function(){function u(a,c,h,v,E,D,A){this.connId=a,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ct(this.connId),this.stats_=At(c),this.connURL=u.connectionURL_(c,D,A,v),this.nodeAdmin=c.nodeAdmin}return u.connectionURL_=function(a,c,h,v){var E={v:"5"};return!(0,I.Yr)()&&"undefined"!=typeof location&&location.hostname&&tn.test(location.hostname)&&(E.r="f"),c&&(E.s=c),h&&(E.ls=h),v&&(E.ac=v),Xe(a,cn,E)},u.prototype.open=function(a,c){var h=this;this.onDisconnect=c,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,B.set("previous_websocket_failure",!0);try{if((0,I.Yr)()){var E={headers:{"User-Agent":"Firebase/5/"+Q+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(E.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);var D=process.env,A=0===this.connURL.indexOf("wss://")?D.HTTPS_PROXY||D.https_proxy:D.HTTP_PROXY||D.http_proxy;A&&(E.proxy={origin:A}),this.mySock=new Nn(this.connURL,[],E)}else this.mySock=new Nn(this.connURL,[],E={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(N){this.log_("Error instantiating WebSocket.");var R=N.message||N.data;return R&&this.log_(R),void this.onClosed_()}this.mySock.onopen=function(){h.log_("Websocket connected."),h.everConnected_=!0},this.mySock.onclose=function(){h.log_("Websocket connection was disconnected."),h.mySock=null,h.onClosed_()},this.mySock.onmessage=function(N){h.handleIncomingFrame(N)},this.mySock.onerror=function(N){h.log_("WebSocket error.  Closing connection.");var k=N.message||N.data;k&&h.log_(k),h.onClosed_()}},u.prototype.start=function(){},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(a=!0)}return!a&&null!==Nn&&!u.forceDisallow_},u.previouslyFailed=function(){return B.isInMemoryStorage||!0===B.get("previous_websocket_failure")},u.prototype.markConnectionHealthy=function(){B.remove("previous_websocket_failure")},u.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length===this.totalFrames){var c=this.frames.join("");this.frames=null;var h=(0,I.cI)(c);this.onMessage(h)}},u.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},u.prototype.extractFrameCount_=function(a){if((0,I.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){var c=Number(a);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),a},u.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var c=a.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{var h=this.extractFrameCount_(c);null!==h&&this.appendFrame_(h)}}},u.prototype.send=function(a){this.resetKeepAlive();var c=(0,I.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);var h=Le(c,16384);h.length>1&&this.sendString_(String(h.length));for(var v=0;v<h.length;v++)this.sendString_(h[v])},u.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},u.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},u.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},u.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u}(),lr=function(){function u(a){this.initTransports_(a)}return Object.defineProperty(u,"ALL_TRANSPORTS",{get:function(){return[_a,bn]},enumerable:!1,configurable:!0}),u.prototype.initTransports_=function(a){var c,h,v=bn&&bn.isAvailable(),E=v&&!bn.previouslyFailed();if(a.webSocketOnly&&(v||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[bn];else{var D=this.transports_=[];try{for(var A=(0,W.XA)(u.ALL_TRANSPORTS),R=A.next();!R.done;R=A.next()){var N=R.value;N&&N.isAvailable()&&D.push(N)}}catch(k){c={error:k}}finally{try{R&&!R.done&&(h=A.return)&&h.call(A)}finally{if(c)throw c.error}}}},u.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},u.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},u}(),Ri=function(){function u(a,c,h,v,E,D,A,R,N,k){this.id=a,this.repoInfo_=c,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=E,this.onMessage_=D,this.onReady_=A,this.onDisconnect_=R,this.onKill_=N,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ct("c:"+this.id+":"),this.transportManager_=new lr(c),this.log_("Connection created"),this.start_()}return u.prototype.start_=function(){var a=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(h,v)},Math.floor(0));var E=c.healthyTimeout||0;E>0&&(this.healthyTimeout_=Si(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&a.conn_.bytesReceived>102400?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&a.conn_.bytesSent>10240?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(E)))},u.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},u.prototype.disconnReceiver_=function(a){var c=this;return function(h){a===c.conn_?c.onConnectionLost_(h):a===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}},u.prototype.connReceiver_=function(a){var c=this;return function(h){2!==c.state_&&(a===c.rx_?c.onPrimaryMessageReceived_(h):a===c.secondaryConn_?c.onSecondaryMessageReceived_(h):c.log_("message on old connection"))}},u.prototype.sendRequest=function(a){this.sendData_({t:"d",d:a})},u.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},u.prototype.onSecondaryControl_=function(a){if("t"in a){var c=a.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},u.prototype.onSecondaryMessageReceived_=function(a){var c=$e("t",a),h=$e("d",a);if("c"===c)this.onSecondaryControl_(h);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(h)}},u.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},u.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},u.prototype.onPrimaryMessageReceived_=function(a){var c=$e("t",a),h=$e("d",a);"c"===c?this.onControl_(h):"d"===c&&this.onDataMessage_(h)},u.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},u.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},u.prototype.onControl_=function(a){var c=$e("t",a);if("d"in a){var h=a.d;if("h"===c)this.onHandshake_(h);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(h):"r"===c?this.onReset_(h):"e"===c?Nt("Server Error: "+h):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nt("Unknown control packet command: "+c)}},u.prototype.onHandshake_=function(a){var c=a.ts,h=a.v,v=a.h;this.sessionId=a.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==h&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())},u.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},u.prototype.startUpgrade_=function(a){var c=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,v),Si(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},Math.floor(6e4))},u.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())},u.prototype.onConnectionEstablished_=function(a,c){var h=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Si(function(){h.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},u.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},u.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()},u.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(B.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},u.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},u.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},u.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},u.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},u}(),va=function(){function u(){}return u.prototype.put=function(a,c,h,v){},u.prototype.merge=function(a,c,h,v){},u.prototype.refreshAuthToken=function(a){},u.prototype.refreshAppCheckToken=function(a){},u.prototype.onDisconnectPut=function(a,c,h){},u.prototype.onDisconnectMerge=function(a,c,h){},u.prototype.onDisconnectCancel=function(a,c){},u.prototype.reportStats=function(a){},u}(),Yo=function(){function u(a){this.allowedEvents_=a,this.listeners_={},(0,I.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}return u.prototype.trigger=function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(Array.isArray(this.listeners_[a]))for(var v=(0,W.ev)([],(0,W.CR)(this.listeners_[a])),E=0;E<v.length;E++)v[E].callback.apply(v[E].context,c)},u.prototype.on=function(a,c,h){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:c,context:h});var v=this.getInitialEvent(a);v&&c.apply(h,v)},u.prototype.off=function(a,c,h){this.validateEventType_(a);for(var v=this.listeners_[a]||[],E=0;E<v.length;E++)if(v[E].callback===c&&(!h||h===v[E].context))return void v.splice(E,1)},u.prototype.validateEventType_=function(a){(0,I.hu)(this.allowedEvents_.find(function(c){return c===a}),"Unknown event: "+a)},u}(),On=function(u){function a(){var c=u.call(this,["online"])||this;return c.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,I.uI)()&&(window.addEventListener("online",function(){c.online_||(c.online_=!0,c.trigger("online",!0))},!1),window.addEventListener("offline",function(){c.online_&&(c.online_=!1,c.trigger("online",!1))},!1)),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,I.hu)("online"===c,"Unknown event type: "+c),[this.online_]},a.prototype.currentlyOnline=function(){return this.online_},a}(Yo),st=function(){function u(a,c){if(void 0===c){this.pieces_=a.split("/");for(var h=0,v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=c}return u.prototype.toString=function(){for(var a="",c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(a+="/"+this.pieces_[c]);return a||"/"},u}();function Oe(){return new st("")}function at(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function xi(u){return u.pieces_.length-u.pieceNum_}function bt(u){var a=u.pieceNum_;return a<u.pieces_.length&&a++,new st(u.pieces_,a)}function Rs(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function jr(u,a){return void 0===a&&(a=0),u.pieces_.slice(u.pieceNum_+a)}function Hr(u){if(u.pieceNum_>=u.pieces_.length)return null;for(var a=[],c=u.pieceNum_;c<u.pieces_.length-1;c++)a.push(u.pieces_[c]);return new st(a,0)}function lt(u,a){for(var c=[],h=u.pieceNum_;h<u.pieces_.length;h++)c.push(u.pieces_[h]);if(a instanceof st)for(h=a.pieceNum_;h<a.pieces_.length;h++)c.push(a.pieces_[h]);else{var v=a.split("/");for(h=0;h<v.length;h++)v[h].length>0&&c.push(v[h])}return new st(c,0)}function ct(u){return u.pieceNum_>=u.pieces_.length}function Yt(u,a){var c=at(u),h=at(a);if(null===c)return a;if(c===h)return Yt(bt(u),bt(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function cr(u,a){for(var c=jr(u,0),h=jr(a,0),v=0;v<c.length&&v<h.length;v++){var E=te(c[v],h[v]);if(0!==E)return E}return c.length===h.length?0:c.length<h.length?-1:1}function xs(u,a){if(xi(u)!==xi(a))return!1;for(var c=u.pieceNum_,h=a.pieceNum_;c<=u.pieces_.length;c++,h++)if(u.pieces_[c]!==a.pieces_[h])return!1;return!0}function Pn(u,a){var c=u.pieceNum_,h=a.pieceNum_;if(xi(u)>xi(a))return!1;for(;c<u.pieces_.length;){if(u.pieces_[c]!==a.pieces_[h])return!1;++c,++h}return!0}var ya=function(a,c){this.errorPrefix_=c,this.parts_=jr(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(var h=0;h<this.parts_.length;h++)this.byteLength_+=(0,I.ug)(this.parts_[h]);Hd(this)};function Hd(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+co(u))}function co(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}var Fu,ku,$d=function(u){function a(){var h,v,c=u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(v="visibilitychange",h="hidden"):void 0!==document.mozHidden?(v="mozvisibilitychange",h="mozHidden"):void 0!==document.msHidden?(v="msvisibilitychange",h="msHidden"):void 0!==document.webkitHidden&&(v="webkitvisibilitychange",h="webkitHidden")),c.visible_=!0,v&&document.addEventListener(v,function(){var E=!document[h];E!==c.visible_&&(c.visible_=E,c.trigger("visible",E))},!1),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,I.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]},a}(Yo),Ca=1e3,Qo=function(u){function a(c,h,v,E,D,A,R,N){var k=u.call(this)||this;if(k.repoInfo_=c,k.applicationId_=h,k.onDataUpdate_=v,k.onConnectStatus_=E,k.onServerInfoUpdate_=D,k.authTokenProvider_=A,k.appCheckTokenProvider_=R,k.authOverride_=N,k.id=a.nextPersistentConnectionId_++,k.log_=Ct("p:"+k.id+":"),k.interruptReasons_={},k.listens=new Map,k.outstandingPuts_=[],k.outstandingGets_=[],k.outstandingPutCount_=0,k.outstandingGetCount_=0,k.onDisconnectRequestQueue_=[],k.connected_=!1,k.reconnectDelay_=Ca,k.maxReconnectDelay_=3e5,k.securityDebugCallback_=null,k.lastSessionId=null,k.establishConnectionTimer_=null,k.visible_=!1,k.requestCBHash_={},k.requestNumber_=0,k.realtime_=null,k.authToken_=null,k.appCheckToken_=null,k.forceTokenRefresh_=!1,k.invalidAuthTokenCount_=0,k.invalidAppCheckTokenCount_=0,k.firstConnection_=!0,k.lastConnectionAttemptTime_=null,k.lastConnectionEstablishedTime_=null,N&&!(0,I.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $d.getInstance().on("visible",k.onVisible_,k),-1===c.host.indexOf("fblocal")&&On.getInstance().on("online",k.onOnline_,k),k}return(0,W.ZT)(a,u),a.prototype.sendRequest=function(c,h,v){var E=++this.requestNumber_,D={r:E,a:c,b:h};this.log_((0,I.Pz)(D)),(0,I.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(D),v&&(this.requestCBHash_[E]=v)},a.prototype.get=function(c){var h=this;this.initConnection_();var v=new I.BH,E={p:c._path.toString(),q:c._queryObject},D={action:"g",request:E,onComplete:function(R){var N=R.d;"ok"===R.s?(h.onDataUpdate_(E.p,N,!1,null),v.resolve(N)):v.reject(N)}};this.outstandingGets_.push(D),this.outstandingGetCount_++;var A=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var R=h.outstandingGets_[A];void 0===R||D!==R||(delete h.outstandingGets_[A],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),h.log_("get "+A+" timed out on connection"),v.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(A),v.promise},a.prototype.listen=function(c,h,v,E){this.initConnection_();var D=c._queryIdentifier,A=c._path.toString();this.log_("Listen called for "+A+" "+D),this.listens.has(A)||this.listens.set(A,new Map),(0,I.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.hu)(!this.listens.get(A).has(D),"listen() called twice for same path/queryId.");var R={onComplete:E,hashFn:h,query:c,tag:v};this.listens.get(A).set(D,R),this.connected_&&this.sendListen_(R)},a.prototype.sendGet_=function(c){var h=this,v=this.outstandingGets_[c];this.sendRequest("g",v.request,function(E){delete h.outstandingGets_[c],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),v.onComplete&&v.onComplete(E)})},a.prototype.sendListen_=function(c){var h=this,v=c.query,E=v._path.toString(),D=v._queryIdentifier;this.log_("Listen on "+E+" for "+D);var A={p:E};c.tag&&(A.q=v._queryObject,A.t=c.tag),A.h=c.hashFn(),this.sendRequest("q",A,function(N){var k=N.d,J=N.s;a.warnOnListenWarnings_(k,v),(h.listens.get(E)&&h.listens.get(E).get(D))===c&&(h.log_("listen response",N),"ok"!==J&&h.removeListen_(E,D),c.onComplete&&c.onComplete(J,k))})},a.warnOnListenWarnings_=function(c,h){if(c&&"object"==typeof c&&(0,I.r3)(c,"w")){var v=(0,I.DV)(c,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){var E='".indexOn": "'+h._queryParams.getIndex().toString()+'"',D=h._path.toString();It("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+E+" at "+D+" to your security rules for better performance.")}}},a.prototype.refreshAuthToken=function(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(c)},a.prototype.reduceReconnectDelayIfAdminCredential_=function(c){(c&&40===c.length||(0,I.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},a.prototype.refreshAppCheckToken=function(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},a.prototype.tryAuth=function(){var c=this;if(this.connected_&&this.authToken_){var h=this.authToken_,v=(0,I.w9)(h)?"auth":"gauth",E={cred:h};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(v,E,function(D){var A=D.s,R=D.d||"error";c.authToken_===h&&("ok"===A?c.invalidAuthTokenCount_=0:c.onAuthRevoked_(A,R))})}},a.prototype.tryAppCheck=function(){var c=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(h){var v=h.s,E=h.d||"error";"ok"===v?c.invalidAppCheckTokenCount_=0:c.onAppCheckRevoked_(v,E)})},a.prototype.unlisten=function(c,h){var v=c._path.toString(),E=c._queryIdentifier;this.log_("Unlisten called for "+v+" "+E),(0,I.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,E)&&this.connected_&&this.sendUnlisten_(v,E,c._queryObject,h)},a.prototype.sendUnlisten_=function(c,h,v,E){this.log_("Unlisten on "+c+" for "+h);var D={p:c};E&&(D.q=v,D.t=E),this.sendRequest("n",D)},a.prototype.onDisconnectPut=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:h,onComplete:v})},a.prototype.onDisconnectMerge=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:h,onComplete:v})},a.prototype.onDisconnectCancel=function(c,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,h):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:h})},a.prototype.sendOnDisconnect_=function(c,h,v,E){var D={p:h,d:v};this.log_("onDisconnect "+c,D),this.sendRequest(c,D,function(A){E&&setTimeout(function(){E(A.s,A.d)},Math.floor(0))})},a.prototype.put=function(c,h,v,E){this.putInternal("p",c,h,v,E)},a.prototype.merge=function(c,h,v,E){this.putInternal("m",c,h,v,E)},a.prototype.putInternal=function(c,h,v,E,D){this.initConnection_();var A={p:h,d:v};void 0!==D&&(A.h=D),this.outstandingPuts_.push({action:c,request:A,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)},a.prototype.sendPut_=function(c){var h=this,v=this.outstandingPuts_[c].action,E=this.outstandingPuts_[c].request,D=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,E,function(A){h.log_(v+" response",A),delete h.outstandingPuts_[c],h.outstandingPutCount_--,0===h.outstandingPutCount_&&(h.outstandingPuts_=[]),D&&D(A.s,A.d)})},a.prototype.reportStats=function(c){var h=this;if(this.connected_){var v={c};this.log_("reportStats",v),this.sendRequest("s",v,function(E){"ok"!==E.s&&h.log_("reportStats","Error sending stats: "+E.d)})}},a.prototype.onDataMessage_=function(c){if("r"in c){this.log_("from server: "+(0,I.Pz)(c));var h=c.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}},a.prototype.onDataPush_=function(c,h){this.log_("handleServerMessage",c,h),"d"===c?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===c?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===c?this.onListenRevoked_(h.p,h.q):"ac"===c?this.onAuthRevoked_(h.s,h.d):"apc"===c?this.onAppCheckRevoked_(h.s,h.d):"sd"===c?this.onSecurityDebugPacket_(h):Nt("Unrecognized action received from server: "+(0,I.Pz)(c)+"\nAre you using the latest client?")},a.prototype.onReady_=function(c,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},a.prototype.scheduleConnect_=function(c){var h=this;(0,I.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){h.establishConnectionTimer_=null,h.establishConnection_()},Math.floor(c))},a.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},a.prototype.onVisible_=function(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)),this.visible_=c},a.prototype.onOnline_=function(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},a.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ca),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var h=(new Date).getTime()-this.lastConnectionAttemptTime_,v=Math.max(0,this.reconnectDelay_-h);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},a.prototype.establishConnection_=function(){return(0,W.mG)(this,void 0,void 0,function(){var c,h,v,E,D,A,R,N,J,le,_e,be,ze,Ve=this;return(0,W.Jh)(this,function(Pe){switch(Pe.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,c=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),E=this.id+":"+a.nextConnectionId_++,D=this.lastSessionId,A=!1,R=null,this.realtime_={close:N=function(){R?R.close():(A=!0,v())},sendRequest:function(Ut){(0,I.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(Ut)}},J=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Pe.label=1;case 1:return Pe.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(J),this.appCheckTokenProvider_.getToken(J)])];case 2:return le=W.CR.apply(void 0,[Pe.sent(),2]),_e=le[0],be=le[1],A?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=_e&&_e.accessToken,this.appCheckToken_=be&&be.token,R=new Ri(E,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,c,h,v,function(Ut){It(Ut+" ("+Ve.repoInfo_.toString()+")"),Ve.interrupt("server_kill")},D)),[3,4];case 3:return ze=Pe.sent(),this.log_("Failed to get token: "+ze),A||(this.repoInfo_.nodeAdmin&&It(ze),N()),[3,4];case 4:return[2]}})})},a.prototype.interrupt=function(c){we("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},a.prototype.resume=function(c){we("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,I.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0))},a.prototype.handleTimestamp_=function(c){var h=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})},a.prototype.cancelSentTransactions_=function(){for(var c=0;c<this.outstandingPuts_.length;c++){var h=this.outstandingPuts_[c];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},a.prototype.onListenRevoked_=function(c,h){var v;v=h?h.map(function(D){return Ot(D)}).join("$"):"default";var E=this.removeListen_(c,v);E&&E.onComplete&&E.onComplete("permission_denied")},a.prototype.removeListen_=function(c,h){var E,v=new st(c).toString();if(this.listens.has(v)){var D=this.listens.get(v);E=D.get(h),D.delete(h),0===D.size&&this.listens.delete(v)}else E=void 0;return E},a.prototype.onAuthRevoked_=function(c,h){we("Auth token revoked: "+c+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},a.prototype.onAppCheckRevoked_=function(c,h){we("App check token revoked: "+c+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},a.prototype.onSecurityDebugPacket_=function(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))},a.prototype.restoreState_=function(){var c,h,v,E;this.tryAuth(),this.tryAppCheck();try{for(var D=(0,W.XA)(this.listens.values()),A=D.next();!A.done;A=D.next()){var R=A.value;try{for(var N=(v=void 0,(0,W.XA)(R.values())),k=N.next();!k.done;k=N.next())this.sendListen_(k.value)}catch(be){v={error:be}}finally{try{k&&!k.done&&(E=N.return)&&E.call(N)}finally{if(v)throw v.error}}}}catch(be){c={error:be}}finally{try{A&&!A.done&&(h=D.return)&&h.call(D)}finally{if(c)throw c.error}}for(var le=0;le<this.outstandingPuts_.length;le++)this.outstandingPuts_[le]&&this.sendPut_(le);for(;this.onDisconnectRequestQueue_.length;){var _e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(_e.action,_e.pathString,_e.data,_e.onComplete)}for(le=0;le<this.outstandingGets_.length;le++)this.outstandingGets_[le]&&this.sendGet_(le)},a.prototype.sendConnectStats_=function(){var c={},h="js";(0,I.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+h+"."+Q.replace(/\./g,"-")]=1,(0,I.uI)()?c["framework.cordova"]=1:(0,I.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)},a.prototype.shouldReconnect_=function(){var c=On.getInstance().currentlyOnline();return(0,I.xb)(this.interruptReasons_)&&c},a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a}(va),gt=function(){function u(a,c){this.name=a,this.node=c}return u.Wrap=function(a,c){return new u(a,c)},u}(),Pu=function(){function u(){}return u.prototype.getCompare=function(){return this.compare.bind(this)},u.prototype.indexedValueChanged=function(a,c){var h=new gt(X,a),v=new gt(X,c);return 0!==this.compare(h,v)},u.prototype.minPost=function(){return gt.MIN},u}(),zd=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),Object.defineProperty(a,"__EMPTY_NODE",{get:function(){return Fu},set:function(c){Fu=c},enumerable:!1,configurable:!0}),a.prototype.compare=function(c,h){return te(c.name,h.name)},a.prototype.isDefinedOn=function(c){throw(0,I.g5)("KeyIndex.isDefinedOn not expected to be called.")},a.prototype.indexedValueChanged=function(c,h){return!1},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return new gt(pe,Fu)},a.prototype.makePost=function(c,h){return(0,I.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new gt(c,Fu)},a.prototype.toString=function(){return".key"},a}(Pu),Gr=new zd,Ns=function(){function u(a,c,h,v,E){void 0===E&&(E=null),this.isReverse_=v,this.resultGenerator_=E,this.nodeStack_=[];for(var D=1;!a.isEmpty();)if(a=a,D=c?h(a.key,c):1,v&&(D*=-1),D<0)a=this.isReverse_?a.left:a.right;else{if(0===D){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return u.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var c,a=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return c},u.prototype.hasNext=function(){return this.nodeStack_.length>0},u.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},u}(),Qn=function(){function u(a,c,h,v,E){this.key=a,this.value=c,this.color=null!=h?h:u.RED,this.left=null!=v?v:Wr.EMPTY_NODE,this.right=null!=E?E:Wr.EMPTY_NODE}return u.prototype.copy=function(a,c,h,v,E){return new u(null!=a?a:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=v?v:this.left,null!=E?E:this.right)},u.prototype.count=function(){return this.left.count()+1+this.right.count()},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},u.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},u.prototype.minKey=function(){return this.min_().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(a,c,h){var v=this,E=h(a,v.key);return(v=E<0?v.copy(null,null,null,v.left.insert(a,c,h),null):0===E?v.copy(null,c,null,null,null):v.copy(null,null,null,null,v.right.insert(a,c,h))).fixUp_()},u.prototype.removeMin_=function(){if(this.left.isEmpty())return Wr.EMPTY_NODE;var a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},u.prototype.remove=function(a,c){var h,v;if(c(a,(h=this).key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(a,c),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===c(a,h.key)){if(h.right.isEmpty())return Wr.EMPTY_NODE;v=h.right.min_(),h=h.copy(v.key,v.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(a,c))}return h.fixUp_()},u.prototype.isRed_=function(){return this.color},u.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},u.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},u.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},u.prototype.rotateLeft_=function(){var a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},u.prototype.rotateRight_=function(){var a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},u.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,c)},u.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},u.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},u.RED=!0,u.BLACK=!1,u}(),np=function(){function u(){}return u.prototype.copy=function(a,c,h,v,E){return this},u.prototype.insert=function(a,c,h){return new Qn(a,c,null)},u.prototype.remove=function(a,c){return this},u.prototype.count=function(){return 0},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(a){return!1},u.prototype.reverseTraversal=function(a){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.check_=function(){return 0},u.prototype.isRed_=function(){return!1},u}(),Wr=function(){function u(a,c){void 0===c&&(c=u.EMPTY_NODE),this.comparator_=a,this.root_=c}return u.prototype.insert=function(a,c){return new u(this.comparator_,this.root_.insert(a,c,this.comparator_).copy(null,null,Qn.BLACK,null,null))},u.prototype.remove=function(a){return new u(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,Qn.BLACK,null,null))},u.prototype.get=function(a){for(var c,h=this.root_;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key)))return h.value;c<0?h=h.left:c>0&&(h=h.right)}return null},u.prototype.getPredecessorKey=function(a){for(var c,h=this.root_,v=null;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key))){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}c<0?h=h.left:c>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},u.prototype.isEmpty=function(){return this.root_.isEmpty()},u.prototype.count=function(){return this.root_.count()},u.prototype.minKey=function(){return this.root_.minKey()},u.prototype.maxKey=function(){return this.root_.maxKey()},u.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},u.prototype.getIterator=function(a){return new Ns(this.root_,null,this.comparator_,!1,a)},u.prototype.getIteratorFrom=function(a,c){return new Ns(this.root_,a,this.comparator_,!1,c)},u.prototype.getReverseIteratorFrom=function(a,c){return new Ns(this.root_,a,this.comparator_,!0,c)},u.prototype.getReverseIterator=function(a){return new Ns(this.root_,null,this.comparator_,!0,a)},u.EMPTY_NODE=new np,u}();function rc(u,a){return te(u.name,a.name)}function ni(u,a){return te(u,a)}var oc,sc,ac,wa,Ko,Ea=function(u){return"number"==typeof u?"number:"+Me(u):"string:"+u},ic=function(u){if(u.isLeafNode()){var a=u.val();(0,I.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,I.r3)(a,".sv"),"Priority must be a string or number.")}else(0,I.hu)(u===ku||u.isEmpty(),"priority of unexpected type.");(0,I.hu)(u===ku||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},fo=function(){function u(a,c){void 0===c&&(c=u.__childrenNodeConstructor.EMPTY_NODE),this.value_=a,this.priorityNode_=c,this.lazyHash_=null,(0,I.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ic(this.priorityNode_)}return Object.defineProperty(u,"__childrenNodeConstructor",{get:function(){return oc},set:function(a){oc=a},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!0},u.prototype.getPriority=function(){return this.priorityNode_},u.prototype.updatePriority=function(a){return new u(this.value_,a)},u.prototype.getImmediateChild=function(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.getChild=function(a){return ct(a)?this:".priority"===at(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.hasChild=function(){return!1},u.prototype.getPredecessorChildName=function(a,c){return null},u.prototype.updateImmediateChild=function(a,c){return".priority"===a?this.updatePriority(c):c.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,c).updatePriority(this.priorityNode_)},u.prototype.updateChild=function(a,c){var h=at(a);return null===h?c:c.isEmpty()&&".priority"!==h?this:((0,I.hu)(".priority"!==h||1===xi(a),".priority must be the last token in a path"),this.updateImmediateChild(h,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(bt(a),c)))},u.prototype.isEmpty=function(){return!1},u.prototype.numChildren=function(){return 0},u.prototype.forEachChild=function(a,c){return!1},u.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+Ea(this.priorityNode_.val())+":");var c=typeof this.value_;a+=c+":",a+="number"===c?Me(this.value_):this.value_,this.lazyHash_=Ie(a)}return this.lazyHash_},u.prototype.getValue=function(){return this.value_},u.prototype.compareTo=function(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,I.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))},u.prototype.compareToLeafNode_=function(a){var c=typeof a.value_,h=typeof this.value_,v=u.VALUE_TYPE_ORDER.indexOf(c),E=u.VALUE_TYPE_ORDER.indexOf(h);return(0,I.hu)(v>=0,"Unknown leaf type: "+c),(0,I.hu)(E>=0,"Unknown leaf type: "+h),v===E?"object"===h?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:E-v},u.prototype.withIndex=function(){return this},u.prototype.isIndexed=function(){return!0},u.prototype.equals=function(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))},u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u}(),Mt=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.getPriority(),E=h.node.getPriority(),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.isDefinedOn=function(c){return!c.getPriority().isEmpty()},a.prototype.indexedValueChanged=function(c,h){return!c.getPriority().equals(h.getPriority())},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return new gt(pe,new fo("[PRIORITY-POST]",ac))},a.prototype.makePost=function(c,h){var v=sc(c);return new gt(h,new fo("[PRIORITY-POST]",v))},a.prototype.toString=function(){return".priority"},a}(Pu)),lc=Math.log(2),ba=function(){function u(a){this.count=parseInt(Math.log(a+1)/lc,10),this.current_=this.count-1;var v=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&v}return u.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},u}(),Da=function(u,a,c,h){u.sort(a);var v=function(R,N){var J,le,k=N-R;if(0===k)return null;if(1===k)return J=u[R],le=c?c(J):J,new Qn(le,J.node,Qn.BLACK,null,null);var _e=parseInt(k/2,10)+R,be=v(R,_e),ze=v(_e+1,N);return J=u[_e],le=c?c(J):J,new Qn(le,J.node,Qn.BLACK,be,ze)},A=function(R){for(var N=null,k=null,J=u.length,le=function(Pe,Ut){var ir=J-Pe,vs=J;J-=Pe;var au=v(ir+1,vs),ua=u[ir],pn=c?c(ua):ua;_e(new Qn(pn,ua.node,Ut,null,au))},_e=function(Pe){N?(N.left=Pe,N=Pe):(k=Pe,N=Pe)},be=0;be<R.count;++be){var ze=R.nextBitIsOne(),Ve=Math.pow(2,R.count-(be+1));ze?le(Ve,Qn.BLACK):(le(Ve,Qn.BLACK),le(Ve,Qn.RED))}return k}(new ba(u.length));return new Wr(h||a,A)},Os={},Ht=function(){function u(a,c){this.indexes_=a,this.indexSet_=c}return Object.defineProperty(u,"Default",{get:function(){return(0,I.hu)(Os&&Mt,"ChildrenNode.ts has not been loaded"),wa=wa||new u({".priority":Os},{".priority":Mt})},enumerable:!1,configurable:!0}),u.prototype.get=function(a){var c=(0,I.DV)(this.indexes_,a);if(!c)throw new Error("No index defined for "+a);return c instanceof Wr?c:null},u.prototype.hasIndex=function(a){return(0,I.r3)(this.indexSet_,a.toString())},u.prototype.addIndex=function(a,c){(0,I.hu)(a!==Gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var h=[],v=!1,E=c.getIterator(gt.Wrap),D=E.getNext();D;)v=v||a.isDefinedOn(D.node),h.push(D),D=E.getNext();var A;A=v?Da(h,a.getCompare()):Os;var R=a.toString(),N=(0,W.pi)({},this.indexSet_);N[R]=a;var k=(0,W.pi)({},this.indexes_);return k[R]=A,new u(k,N)},u.prototype.addToIndexes=function(a,c){var h=this;return new u((0,I.UI)(this.indexes_,function(E,D){var A=(0,I.DV)(h.indexSet_,D);if((0,I.hu)(A,"Missing index implementation for "+D),E===Os){if(A.isDefinedOn(a.node)){for(var R=[],N=c.getIterator(gt.Wrap),k=N.getNext();k;)k.name!==a.name&&R.push(k),k=N.getNext();return R.push(a),Da(R,A.getCompare())}return Os}var J=c.get(a.name),le=E;return J&&(le=le.remove(new gt(a.name,J))),le.insert(a,a.node)}),this.indexSet_)},u.prototype.removeFromIndexes=function(a,c){return new u((0,I.UI)(this.indexes_,function(v){if(v===Os)return v;var E=c.get(a.name);return E?v.remove(new gt(a.name,E)):v}),this.indexSet_)},u}(),Ze=function(){function u(a,c,h){this.children_=a,this.priorityNode_=c,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&ic(this.priorityNode_),this.children_.isEmpty()&&(0,I.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(u,"EMPTY_NODE",{get:function(){return Ko||(Ko=new u(new Wr(ni),null,Ht.Default))},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!1},u.prototype.getPriority=function(){return this.priorityNode_||Ko},u.prototype.updatePriority=function(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)},u.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var c=this.children_.get(a);return null===c?Ko:c},u.prototype.getChild=function(a){var c=at(a);return null===c?this:this.getImmediateChild(c).getChild(bt(a))},u.prototype.hasChild=function(a){return null!==this.children_.get(a)},u.prototype.updateImmediateChild=function(a,c){if((0,I.hu)(c,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(c);var h=new gt(a,c),v=void 0,E=void 0;c.isEmpty()?(v=this.children_.remove(a),E=this.indexMap_.removeFromIndexes(h,this.children_)):(v=this.children_.insert(a,c),E=this.indexMap_.addToIndexes(h,this.children_));var D=v.isEmpty()?Ko:this.priorityNode_;return new u(v,D,E)},u.prototype.updateChild=function(a,c){var h=at(a);if(null===h)return c;(0,I.hu)(".priority"!==at(a)||1===xi(a),".priority must be the last token in a path");var v=this.getImmediateChild(h).updateChild(bt(a),c);return this.updateImmediateChild(h,v)},u.prototype.isEmpty=function(){return this.children_.isEmpty()},u.prototype.numChildren=function(){return this.children_.count()},u.prototype.val=function(a){if(this.isEmpty())return null;var c={},h=0,v=0,E=!0;if(this.forEachChild(Mt,function(R,N){c[R]=N.val(a),h++,E&&u.INTEGER_REGEXP_.test(R)?v=Math.max(v,Number(R)):E=!1}),!a&&E&&v<2*h){var D=[];for(var A in c)D[A]=c[A];return D}return a&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+Ea(this.getPriority().val())+":"),this.forEachChild(Mt,function(c,h){var v=h.hash();""!==v&&(a+=":"+c+":"+v)}),this.lazyHash_=""===a?"":Ie(a)}return this.lazyHash_},u.prototype.getPredecessorChildName=function(a,c,h){var v=this.resolveIndex_(h);if(v){var E=v.getPredecessorKey(new gt(a,c));return E?E.name:null}return this.children_.getPredecessorKey(a)},u.prototype.getFirstChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.minKey();return h&&h.name}return this.children_.minKey()},u.prototype.getFirstChild=function(a){var c=this.getFirstChildName(a);return c?new gt(c,this.children_.get(c)):null},u.prototype.getLastChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.maxKey();return h&&h.name}return this.children_.maxKey()},u.prototype.getLastChild=function(a){var c=this.getLastChildName(a);return c?new gt(c,this.children_.get(c)):null},u.prototype.forEachChild=function(a,c){var h=this.resolveIndex_(a);return h?h.inorderTraversal(function(v){return c(v.name,v.node)}):this.children_.inorderTraversal(c)},u.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},u.prototype.getIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getIteratorFrom(a,function(D){return D});for(var v=this.children_.getIteratorFrom(a.name,gt.Wrap),E=v.peek();null!=E&&c.compare(E,a)<0;)v.getNext(),E=v.peek();return v},u.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},u.prototype.getReverseIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getReverseIteratorFrom(a,function(D){return D});for(var v=this.children_.getReverseIteratorFrom(a.name,gt.Wrap),E=v.peek();null!=E&&c.compare(E,a)>0;)v.getNext(),E=v.peek();return v},u.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Ft?-1:0},u.prototype.withIndex=function(a){if(a===Gr||this.indexMap_.hasIndex(a))return this;var c=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,c)},u.prototype.isIndexed=function(a){return a===Gr||this.indexMap_.hasIndex(a)},u.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var c=a;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){for(var h=this.getIterator(Mt),v=c.getIterator(Mt),E=h.getNext(),D=v.getNext();E&&D;){if(E.name!==D.name||!E.node.equals(D.node))return!1;E=h.getNext(),D=v.getNext()}return null===E&&null===D}return!1}return!1},u.prototype.resolveIndex_=function(a){return a===Gr?null:this.indexMap_.get(a.toString())},u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u}(),Ft=new(function(u){function a(){return u.call(this,new Wr(ni),Ze.EMPTY_NODE,Ht.Default)||this}return(0,W.ZT)(a,u),a.prototype.compareTo=function(c){return c===this?0:1},a.prototype.equals=function(c){return c===this},a.prototype.getPriority=function(){return this},a.prototype.getImmediateChild=function(c){return Ze.EMPTY_NODE},a.prototype.isEmpty=function(){return!1},a}(Ze));function Zt(u,a){if(void 0===a&&(a=null),null===u)return Ze.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,I.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new fo(u,Zt(a));if(u instanceof Array){var R=Ze.EMPTY_NODE;return ke(u,function(N,k){if((0,I.r3)(u,N)&&"."!==N.substring(0,1)){var J=Zt(k);(J.isLeafNode()||!J.isEmpty())&&(R=R.updateImmediateChild(N,J))}}),R.updatePriority(Zt(a))}var h=[],v=!1;if(ke(u,function(N,k){if("."!==N.substring(0,1)){var J=Zt(k);J.isEmpty()||(v=v||!J.getPriority().isEmpty(),h.push(new gt(N,J)))}}),0===h.length)return Ze.EMPTY_NODE;var D=Da(h,rc,function(N){return N.name},ni);if(v){var A=Da(h,Mt.getCompare());return new Ze(D,Zt(a),new Ht({".priority":A},{".priority":Mt}))}return new Ze(D,Zt(a),Ht.Default)}Object.defineProperties(gt,{MIN:{value:new gt(X,Ze.EMPTY_NODE)},MAX:{value:new gt(pe,Ft)}}),zd.__EMPTY_NODE=Ze.EMPTY_NODE,fo.__childrenNodeConstructor=Ze,function(u){ku=u}(Ft),function(u){ac=u}(Ft),function(u){sc=u}(Zt);var Jo=function(u){function a(c){var h=u.call(this)||this;return h.indexPath_=c,(0,I.hu)(!ct(c)&&".priority"!==at(c),"Can't create PathIndex with empty path or .priority key"),h}return(0,W.ZT)(a,u),a.prototype.extractChild=function(c){return c.getChild(this.indexPath_)},a.prototype.isDefinedOn=function(c){return!c.getChild(this.indexPath_).isEmpty()},a.prototype.compare=function(c,h){var v=this.extractChild(c.node),E=this.extractChild(h.node),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.makePost=function(c,h){var v=Zt(c),E=Ze.EMPTY_NODE.updateChild(this.indexPath_,v);return new gt(h,E)},a.prototype.maxPost=function(){var c=Ze.EMPTY_NODE.updateChild(this.indexPath_,Ft);return new gt(pe,c)},a.prototype.toString=function(){return jr(this.indexPath_,0).join("/")},a}(Pu),Ps=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.compareTo(h.node);return 0===v?te(c.name,h.name):v},a.prototype.isDefinedOn=function(c){return!0},a.prototype.indexedValueChanged=function(c,h){return!c.equals(h)},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return gt.MAX},a.prototype.makePost=function(c,h){var v=Zt(c);return new gt(h,v)},a.prototype.toString=function(){return".value"},a}(Pu)),Ni="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dc=function(){var u=0,a=[];return function(c){var h=c===u;u=c;var v,E=new Array(8);for(v=7;v>=0;v--)E[v]=Ni.charAt(c%64),c=Math.floor(c/64);(0,I.hu)(0===c,"Cannot push at time == 0");var D=E.join("");if(h){for(v=11;v>=0&&63===a[v];v--)a[v]=0;a[v]++}else for(v=0;v<12;v++)a[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)D+=Ni.charAt(a[v]);return(0,I.hu)(20===D.length,"nextPushId: Length should be 20."),D}}(),Fs=function(u){if(u===""+Kt)return"-";var a=mn(u);if(null!=a)return""+(a+1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);if(c.length<786)return c.push("-"),c.join("");for(var v=c.length-1;v>=0&&"z"===c[v];)v--;if(-1===v)return pe;var D=Ni.charAt(Ni.indexOf(c[v])+1);return c[v]=D,c.slice(0,v+1).join("")},Pi=function(u){if(u===""+or)return X;var a=mn(u);if(null!=a)return""+(a-1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);return"-"===c[c.length-1]?1===c.length?""+Kt:(delete c[c.length-1],c.join("")):(c[c.length-1]=Ni.charAt(Ni.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function Vu(u){return{type:"value",snapshotNode:u}}function Fi(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function We(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function ks(u,a,c){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:c}}var Uu=function(){function u(a){this.index_=a}return u.prototype.updateChild=function(a,c,h,v,E,D){(0,I.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var A=a.getImmediateChild(c);return A.getChild(v).equals(h.getChild(v))&&A.isEmpty()===h.isEmpty()||(null!=D&&(h.isEmpty()?a.hasChild(c)?D.trackChildChange(We(c,A)):(0,I.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):A.isEmpty()?D.trackChildChange(Fi(c,h)):D.trackChildChange(ks(c,h,A))),a.isLeafNode()&&h.isEmpty())?a:a.updateImmediateChild(c,h).withIndex(this.index_)},u.prototype.updateFullNode=function(a,c,h){return null!=h&&(a.isLeafNode()||a.forEachChild(Mt,function(v,E){c.hasChild(v)||h.trackChildChange(We(v,E))}),c.isLeafNode()||c.forEachChild(Mt,function(v,E){if(a.hasChild(v)){var D=a.getImmediateChild(v);D.equals(E)||h.trackChildChange(ks(v,E,D))}else h.trackChildChange(Fi(v,E))})),c.withIndex(this.index_)},u.prototype.updatePriority=function(a,c){return a.isEmpty()?Ze.EMPTY_NODE:a.updatePriority(c)},u.prototype.filtersNodes=function(){return!1},u.prototype.getIndexedFilter=function(){return this},u.prototype.getIndex=function(){return this.index_},u}(),fc=function(){function u(a){this.indexedFilter_=new Uu(a.getIndex()),this.index_=a.getIndex(),this.startPost_=u.getStartPost_(a),this.endPost_=u.getEndPost_(a)}return u.prototype.getStartPost=function(){return this.startPost_},u.prototype.getEndPost=function(){return this.endPost_},u.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},u.prototype.updateChild=function(a,c,h,v,E,D){return this.matches(new gt(c,h))||(h=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(a,c,h,v,E,D)},u.prototype.updateFullNode=function(a,c,h){c.isLeafNode()&&(c=Ze.EMPTY_NODE);var v=c.withIndex(this.index_);v=v.updatePriority(Ze.EMPTY_NODE);var E=this;return c.forEachChild(Mt,function(D,A){E.matches(new gt(D,A))||(v=v.updateImmediateChild(D,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.indexedFilter_},u.prototype.getIndex=function(){return this.index_},u.getStartPost_=function(a){if(a.hasStart()){var c=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),c)}return a.getIndex().minPost()},u.getEndPost_=function(a){if(a.hasEnd()){var c=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),c)}return a.getIndex().maxPost()},u}(),Qd=function(){function u(a){this.rangedFilter_=new fc(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return u.prototype.updateChild=function(a,c,h,v,E,D){return this.rangedFilter_.matches(new gt(c,h))||(h=Ze.EMPTY_NODE),a.getImmediateChild(c).equals(h)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,c,h,v,E,D):this.fullLimitUpdateChild_(a,c,h,E,D)},u.prototype.updateFullNode=function(a,c,h){var v;if(c.isLeafNode()||c.isEmpty())v=Ze.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){v=Ze.EMPTY_NODE.withIndex(this.index_);var E=void 0;E=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var D=0;E.hasNext()&&D<this.limit_;){var A=E.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),A)<=0:this.index_.compare(A,this.rangedFilter_.getEndPost())<=0))break;v=v.updateImmediateChild(A.name,A.node),D++}}else{v=(v=c.withIndex(this.index_)).updatePriority(Ze.EMPTY_NODE);var N=void 0,k=void 0,J=void 0;if(E=void 0,this.reverse_){E=v.getReverseIterator(this.index_),N=this.rangedFilter_.getEndPost(),k=this.rangedFilter_.getStartPost();var le=this.index_.getCompare();J=function(Ve,Pe){return le(Pe,Ve)}}else E=v.getIterator(this.index_),N=this.rangedFilter_.getStartPost(),k=this.rangedFilter_.getEndPost(),J=this.index_.getCompare();D=0;for(var _e=!1;E.hasNext();)A=E.getNext(),!_e&&J(N,A)<=0&&(_e=!0),_e&&D<this.limit_&&J(A,k)<=0?D++:v=v.updateImmediateChild(A.name,Ze.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},u.prototype.getIndex=function(){return this.index_},u.prototype.fullLimitUpdateChild_=function(a,c,h,v,E){var D;if(this.reverse_){var A=this.index_.getCompare();D=function(Ut,ir){return A(ir,Ut)}}else D=this.index_.getCompare();var R=a;(0,I.hu)(R.numChildren()===this.limit_,"");var N=new gt(c,h),k=this.reverse_?R.getFirstChild(this.index_):R.getLastChild(this.index_),J=this.rangedFilter_.matches(N);if(R.hasChild(c)){for(var le=R.getImmediateChild(c),_e=v.getChildAfterChild(this.index_,k,this.reverse_);null!=_e&&(_e.name===c||R.hasChild(_e.name));)_e=v.getChildAfterChild(this.index_,_e,this.reverse_);var be=null==_e?1:D(_e,N);if(J&&!h.isEmpty()&&be>=0)return null!=E&&E.trackChildChange(ks(c,h,le)),R.updateImmediateChild(c,h);null!=E&&E.trackChildChange(We(c,le));var Ve=R.updateImmediateChild(c,Ze.EMPTY_NODE);return null!=_e&&this.rangedFilter_.matches(_e)?(null!=E&&E.trackChildChange(Fi(_e.name,_e.node)),Ve.updateImmediateChild(_e.name,_e.node)):Ve}return h.isEmpty()?a:J&&D(k,N)>=0?(null!=E&&(E.trackChildChange(We(k.name,k.node)),E.trackChildChange(Fi(c,h))),R.updateImmediateChild(c,h).updateImmediateChild(k.name,Ze.EMPTY_NODE)):a},u}(),hc=function(){function u(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}return u.prototype.hasStart=function(){return this.startSet_},u.prototype.hasStartAfter=function(){return this.startAfterSet_},u.prototype.hasEndBefore=function(){return this.endBeforeSet_},u.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},u.prototype.getIndexStartValue=function(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},u.prototype.getIndexStartName=function(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:X},u.prototype.hasEnd=function(){return this.endSet_},u.prototype.getIndexEndValue=function(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},u.prototype.getIndexEndName=function(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pe},u.prototype.hasLimit=function(){return this.limitSet_},u.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},u.prototype.getLimit=function(){return(0,I.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},u.prototype.getIndex=function(){return this.index_},u.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},u.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Mt},u.prototype.copy=function(){var a=new u;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a},u}();function Vs(u,a,c){var h=u.copy();return h.startSet_=!0,void 0===a&&(a=null),h.indexStartValue_=a,null!=c?(h.startNameSet_=!0,h.indexStartName_=c):(h.startNameSet_=!1,h.indexStartName_=""),h}function Us(u,a,c){var h=u.copy();return h.endSet_=!0,void 0===a&&(a=null),h.indexEndValue_=a,void 0!==c?(h.endNameSet_=!0,h.indexEndName_=c):(h.endNameSet_=!1,h.indexEndName_=""),h}function Fn(u,a){var c=u.copy();return c.index_=a,c}function Bs(u){var c,a={};return u.isDefault()||(u.index_===Mt?c="$priority":u.index_===Ps?c="$value":u.index_===Gr?c="$key":((0,I.hu)(u.index_ instanceof Jo,"Unrecognized index type!"),c=u.index_.toString()),a.orderBy=(0,I.Pz)(c),u.startSet_&&(a.startAt=(0,I.Pz)(u.indexStartValue_),u.startNameSet_&&(a.startAt+=","+(0,I.Pz)(u.indexStartName_))),u.endSet_&&(a.endAt=(0,I.Pz)(u.indexEndValue_),u.endNameSet_&&(a.endAt+=","+(0,I.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_)),a}function js(u){var a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_)),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_)),u.limitSet_){a.l=u.limit_;var c=u.viewFrom_;""===c&&(c=u.isViewFromLeft()?"l":"r"),a.vf=c}return u.index_!==Mt&&(a.i=u.index_.toString()),a}var ip=function(u){function a(c,h,v,E){var D=u.call(this)||this;return D.repoInfo_=c,D.onDataUpdate_=h,D.authTokenProvider_=v,D.appCheckTokenProvider_=E,D.log_=Ct("p:rest:"),D.listens_={},D}return(0,W.ZT)(a,u),a.prototype.reportStats=function(c){throw new Error("Method not implemented.")},a.getListenId_=function(c,h){return void 0!==h?"tag$"+h:((0,I.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())},a.prototype.listen=function(c,h,v,E){var D=this,A=c._path.toString();this.log_("Listen called for "+A+" "+c._queryIdentifier);var R=a.getListenId_(c,v),N={};this.listens_[R]=N;var k=Bs(c._queryParams);this.restRequest_(A+".json",k,function(J,le){var _e=le;404===J&&(_e=null,J=null),null===J&&D.onDataUpdate_(A,_e,!1,v),(0,I.DV)(D.listens_,R)===N&&E(J?401===J?"permission_denied":"rest_error:"+J:"ok",null)})},a.prototype.unlisten=function(c,h){var v=a.getListenId_(c,h);delete this.listens_[v]},a.prototype.get=function(c){var h=this,v=Bs(c._queryParams),E=c._path.toString(),D=new I.BH;return this.restRequest_(E+".json",v,function(A,R){var N=R;404===A&&(N=null,A=null),null===A?(h.onDataUpdate_(E,N,!1,null),D.resolve(N)):D.reject(new Error(N))}),D.promise},a.prototype.refreshAuthToken=function(c){},a.prototype.restRequest_=function(c,h,v){var E=this;return void 0===h&&(h={}),h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(D){var A=(0,W.CR)(D,2),R=A[0],N=A[1];R&&R.accessToken&&(h.auth=R.accessToken),N&&N.token&&(h.ac=N.token);var k=(E.repoInfo_.secure?"https://":"http://")+E.repoInfo_.host+c+"?ns="+E.repoInfo_.namespace+(0,I.xO)(h);E.log_("Sending REST request for "+k);var J=new XMLHttpRequest;J.onreadystatechange=function(){if(v&&4===J.readyState){E.log_("REST Response for "+k+" received. status:",J.status,"response:",J.responseText);var le=null;if(J.status>=200&&J.status<300){try{le=(0,I.cI)(J.responseText)}catch(_e){It("Failed to parse JSON response for "+k+": "+J.responseText)}v(null,le)}else 401!==J.status&&404!==J.status&&It("Got unsuccessful REST response for "+k+" Status: "+J.status),v(J.status);v=null}},J.open("GET",k,!0),J.send()})},a}(va),Kd=function(){function u(){this.rootNode_=Ze.EMPTY_NODE}return u.prototype.getNode=function(a){return this.rootNode_.getChild(a)},u.prototype.updateSnapshot=function(a,c){this.rootNode_=this.rootNode_.updateChild(a,c)},u}();function po(){return{value:null,children:new Map}}function ri(u,a,c){if(ct(a))u.value=c,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,c);else{var h=at(a);u.children.has(h)||u.children.set(h,po()),ri(u.children.get(h),a=bt(a),c)}}function sn(u,a){if(ct(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;var c=u.value;return u.value=null,c.forEachChild(Mt,function(E,D){ri(u,new st(E),D)}),sn(u,a)}if(u.children.size>0){var h=at(a);return a=bt(a),u.children.has(h)&&sn(u.children.get(h),a)&&u.children.delete(h),0===u.children.size}return!0}function Kn(u,a,c){null!==u.value?c(a,u.value):function(u,a){u.children.forEach(function(c,h){a(h,c)})}(u,function(h,v){Kn(v,new st(a.toString()+"/"+h),c)})}var ii=function(){function u(a){this.collection_=a,this.last_=null}return u.prototype.get=function(){var a=this.collection_.get(),c=(0,W.pi)({},a);return this.last_&&ke(this.last_,function(h,v){c[h]=c[h]-v}),this.last_=a,c},u}(),gc=function(){function u(a,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ii(a);var h=1e4+2e4*Math.random();Si(this.reportStats_.bind(this),Math.floor(h))}return u.prototype.reportStats_=function(){var a=this,c=this.statsListener_.get(),h={},v=!1;ke(c,function(E,D){D>0&&(0,I.r3)(a.statsToReport_,E)&&(h[E]=D,v=!0)}),v&&this.server_.reportStats(h),Si(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},u}(),zn=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zn||(zn={})),zn))();function go(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}var mc=function(){function u(a,c,h){this.path=a,this.affectedTree=c,this.revert=h,this.type=zn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return u.prototype.operationForChild=function(a){if(ct(this.path)){if(null!=this.affectedTree.value)return(0,I.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var c=this.affectedTree.subtree(new st(a));return new u(Oe(),c,this.revert)}return(0,I.hu)(at(this.path)===a,"operationForChild called for unrelated child."),new u(bt(this.path),this.affectedTree,this.revert)},u}(),Bu=function(){function u(a,c){this.source=a,this.path=c,this.type=zn.LISTEN_COMPLETE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Oe()):new u(this.source,bt(this.path))},u}(),mo=function(){function u(a,c,h){this.source=a,this.path=c,this.snap=h,this.type=zn.OVERWRITE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Oe(),this.snap.getImmediateChild(a)):new u(this.source,bt(this.path),this.snap)},u}(),Ia=function(){function u(a,c,h){this.source=a,this.path=c,this.children=h,this.type=zn.MERGE}return u.prototype.operationForChild=function(a){if(ct(this.path)){var c=this.children.subtree(new st(a));return c.isEmpty()?null:c.value?new mo(this.source,Oe(),c.value):new u(this.source,Oe(),c)}return(0,I.hu)(at(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new u(this.source,bt(this.path),this.children)},u.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},u}(),ki=function(){function u(a,c,h){this.node_=a,this.fullyInitialized_=c,this.filtered_=h}return u.prototype.isFullyInitialized=function(){return this.fullyInitialized_},u.prototype.isFiltered=function(){return this.filtered_},u.prototype.isCompleteForPath=function(a){if(ct(a))return this.isFullyInitialized()&&!this.filtered_;var c=at(a);return this.isCompleteForChild(c)},u.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},u.prototype.getNode=function(){return this.node_},u}(),_c=function(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()};function oi(u,a,c,h,v,E){var D=h.filter(function(A){return A.type===c});D.sort(function(A,R){return function(u,a,c){if(null==a.childName||null==c.childName)throw(0,I.g5)("Should only compare child_ events.");var h=new gt(a.childName,a.snapshotNode),v=new gt(c.childName,c.snapshotNode);return u.index_.compare(h,v)}(u,A,R)}),D.forEach(function(A){var R=function(u,a,c){return"value"===a.type||"child_removed"===a.type||(a.prevName=c.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,A,E);v.forEach(function(N){N.respondsTo(A.type)&&a.push(N.createEvent(R,u.query_))})})}function hn(u,a){return{eventCache:u,serverCache:a}}function wr(u,a,c,h){return hn(new ki(a,c,h),u.serverCache)}function en(u,a,c,h){return hn(u.eventCache,new ki(a,c,h))}function ju(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Xo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}var Hu,Jn=function(){function u(a,c){void 0===c&&(Hu||(Hu=new Wr(je)),c=Hu),this.value=a,this.children=c}return u.fromObject=function(a){var c=new u(null);return ke(a,function(h,v){c=c.set(new st(h),v)}),c},u.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},u.prototype.findRootMostMatchingPathAndValue=function(a,c){if(null!=this.value&&c(this.value))return{path:Oe(),value:this.value};if(ct(a))return null;var h=at(a),v=this.children.get(h);if(null!==v){var E=v.findRootMostMatchingPathAndValue(bt(a),c);return null!=E?{path:lt(new st(h),E.path),value:E.value}:null}return null},u.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},u.prototype.subtree=function(a){if(ct(a))return this;var c=at(a),h=this.children.get(c);return null!==h?h.subtree(bt(a)):new u(null)},u.prototype.set=function(a,c){if(ct(a))return new u(c,this.children);var h=at(a),E=(this.children.get(h)||new u(null)).set(bt(a),c),D=this.children.insert(h,E);return new u(this.value,D)},u.prototype.remove=function(a){if(ct(a))return this.children.isEmpty()?new u(null):new u(null,this.children);var c=at(a),h=this.children.get(c);if(h){var v=h.remove(bt(a)),E=void 0;return E=v.isEmpty()?this.children.remove(c):this.children.insert(c,v),null===this.value&&E.isEmpty()?new u(null):new u(this.value,E)}return this},u.prototype.get=function(a){if(ct(a))return this.value;var c=at(a),h=this.children.get(c);return h?h.get(bt(a)):null},u.prototype.setTree=function(a,c){if(ct(a))return c;var D,h=at(a),E=(this.children.get(h)||new u(null)).setTree(bt(a),c);return D=E.isEmpty()?this.children.remove(h):this.children.insert(h,E),new u(this.value,D)},u.prototype.fold=function(a){return this.fold_(Oe(),a)},u.prototype.fold_=function(a,c){var h={};return this.children.inorderTraversal(function(v,E){h[v]=E.fold_(lt(a,v),c)}),c(a,this.value,h)},u.prototype.findOnPath=function(a,c){return this.findOnPath_(a,Oe(),c)},u.prototype.findOnPath_=function(a,c,h){var v=!!this.value&&h(c,this.value);if(v)return v;if(ct(a))return null;var E=at(a),D=this.children.get(E);return D?D.findOnPath_(bt(a),lt(c,E),h):null},u.prototype.foreachOnPath=function(a,c){return this.foreachOnPath_(a,Oe(),c)},u.prototype.foreachOnPath_=function(a,c,h){if(ct(a))return this;this.value&&h(c,this.value);var v=at(a),E=this.children.get(v);return E?E.foreachOnPath_(bt(a),lt(c,v),h):new u(null)},u.prototype.foreach=function(a){this.foreach_(Oe(),a)},u.prototype.foreach_=function(a,c){this.children.inorderTraversal(function(h,v){v.foreach_(lt(a,h),c)}),this.value&&c(a,this.value)},u.prototype.foreachChild=function(a){this.children.inorderTraversal(function(c,h){h.value&&a(c,h.value)})},u}(),Tr=function(){function u(a){this.writeTree_=a}return u.empty=function(){return new u(new Jn(null))},u}();function Li(u,a,c){if(ct(a))return new Tr(new Jn(c));var h=u.writeTree_.findRootMostValueAndPath(a);if(null!=h){var v=h.path,E=h.value,D=Yt(v,a);return E=E.updateChild(D,c),new Tr(u.writeTree_.set(v,E))}var A=new Jn(c),R=u.writeTree_.setTree(a,A);return new Tr(R)}function Vi(u,a,c){var h=u;return ke(c,function(v,E){h=Li(h,lt(a,v),E)}),h}function $s(u,a){if(ct(a))return Tr.empty();var c=u.writeTree_.setTree(a,new Jn(null));return new Tr(c)}function Gs(u,a){return null!=Ui(u,a)}function Ui(u,a){var c=u.writeTree_.findRootMostValueAndPath(a);return null!=c?u.writeTree_.get(c.path).getChild(Yt(c.path,a)):null}function vc(u){var a=[],c=u.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Mt,function(h,v){a.push(new gt(h,v))}):u.writeTree_.children.inorderTraversal(function(h,v){null!=v.value&&a.push(new gt(h,v.value))}),a}function kn(u,a){if(ct(a))return u;var c=Ui(u,a);return new Tr(null!=c?new Jn(c):u.writeTree_.subtree(a))}function es(u){return u.writeTree_.isEmpty()}function Ws(u,a){return yc(Oe(),u.writeTree_,a)}function yc(u,a,c){if(null!=a.value)return c.updateChild(u,a.value);var h=null;return a.children.inorderTraversal(function(v,E){".priority"===v?((0,I.hu)(null!==E.value,"Priority writes must always be leaf nodes"),h=E.value):c=yc(lt(u,v),E,c)}),!c.getChild(u).isEmpty()&&null!==h&&(c=c.updateChild(lt(u,".priority"),h)),c}function Bi(u,a){return zu(a,u)}function um(u,a){if(u.snap)return Pn(u.path,a);for(var c in u.children)if(u.children.hasOwnProperty(c)&&Pn(lt(u.path,c),a))return!0;return!1}function Cc(u){return u.visible}function Ir(u,a,c){for(var h=Tr.empty(),v=0;v<u.length;++v){var E=u[v];if(a(E)){var D=E.path,A=void 0;if(E.snap)Pn(c,D)?h=Li(h,A=Yt(c,D),E.snap):Pn(D,c)&&(A=Yt(D,c),h=Li(h,Oe(),E.snap.getChild(A)));else{if(!E.children)throw(0,I.g5)("WriteRecord should have .snap or .children");if(Pn(c,D))h=Vi(h,A=Yt(c,D),E.children);else if(Pn(D,c))if(ct(A=Yt(D,c)))h=Vi(h,Oe(),E.children);else{var R=(0,I.DV)(E.children,at(A));if(R){var N=R.getChild(bt(A));h=Li(h,Oe(),N)}}}}}return h}function zs(u,a,c,h,v){if(h||v){var R=kn(u.visibleWrites,a);return!v&&es(R)?c:v||null!=c||Gs(R,Oe())?Ws(Ir(u.allWrites,function(le){return(le.visible||v)&&(!h||!~h.indexOf(le.writeId))&&(Pn(le.path,a)||Pn(a,le.path))},a),c||Ze.EMPTY_NODE):null}var E=Ui(u.visibleWrites,a);if(null!=E)return E;var D=kn(u.visibleWrites,a);return es(D)?c:null!=c||Gs(D,Oe())?Ws(D,c||Ze.EMPTY_NODE):null}function vo(u,a,c,h){return zs(u.writeTree,u.treePath,a,c,h)}function sf(u,a){return function(u,a,c){var h=Ze.EMPTY_NODE,v=Ui(u.visibleWrites,a);if(v)return v.isLeafNode()||v.forEachChild(Mt,function(A,R){h=h.updateImmediateChild(A,R)}),h;if(c){var E=kn(u.visibleWrites,a);return c.forEachChild(Mt,function(A,R){var N=Ws(kn(E,new st(A)),R);h=h.updateImmediateChild(A,N)}),vc(E).forEach(function(A){h=h.updateImmediateChild(A.name,A.node)}),h}return vc(kn(u.visibleWrites,a)).forEach(function(A){h=h.updateImmediateChild(A.name,A.node)}),h}(u.writeTree,u.treePath,a)}function Wu(u,a,c,h){return function(u,a,c,h,v){(0,I.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");var E=lt(a,c);if(Gs(u.visibleWrites,E))return null;var D=kn(u.visibleWrites,E);return es(D)?v.getChild(c):Ws(D,v.getChild(c))}(u.writeTree,u.treePath,a,c,h)}function Sa(u,a){return function(u,a){return Ui(u.visibleWrites,a)}(u.writeTree,lt(u.treePath,a))}function Dc(u,a,c){return function(u,a,c,h){var v=lt(a,c),E=Ui(u.visibleWrites,v);return null!=E?E:h.isCompleteForChild(c)?Ws(kn(u.visibleWrites,v),h.getNode().getImmediateChild(c)):null}(u.writeTree,u.treePath,a,c)}function ts(u,a){return zu(lt(u.treePath,a),u.writeTree)}function zu(u,a){return{treePath:u,writeTree:a}}var an=function(){function u(){this.changeMap=new Map}return u.prototype.trackChildChange=function(a){var c=a.type,h=a.childName;(0,I.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,I.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");var v=this.changeMap.get(h);if(v){var E=v.type;if("child_added"===c&&"child_removed"===E)this.changeMap.set(h,ks(h,a.snapshotNode,v.snapshotNode));else if("child_removed"===c&&"child_added"===E)this.changeMap.delete(h);else if("child_removed"===c&&"child_changed"===E)this.changeMap.set(h,We(h,v.oldSnap));else if("child_changed"===c&&"child_added"===E)this.changeMap.set(h,Fi(h,a.snapshotNode));else{if("child_changed"!==c||"child_changed"!==E)throw(0,I.g5)("Illegal combination of changes: "+a+" occurred after "+v);this.changeMap.set(h,ks(h,a.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,a)},u.prototype.getChanges=function(){return Array.from(this.changeMap.values())},u}(),yo=new(function(){function u(){}return u.prototype.getCompleteChild=function(a){return null},u.prototype.getChildAfterChild=function(a,c,h){return null},u}()),qe=function(){function u(a,c,h){void 0===h&&(h=null),this.writes_=a,this.viewCache_=c,this.optCompleteServerCache_=h}return u.prototype.getCompleteChild=function(a){var c=this.viewCache_.eventCache;if(c.isCompleteForChild(a))return c.getNode().getImmediateChild(a);var h=null!=this.optCompleteServerCache_?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dc(this.writes_,a,h)},u.prototype.getChildAfterChild=function(a,c,h){var v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xo(this.viewCache_),E=function(u,a,c,h,v,E){return function(u,a,c,h,v,E,D){var A,R=kn(u.visibleWrites,a),N=Ui(R,Oe());if(null!=N)A=N;else{if(null==c)return[];A=Ws(R,c)}if((A=A.withIndex(D)).isEmpty()||A.isLeafNode())return[];for(var k=[],J=D.getCompare(),le=E?A.getReverseIteratorFrom(h,D):A.getIteratorFrom(h,D),_e=le.getNext();_e&&k.length<v;)0!==J(_e,h)&&k.push(_e),_e=le.getNext();return k}(u.writeTree,u.treePath,a,c,h,v,E)}(this.writes_,v,c,1,h,a);return 0===E.length?null:E[0]},u}();function ji(u,a,c,h,v,E){var D=a.eventCache;if(null!=Sa(h,c))return a;var A=void 0,R=void 0;if(ct(c))if((0,I.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){var N=Xo(a),J=sf(h,N instanceof Ze?N:Ze.EMPTY_NODE);A=u.filter.updateFullNode(a.eventCache.getNode(),J,E)}else{var le=vo(h,Xo(a));A=u.filter.updateFullNode(a.eventCache.getNode(),le,E)}else{var _e=at(c);if(".priority"===_e){(0,I.hu)(1===xi(c),"Can't have a priority with additional path components");var be=D.getNode(),ze=Wu(h,c,be,R=a.serverCache.getNode());A=null!=ze?u.filter.updatePriority(be,ze):D.getNode()}else{var Ve=bt(c),Pe=void 0;if(D.isCompleteForChild(_e)){R=a.serverCache.getNode();var Ut=Wu(h,c,D.getNode(),R);Pe=null!=Ut?D.getNode().getImmediateChild(_e).updateChild(Ve,Ut):D.getNode().getImmediateChild(_e)}else Pe=Dc(h,_e,a.serverCache);A=null!=Pe?u.filter.updateChild(D.getNode(),_e,Pe,Ve,v,E):D.getNode()}}return wr(a,A,D.isFullyInitialized()||ct(c),u.filter.filtersNodes())}function er(u,a,c,h,v,E,D,A){var N,R=a.serverCache,k=D?u.filter:u.filter.getIndexedFilter();if(ct(c))N=k.updateFullNode(R.getNode(),h,null);else if(k.filtersNodes()&&!R.isFiltered()){var J=R.getNode().updateChild(c,h);N=k.updateFullNode(R.getNode(),J,null)}else{var le=at(c);if(!R.isCompleteForPath(c)&&xi(c)>1)return a;var _e=bt(c),ze=R.getNode().getImmediateChild(le).updateChild(_e,h);N=".priority"===le?k.updatePriority(R.getNode(),ze):k.updateChild(R.getNode(),le,ze,_e,yo,null)}var Ve=en(a,N,R.isFullyInitialized()||ct(c),k.filtersNodes());return ji(u,Ve,c,v,new qe(v,Ve,E),A)}function ns(u,a,c,h,v,E,D){var R,N,A=a.eventCache,k=new qe(v,a,E);if(ct(c))N=u.filter.updateFullNode(a.eventCache.getNode(),h,D),R=wr(a,N,!0,u.filter.filtersNodes());else{var J=at(c);if(".priority"===J)N=u.filter.updatePriority(a.eventCache.getNode(),h),R=wr(a,N,A.isFullyInitialized(),A.isFiltered());else{var le=bt(c),_e=A.getNode().getImmediateChild(J),be=void 0;if(ct(le))be=h;else{var ze=k.getCompleteChild(J);be=null!=ze?".priority"===Rs(le)&&ze.getChild(Hr(le)).isEmpty()?ze:ze.updateChild(le,h):Ze.EMPTY_NODE}R=_e.equals(be)?a:wr(a,u.filter.updateChild(A.getNode(),J,be,le,k,D),A.isFullyInitialized(),u.filter.filtersNodes())}}return R}function Hi(u,a){return u.eventCache.isCompleteForChild(a)}function Zu(u,a,c){return c.foreach(function(h,v){a=a.updateChild(h,v)}),a}function Ma(u,a,c,h,v,E,D,A){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;var N,R=a;N=ct(c)?h:new Jn(null).setTree(c,h);var k=a.serverCache.getNode();return N.children.inorderTraversal(function(J,le){if(k.hasChild(J)){var be=Zu(0,a.serverCache.getNode().getImmediateChild(J),le);R=er(u,R,new st(J),be,v,E,D,A)}}),N.children.inorderTraversal(function(J,le){var _e=!a.serverCache.isCompleteForChild(J)&&void 0===le.value;if(!k.hasChild(J)&&!_e){var ze=Zu(0,a.serverCache.getNode().getImmediateChild(J),le);R=er(u,R,new st(J),ze,v,E,D,A)}}),R}var _n=function(){function u(a,c){this.query_=a,this.eventRegistrations_=[];var h=this.query_._queryParams,v=new Uu(h.getIndex()),E=function(u){return u.loadsAllData()?new Uu(u.getIndex()):u.hasLimit()?new Qd(u):new fc(u)}(h);this.processor_=function(u){return{filter:u}}(E);var D=c.serverCache,A=c.eventCache,R=v.updateFullNode(Ze.EMPTY_NODE,D.getNode(),null),N=E.updateFullNode(Ze.EMPTY_NODE,A.getNode(),null),k=new ki(R,D.isFullyInitialized(),v.filtersNodes()),J=new ki(N,A.isFullyInitialized(),E.filtersNodes());this.viewCache_=hn(J,k),this.eventGenerator_=new _c(this.query_)}return Object.defineProperty(u.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),u}();function Ar(u,a){var c=Xo(u.viewCache_);return c&&(u.query._queryParams.loadsAllData()||!ct(a)&&!c.getImmediateChild(at(a)).isEmpty())?c.getChild(a):null}function Co(u){return 0===u.eventRegistrations_.length}function ai(u,a,c){var h=[];if(c){(0,I.hu)(null==a,"A cancel should cancel all event registrations.");var v=u.query._path;u.eventRegistrations_.forEach(function(R){var N=R.createCancelEvent(c,v);N&&h.push(N)})}if(a){for(var E=[],D=0;D<u.eventRegistrations_.length;++D){var A=u.eventRegistrations_[D];if(A.matches(a)){if(a.hasAnyCallback()){E=E.concat(u.eventRegistrations_.slice(D+1));break}}else E.push(A)}u.eventRegistrations_=E}else u.eventRegistrations_=[];return h}function Ic(u,a,c,h){a.type===zn.MERGE&&null!==a.source.queryId&&((0,I.hu)(Xo(u.viewCache_),"We should always have a full cache before handling merges"),(0,I.hu)(ju(u.viewCache_),"Missing event cache, even though we have a server cache"));var v=u.viewCache_,E=function(u,a,c,h,v){var D,A,E=new an;if(c.type===zn.OVERWRITE){var R=c;R.source.fromUser?D=ns(u,a,R.path,R.snap,h,v,E):((0,I.hu)(R.source.fromServer,"Unknown source."),A=R.source.tagged||a.serverCache.isFiltered()&&!ct(R.path),D=er(u,a,R.path,R.snap,h,v,A,E))}else if(c.type===zn.MERGE){var N=c;N.source.fromUser?D=function(u,a,c,h,v,E,D){var A=a;return h.foreach(function(R,N){var k=lt(c,R);Hi(a,at(k))&&(A=ns(u,A,k,N,v,E,D))}),h.foreach(function(R,N){var k=lt(c,R);Hi(a,at(k))||(A=ns(u,A,k,N,v,E,D))}),A}(u,a,N.path,N.children,h,v,E):((0,I.hu)(N.source.fromServer,"Unknown source."),A=N.source.tagged||a.serverCache.isFiltered(),D=Ma(u,a,N.path,N.children,h,v,A,E))}else if(c.type===zn.ACK_USER_WRITE){var k=c;D=k.revert?function(u,a,c,h,v,E){var D;if(null!=Sa(h,c))return a;var A=new qe(h,a,v),R=a.eventCache.getNode(),N=void 0;if(ct(c)||".priority"===at(c)){var k=void 0;if(a.serverCache.isFullyInitialized())k=vo(h,Xo(a));else{var J=a.serverCache.getNode();(0,I.hu)(J instanceof Ze,"serverChildren would be complete if leaf node"),k=sf(h,J)}N=u.filter.updateFullNode(R,k=k,E)}else{var le=at(c),_e=Dc(h,le,a.serverCache);null==_e&&a.serverCache.isCompleteForChild(le)&&(_e=R.getImmediateChild(le)),(N=null!=_e?u.filter.updateChild(R,le,_e,bt(c),A,E):a.eventCache.getNode().hasChild(le)?u.filter.updateChild(R,le,Ze.EMPTY_NODE,bt(c),A,E):R).isEmpty()&&a.serverCache.isFullyInitialized()&&(D=vo(h,Xo(a))).isLeafNode()&&(N=u.filter.updateFullNode(N,D,E))}return D=a.serverCache.isFullyInitialized()||null!=Sa(h,Oe()),wr(a,N,D,u.filter.filtersNodes())}(u,a,k.path,h,v,E):function(u,a,c,h,v,E,D){if(null!=Sa(v,c))return a;var A=a.serverCache.isFiltered(),R=a.serverCache;if(null!=h.value){if(ct(c)&&R.isFullyInitialized()||R.isCompleteForPath(c))return er(u,a,c,R.getNode().getChild(c),v,E,A,D);if(ct(c)){var N=new Jn(null);return R.getNode().forEachChild(Gr,function(J,le){N=N.set(new st(J),le)}),Ma(u,a,c,N,v,E,A,D)}return a}var k=new Jn(null);return h.foreach(function(J,le){var _e=lt(c,J);R.isCompleteForPath(_e)&&(k=k.set(J,R.getNode().getChild(_e)))}),Ma(u,a,c,k,v,E,A,D)}(u,a,k.path,k.affectedTree,h,v,E)}else{if(c.type!==zn.LISTEN_COMPLETE)throw(0,I.g5)("Unknown operation type: "+c.type);D=function(u,a,c,h,v){var E=a.serverCache;return ji(u,en(a,E.getNode(),E.isFullyInitialized()||ct(c),E.isFiltered()),c,h,yo,v)}(u,a,c.path,h,E)}var J=E.getChanges();return function(u,a,c){var h=a.eventCache;if(h.isFullyInitialized()){var v=h.getNode().isLeafNode()||h.getNode().isEmpty(),E=ju(u);(c.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(E)||!h.getNode().getPriority().equals(E.getPriority()))&&c.push(Vu(ju(a)))}}(a,D,J),{viewCache:D,changes:J}}(u.processor_,v,a,c,h);return function(u,a){(0,I.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,I.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,E.viewCache),(0,I.hu)(E.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=E.viewCache,qu(u,E.changes,E.viewCache.eventCache.getNode(),null)}function qu(u,a,c,h){return function(u,a,c,h){var v=[],E=[];return a.forEach(function(D){"child_changed"===D.type&&u.index_.indexedValueChanged(D.oldSnap,D.snapshotNode)&&E.push(function(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(D.childName,D.snapshotNode))}),oi(u,v,"child_removed",a,h,c),oi(u,v,"child_added",a,h,c),oi(u,v,"child_moved",E,h,c),oi(u,v,"child_changed",a,h,c),oi(u,v,"value",a,h,c),v}(u.eventGenerator_,a,c,h?[h]:u.eventRegistrations_)}var Na,Oa,Qu=function(){this.views=new Map};function Ju(u,a,c,h){var v,E,D=a.source.queryId;if(null!==D){var A=u.views.get(D);return(0,I.hu)(null!=A,"SyncTree gave us an op for an invalid query."),Ic(A,a,c,h)}var R=[];try{for(var N=(0,W.XA)(u.views.values()),k=N.next();!k.done;k=N.next())R=R.concat(Ic(A=k.value,a,c,h))}catch(J){v={error:J}}finally{try{k&&!k.done&&(E=N.return)&&E.call(N)}finally{if(v)throw v.error}}return R}function Sc(u,a,c,h,v){var D=u.views.get(a._queryIdentifier);if(!D){var A=vo(c,v?h:null),R=!1;A?R=!0:h instanceof Ze?(A=sf(c,h),R=!1):(A=Ze.EMPTY_NODE,R=!1);var N=hn(new ki(A,R,!1),new ki(h,v,!1));return new _n(a,N)}return D}function Mc(u){var a,c,h=[];try{for(var v=(0,W.XA)(u.views.values()),E=v.next();!E.done;E=v.next()){var D=E.value;D.query._queryParams.loadsAllData()||h.push(D)}}catch(A){a={error:A}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}function ui(u,a){var c,h,v=null;try{for(var E=(0,W.XA)(u.views.values()),D=E.next();!D.done;D=E.next())v=v||Ar(D.value,a)}catch(R){c={error:R}}finally{try{D&&!D.done&&(h=E.return)&&h.call(E)}finally{if(c)throw c.error}}return v}function Rc(u,a){return a._queryParams.loadsAllData()?li(u):u.views.get(a._queryIdentifier)}function Xu(u,a){return null!=Rc(u,a)}function $i(u){return null!=li(u)}function li(u){var a,c;try{for(var h=(0,W.XA)(u.views.values()),v=h.next();!v.done;v=h.next()){var E=v.value;if(E.query._queryParams.loadsAllData())return E}}catch(D){a={error:D}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return null}var qs=1,xc=function(a){this.listenProvider_=a,this.syncPointTree_=new Jn(null),this.pendingWriteTree_={visibleWrites:Tr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Pa(u,a,c,h,v){return function(u,a,c,h,v){(0,I.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:a,snap:c,writeId:h,visible:v}),v&&(u.visibleWrites=Li(u.visibleWrites,a,c)),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h,v),v?Sr(u,new mo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,c)):[]}function Gt(u,a,c){void 0===c&&(c=!1);var h=function(u,a){for(var c=0;c<u.allWrites.length;c++){var h=u.allWrites[c];if(h.writeId===a)return h}return null}(u.pendingWriteTree_,a);if(function(u,a){var c=u.allWrites.findIndex(function(N){return N.writeId===a});(0,I.hu)(c>=0,"removeWrite called with nonexistent writeId.");var h=u.allWrites[c];u.allWrites.splice(c,1);for(var v=h.visible,E=!1,D=u.allWrites.length-1;v&&D>=0;){var A=u.allWrites[D];A.visible&&(D>=c&&um(A,h.path)?v=!1:Pn(h.path,A.path)&&(E=!0)),D--}return!!v&&(E?(function(u){u.visibleWrites=Ir(u.allWrites,Cc,Oe()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=$s(u.visibleWrites,h.path):ke(h.children,function(N){u.visibleWrites=$s(u.visibleWrites,lt(h.path,N))}),!0))}(u.pendingWriteTree_,a)){var E=new Jn(null);return null!=h.snap?E=E.set(Oe(),!0):ke(h.children,function(D){E=E.set(new st(D),!0)}),Sr(u,new mc(h.path,E,c))}return[]}function ci(u,a,c){return Sr(u,new mo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,c))}function Gi(u,a,c,h){var v=a._path,E=u.syncPointTree_.get(v),D=[];if(E&&("default"===a._queryIdentifier||Xu(E,a))){var A=function(u,a,c,h){var v,E,D=a._queryIdentifier,A=[],R=[],N=$i(u);if("default"===D)try{for(var k=(0,W.XA)(u.views.entries()),J=k.next();!J.done;J=k.next()){var be,le=(0,W.CR)(J.value,2),_e=le[0];R=R.concat(ai(be=le[1],c,h)),Co(be)&&(u.views.delete(_e),be.query._queryParams.loadsAllData()||A.push(be.query))}}catch(ze){v={error:ze}}finally{try{J&&!J.done&&(E=k.return)&&E.call(k)}finally{if(v)throw v.error}}else(be=u.views.get(D))&&(R=R.concat(ai(be,c,h)),Co(be)&&(u.views.delete(D),be.query._queryParams.loadsAllData()||A.push(be.query)));return N&&!$i(u)&&A.push(new((0,I.hu)(Na,"Reference.ts has not been loaded"),Na)(a._repo,a._path)),{removed:A,events:R}}(E,a,c,h);(function(u){return 0===u.views.size})(E)&&(u.syncPointTree_=u.syncPointTree_.remove(v));var R=A.removed;D=A.events;var N=-1!==R.findIndex(function(Ut){return Ut._queryParams.loadsAllData()}),k=u.syncPointTree_.findOnPath(v,function(Ut,ir){return $i(ir)});if(N&&!k){var J=u.syncPointTree_.subtree(v);if(!J.isEmpty())for(var le=function(u){return u.fold(function(a,c,h){if(c&&$i(c))return[li(c)];var E=[];return c&&(E=Mc(c)),ke(h,function(D,A){E=E.concat(A)}),E})}(J),_e=0;_e<le.length;++_e){var be=le[_e],ze=be.query,Ve=os(u,be);u.listenProvider_.startListening(ss(ze),ka(u,ze),Ve.hashFn,Ve.onComplete)}}!k&&R.length>0&&!h&&(N?u.listenProvider_.stopListening(ss(a),null):R.forEach(function(Ut){var ir=u.queryToTagMap.get(La(Ut));u.listenProvider_.stopListening(ss(Ut),ir)})),function(u,a){for(var c=0;c<a.length;++c){var h=a[c];if(!h._queryParams.loadsAllData()){var v=La(h),E=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(E)}}}(u,R)}return D}function Fa(u,a,c){var h=a._path,v=null,E=!1;u.syncPointTree_.foreachOnPath(h,function(ze,Ve){var Pe=Yt(ze,h);v=v||ui(Ve,Pe),E=E||$i(Ve)});var A,D=u.syncPointTree_.get(h);D?(E=E||$i(D),v=v||ui(D,Oe())):(D=new Qu,u.syncPointTree_=u.syncPointTree_.set(h,D)),null!=v?A=!0:(A=!1,v=Ze.EMPTY_NODE,u.syncPointTree_.subtree(h).foreachChild(function(ze,Ve){var Pe=ui(Ve,Oe());Pe&&(v=v.updateImmediateChild(ze,Pe))}));var N=Xu(D,a);if(!N&&!a._queryParams.loadsAllData()){var k=La(a);(0,I.hu)(!u.queryToTagMap.has(k),"View does not exist, but we have a tag");var J=qs++;u.queryToTagMap.set(k,J),u.tagToQueryMap.set(J,k)}var _e=function(u,a,c,h,v,E){var D=Sc(u,a,h,v,E);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,D),function(u,a){u.eventRegistrations_.push(a)}(D,c),function(u,a){var c=u.viewCache_.eventCache,h=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Mt,function(E,D){h.push(Fi(E,D))}),c.isFullyInitialized()&&h.push(Vu(c.getNode())),qu(u,h,c.getNode(),a)}(D,c)}(D,a,c,Bi(u.pendingWriteTree_,h),v,A);if(!N&&!E){var be=Rc(D,a);_e=_e.concat(function(u,a,c){var h=a._path,v=ka(u,a),E=os(u,c),D=u.listenProvider_.startListening(ss(a),v,E.hashFn,E.onComplete),A=u.syncPointTree_.subtree(h);if(v)(0,I.hu)(!$i(A.value),"If we're adding a query, it shouldn't be shadowed");else for(var R=A.fold(function(J,le,_e){if(!ct(J)&&le&&$i(le))return[li(le).query];var be=[];return le&&(be=be.concat(Mc(le).map(function(ze){return ze.query}))),ke(_e,function(ze,Ve){be=be.concat(Ve)}),be}),N=0;N<R.length;++N){var k=R[N];u.listenProvider_.stopListening(ss(k),ka(u,k))}return D}(u,a,be))}return _e}function di(u,a,c){var v=u.pendingWriteTree_,E=u.syncPointTree_.findOnPath(a,function(D,A){var N=ui(A,Yt(D,a));if(N)return N});return zs(v,a,E,c,!0)}function Sr(u,a){return wo(a,u.syncPointTree_,null,Bi(u.pendingWriteTree_,Oe()))}function wo(u,a,c,h){if(ct(u.path))return el(u,a,c,h);var v=a.get(Oe());null==c&&null!=v&&(c=ui(v,Oe()));var E=[],D=at(u.path),A=u.operationForChild(D),R=a.children.get(D);if(R&&A){var N=c?c.getImmediateChild(D):null,k=ts(h,D);E=E.concat(wo(A,R,N,k))}return v&&(E=E.concat(Ju(v,u,h,c))),E}function el(u,a,c,h){var v=a.get(Oe());null==c&&null!=v&&(c=ui(v,Oe()));var E=[];return a.children.inorderTraversal(function(D,A){var R=c?c.getImmediateChild(D):null,N=ts(h,D),k=u.operationForChild(D);k&&(E=E.concat(el(k,A,R,N)))}),v&&(E=E.concat(Ju(v,u,h,c))),E}function os(u,a){var c=a.query,h=ka(u,c);return{hashFn:function(){return(function(u){return u.viewCache_.serverCache.getNode()}(a)||Ze.EMPTY_NODE).hash()},onComplete:function(v){if("ok"===v)return h?function(u,a,c){var h=Va(u,c);if(h){var v=tl(h),E=v.path,D=v.queryId,A=Yt(E,a);return Ua(u,E,new Bu(go(D),A))}return[]}(u,c._path,h):function(u,a){return Sr(u,new Bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,c._path);var E=function(u,a){var c="Unknown Error";"too_big"===u?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?c="Client doesn't have permission to access the desired data.":"unavailable"===u&&(c="The service is unavailable");var h=new Error(u+" at "+a._path.toString()+": "+c);return h.code=u.toUpperCase(),h}(v,c);return Gi(u,c,null,E)}}}function ka(u,a){var c=La(a);return u.queryToTagMap.get(c)}function La(u){return u._path.toString()+"$"+u._queryIdentifier}function Va(u,a){return u.tagToQueryMap.get(a)}function tl(u){var a=u.indexOf("$");return(0,I.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new st(u.substr(0,a))}}function Ua(u,a,c){var h=u.syncPointTree_.get(a);return(0,I.hu)(h,"Missing sync point for query tag that we're tracking"),Ju(h,c,Bi(u.pendingWriteTree_,a),null)}function ss(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,I.hu)(Oa,"Reference.ts has not been loaded"),Oa)(u._repo,u._path):u}var ja=function(){function u(a){this.node_=a}return u.prototype.getImmediateChild=function(a){return new u(this.node_.getImmediateChild(a))},u.prototype.node=function(){return this.node_},u}(),Wi=function(){function u(a,c){this.syncTree_=a,this.path_=c}return u.prototype.getImmediateChild=function(a){var c=lt(this.path_,a);return new u(this.syncTree_,c)},u.prototype.node=function(){return di(this.syncTree_,this.path_)},u}(),cf=function(u,a,c){return u&&"object"==typeof u?((0,I.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Js(u[".sv"],a,c):"object"==typeof u[".sv"]?as(u[".sv"],a):void(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Js=function(u,a,c){switch(u){case"timestamp":return c.timestamp;default:(0,I.hu)(!1,"Unexpected server value: "+u)}},as=function(u,a,c){u.hasOwnProperty("increment")||(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));var h=u.increment;"number"!=typeof h&&(0,I.hu)(!1,"Unexpected increment value: "+h);var v=a.node();if((0,I.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;var D=v.getValue();return"number"!=typeof D?h:D+h},us=function(u,a,c,h){return To(a,new Wi(c,u),h)},fi=function(u,a,c){return To(u,new ja(a),c)};function To(u,a,c){var E,h=u.getPriority().val(),v=cf(h,a.getImmediateChild(".priority"),c);if(u.isLeafNode()){var D=u,A=cf(D.getValue(),a,c);return A!==D.getValue()||v!==D.getPriority().val()?new fo(A,Zt(v)):u}var R=u;return E=R,v!==R.getPriority().val()&&(E=E.updatePriority(new fo(v))),R.forEachChild(Mt,function(N,k){var J=To(k,a.getImmediateChild(N),c);J!==k&&(E=E.updateImmediateChild(N,J))}),E}var zr=function(a,c,h){void 0===a&&(a=""),void 0===c&&(c=null),void 0===h&&(h={children:{},childCount:0}),this.name=a,this.parent=c,this.node=h};function Xs(u,a){for(var c=a instanceof st?a:new st(a),h=u,v=at(c);null!==v;){var E=(0,I.DV)(h.node.children,v)||{children:{},childCount:0};h=new zr(v,h,E),v=at(c=bt(c))}return h}function Rt(u){return u.node.value}function ea(u,a){u.node.value=a,df(u)}function nl(u){return u.node.childCount>0}function Wt(u,a){ke(u.node.children,function(c,h){a(new zr(c,u,h))})}function ls(u,a,c,h){c&&!h&&a(u),Wt(u,function(v){ls(v,a,!0,h)}),c&&h&&a(u)}function cs(u){return new st(null===u.parent?u.name:cs(u.parent)+"/"+u.name)}function df(u){null!==u.parent&&function(u,a,c){var h=function(u){return void 0===Rt(u)&&!nl(u)}(c),v=(0,I.r3)(u.node.children,a);h&&v?(delete u.node.children[a],u.node.childCount--,df(u)):!h&&!v&&(u.node.children[a]=c.node,u.node.childCount++,df(u))}(u.parent,u.name,u)}var Mr=/[\[\].#$\/\u0000-\u001F\u007F]/,ta=/[\[\].#$\u0000-\u001F\u007F]/,pi=10485760,Ga=function(u){return"string"==typeof u&&0!==u.length&&!Mr.test(u)},Wa=function(u){return"string"==typeof u&&0!==u.length&&!ta.test(u)},Io=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ne(u)||u&&"object"==typeof u&&(0,I.r3)(u,".sv")},pr=function(u,a,c,h){h&&void 0===a||ds((0,I.gK)(u,"value"),a,c)},ds=function(u,a,c){var h=c instanceof st?new ya(c,u):c;if(void 0===a)throw new Error(u+"contains undefined "+co(h));if("function"==typeof a)throw new Error(u+"contains a function "+co(h)+" with contents = "+a.toString());if(ne(a))throw new Error(u+"contains "+a.toString()+" "+co(h));if("string"==typeof a&&a.length>pi/3&&(0,I.ug)(a)>pi)throw new Error(u+"contains a string greater than "+pi+" utf8 bytes "+co(h)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){var v=!1,E=!1;if(ke(a,function(D,A){if(".value"===D)v=!0;else if(".priority"!==D&&".sv"!==D&&(E=!0,!Ga(D)))throw new Error(u+" contains an invalid key ("+D+") "+co(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,I.ug)(a),Hd(u)})(h,D),ds(u,A,h),function(u){var a=u.parts_.pop();u.byteLength_-=(0,I.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&E)throw new Error(u+' contains ".value" child '+co(h)+" in addition to actual children.")}},Ao=function(u,a,c,h){if(!h||void 0!==a){var v=(0,I.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(v+" must be an object containing the children to replace.");var E=[];ke(a,function(D,A){var R=new st(D);if(ds(v,A,lt(c,R)),".priority"===Rs(R)&&!Io(A))throw new Error(v+"contains an invalid value for '"+R.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(R)}),function(u,a){var c,h;for(c=0;c<a.length;c++)for(var v=jr(h=a[c]),E=0;E<v.length;E++)if((".priority"!==v[E]||E!==v.length-1)&&!Ga(v[E]))throw new Error(u+"contains an invalid key ("+v[E]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');a.sort(cr);var D=null;for(c=0;c<a.length;c++){if(h=a[c],null!==D&&Pn(D,h))throw new Error(u+"contains a path "+D.toString()+" that is ancestor of another path "+h.toString());D=h}}(v,E)}},gi=function(u,a,c){if(!c||void 0!==a){if(ne(a))throw new Error((0,I.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Io(a))throw new Error((0,I.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ff=function(u,a,c){if(!c||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},il=function(u,a,c,h){if(!(h&&void 0===c||Ga(c)))throw new Error((0,I.gK)(u,a)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},So=function(u,a,c,h){if(!(h&&void 0===c||Wa(c)))throw new Error((0,I.gK)(u,a)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rr=function(u,a){if(".info"===at(a))throw new Error(u+" failed = Can't modify data under /.info/")},Oc=function(u,a){var c=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Ga(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==c.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Wa(u)}(c))throw new Error((0,I.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ol=function(u,a,c,h){if((!h||void 0!==c)&&"boolean"!=typeof c)throw new Error((0,I.gK)(u,a)+"must be a boolean.")},sl=function(){this.eventLists_=[],this.recursionDepth_=0};function Mo(u,a){for(var c=null,h=0;h<a.length;h++){var v=a[h],E=v.getPath();null!==c&&!xs(E,c.path)&&(u.eventLists_.push(c),c=null),null===c&&(c={events:[],path:E}),c.events.push(v)}c&&u.eventLists_.push(c)}function hs(u,a,c){Mo(u,c),mi(u,function(h){return xs(h,a)})}function Dn(u,a,c){Mo(u,c),mi(u,function(h){return Pn(h,a)||Pn(a,h)})}function mi(u,a){u.recursionDepth_++;for(var c=!0,h=0;h<u.eventLists_.length;h++){var v=u.eventLists_[h];v&&(a(v.path)?(pf(u.eventLists_[h]),u.eventLists_[h]=null):c=!1)}c&&(u.eventLists_=[]),u.recursionDepth_--}function pf(u){for(var a=0;a<u.events.length;a++){var c=u.events[a];if(null!==c){u.events[a]=null;var h=c.getEventRunner();ye&&we("event: "+c.toString()),Er(h)}}}var al="repo_interrupt",na=function(){function u(a,c,h,v){this.repoInfo_=a,this.forceRestClient_=c,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=po(),this.transactionQueueTree_=new zr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return u.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},u}();function ll(u){var c=u.infoData_.getNode(new st(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function gr(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:ll(u)})}function zi(u,a,c,h,v){u.dataUpdateCount++;var E=new st(a);c=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,c):c;var D=[];if(v)if(h){var A=(0,I.UI)(c,function(le){return Zt(le)});D=function(u,a,c,h){var v=Va(u,h);if(v){var E=tl(v),D=E.path,A=E.queryId,R=Yt(D,a),N=Jn.fromObject(c);return Ua(u,D,new Ia(go(A),R,N))}return[]}(u.serverSyncTree_,E,A,v)}else{var R=Zt(c);D=function(u,a,c,h){var v=Va(u,h);if(null!=v){var E=tl(v),D=E.path,A=E.queryId,R=Yt(D,a);return Ua(u,D,new mo(go(A),R,c))}return[]}(u.serverSyncTree_,E,R,v)}else if(h){var N=(0,I.UI)(c,function(le){return Zt(le)});D=function(u,a,c){var h=Jn.fromObject(c);return Sr(u,new Ia({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,h))}(u.serverSyncTree_,E,N)}else{var k=Zt(c);D=ci(u.serverSyncTree_,E,k)}var J=E;D.length>0&&(J=Zi(u,E)),Dn(u.eventQueue_,J,D)}function Fc(u,a){dl(u,"connected",a),!1===a&&function(u){Ro(u,"onDisconnectEvents");var a=gr(u),c=po();Kn(u.onDisconnect_,Oe(),function(v,E){var D=us(v,E,u.serverSyncTree_,a);ri(c,v,D)});var h=[];Kn(c,Oe(),function(v,E){h=h.concat(ci(u.serverSyncTree_,v,E));var D=ps(u,v);Zi(u,D)}),u.onDisconnect_=po(),Dn(u.eventQueue_,Oe(),h)}(u)}function dl(u,a,c){var h=new st("/.info/"+a),v=Zt(c);u.infoData_.updateSnapshot(h,v);var E=ci(u.infoSyncTree_,h,v);Dn(u.eventQueue_,h,E)}function Ya(u){return u.nextWriteId_++}function Yi(u,a,c,h,v){Ro(u,"set",{path:a.toString(),value:c,priority:h});var E=gr(u),D=Zt(c,h),A=di(u.serverSyncTree_,a),R=fi(D,A,E),N=Ya(u),k=Pa(u.serverSyncTree_,a,R,N,!0);Mo(u.eventQueue_,k),u.server_.put(a.toString(),D.val(!0),function(le,_e){var be="ok"===le;be||It("set at "+a+" failed: "+le);var ze=Gt(u.serverSyncTree_,N,!be);Dn(u.eventQueue_,a,ze),mr(0,v,le,_e)});var J=ps(u,a);Zi(u,J),Dn(u.eventQueue_,J,[])}function mf(u,a,c){u.server_.onDisconnectCancel(a.toString(),function(h,v){"ok"===h&&sn(u.onDisconnect_,a),mr(0,c,h,v)})}function hl(u,a,c,h){var v=Zt(c);u.server_.onDisconnectPut(a.toString(),v.val(!0),function(E,D){"ok"===E&&ri(u.onDisconnect_,a,v),mr(0,h,E,D)})}function gl(u,a,c){var h;h=".info"===at(a._path)?Gi(u.infoSyncTree_,a,c):Gi(u.serverSyncTree_,a,c),hs(u.eventQueue_,a._path,h)}function Za(u){u.persistentConnection_&&u.persistentConnection_.interrupt(al)}function Ro(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var h="";u.persistentConnection_&&(h=u.persistentConnection_.id+":"),we.apply(void 0,(0,W.ev)([h],(0,W.CR)(a)))}function mr(u,a,c,h){a&&Er(function(){if("ok"===c)a(null);else{var v=(c||"error").toUpperCase(),E=v;h&&(E+=": "+h);var D=new Error(E);D.code=v,a(D)}})}function _r(u,a,c){return di(u.serverSyncTree_,a,c)||Ze.EMPTY_NODE}function _i(u,a){if(void 0===a&&(a=u.transactionQueueTree_),a||ra(u,a),Rt(a)){var c=fp(u,a);(0,I.hu)(c.length>0,"Sending zero length transaction queue"),c.every(function(v){return 0===v.status})&&function(u,a,c){for(var h=c.map(function(le){return le.currentWriteId}),v=_r(u,a,h),E=v,D=v.hash(),A=0;A<c.length;A++){var R=c[A];(0,I.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;var N=Yt(a,R.path);E=E.updateChild(N,R.currentOutputSnapshotRaw)}var k=E.val(!0),J=a;u.server_.put(J.toString(),k,function(le){Ro(u,"transaction put response",{path:J.toString(),status:le});var _e=[];if("ok"===le){for(var be=[],ze=function(Pe){c[Pe].status=2,_e=_e.concat(Gt(u.serverSyncTree_,c[Pe].currentWriteId)),c[Pe].onComplete&&be.push(function(){return c[Pe].onComplete(null,!0,c[Pe].currentOutputSnapshotResolved)}),c[Pe].unwatcher()},Ve=0;Ve<c.length;Ve++)ze(Ve);for(ra(u,Xs(u.transactionQueueTree_,a)),_i(u,u.transactionQueueTree_),Dn(u.eventQueue_,a,_e),Ve=0;Ve<be.length;Ve++)Er(be[Ve])}else{if("datastale"===le)for(Ve=0;Ve<c.length;Ve++)c[Ve].status=3===c[Ve].status?4:0;else for(It("transaction at "+J.toString()+" failed: "+le),Ve=0;Ve<c.length;Ve++)c[Ve].status=4,c[Ve].abortReason=le;Zi(u,a)}},D)}(u,cs(a),c)}else nl(a)&&Wt(a,function(v){_i(u,v)})}function Zi(u,a){var c=Bc(u,a),h=cs(c);return function(u,a,c){if(0!==a.length){for(var h=[],v=[],D=a.filter(function(N){return 0===N.status}).map(function(N){return N.currentWriteId}),A=function(N){var _e,k=a[N],J=Yt(c,k.path),le=!1;if((0,I.hu)(null!==J,"rerunTransactionsUnderNode_: relativePath should not be null."),4===k.status)le=!0,_e=k.abortReason,v=v.concat(Gt(u.serverSyncTree_,k.currentWriteId,!0));else if(0===k.status)if(k.retryCount>=25)le=!0,_e="maxretry",v=v.concat(Gt(u.serverSyncTree_,k.currentWriteId,!0));else{var be=_r(u,k.path,D);k.currentInputSnapshot=be;var ze=a[N].update(be.val());if(void 0!==ze){ds("transaction failed: Data returned ",ze,k.path);var Ve=Zt(ze);"object"==typeof ze&&null!=ze&&(0,I.r3)(ze,".priority")||(Ve=Ve.updatePriority(be.getPriority()));var Ut=k.currentWriteId,ir=gr(u),vs=fi(Ve,be,ir);k.currentOutputSnapshotRaw=Ve,k.currentOutputSnapshotResolved=vs,k.currentWriteId=Ya(u),D.splice(D.indexOf(Ut),1),v=(v=v.concat(Pa(u.serverSyncTree_,k.path,vs,k.currentWriteId,k.applyLocally))).concat(Gt(u.serverSyncTree_,Ut,!0))}else le=!0,_e="nodata",v=v.concat(Gt(u.serverSyncTree_,k.currentWriteId,!0))}Dn(u.eventQueue_,c,v),v=[],le&&(a[N].status=2,setTimeout(a[N].unwatcher,Math.floor(0)),a[N].onComplete&&h.push("nodata"===_e?function(){return a[N].onComplete(null,!1,a[N].currentInputSnapshot)}:function(){return a[N].onComplete(new Error(_e),!1,null)}))},R=0;R<a.length;R++)A(R);for(ra(u,u.transactionQueueTree_),R=0;R<h.length;R++)Er(h[R]);_i(u,u.transactionQueueTree_)}}(u,fp(u,c),h),h}function Bc(u,a){var c,h=u.transactionQueueTree_;for(c=at(a);null!==c&&void 0===Rt(h);)h=Xs(h,c),c=at(a=bt(a));return h}function fp(u,a){var c=[];return hp(u,a,c),c.sort(function(h,v){return h.order-v.order}),c}function hp(u,a,c){var h=Rt(a);if(h)for(var v=0;v<h.length;v++)c.push(h[v]);Wt(a,function(E){hp(u,E,c)})}function ra(u,a){var c=Rt(a);if(c){for(var h=0,v=0;v<c.length;v++)2!==c[v].status&&(c[h]=c[v],h++);c.length=h,ea(a,c.length>0?c:void 0)}Wt(a,function(E){ra(u,E)})}function ps(u,a){var c=cs(Bc(u,a)),h=Xs(u.transactionQueueTree_,a);return function(u,a,c){for(var h=u.parent;null!==h;){if(a(h))return!0;h=h.parent}}(h,function(v){qa(u,v)}),qa(u,h),ls(h,function(v){qa(u,v)}),c}function qa(u,a){var c=Rt(a);if(c){for(var h=[],v=[],E=-1,D=0;D<c.length;D++)3===c[D].status||(1===c[D].status?((0,I.hu)(E===D-1,"All SENT items should be at beginning of queue."),E=D,c[D].status=3,c[D].abortReason="set"):((0,I.hu)(0===c[D].status,"Unexpected transaction status in abort"),c[D].unwatcher(),v=v.concat(Gt(u.serverSyncTree_,c[D].currentWriteId,!0)),c[D].onComplete&&h.push(c[D].onComplete.bind(null,new Error("set"),!1,null))));for(-1===E?ea(a,void 0):c.length=E+1,Dn(u.eventQueue_,cs(a),v),D=0;D<h.length;D++)Er(h[D])}}var qi=function(u,a){var c=gp(u),h=c.namespace;return"firebase.com"===c.domain&&vt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==c.domain&&vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jt(c.host,c.secure,h,a,"ws"===c.scheme||"wss"===c.scheme,"",h!==c.subdomain),path:new st(c.pathString)}},gp=function(u){var a="",c="",h="",v="",E="",D=!0,A="https",R=443;if("string"==typeof u){var N=u.indexOf("//");N>=0&&(A=u.substring(0,N-1),u=u.substring(N+2));var k=u.indexOf("/");-1===k&&(k=u.length);var J=u.indexOf("?");-1===J&&(J=u.length),a=u.substring(0,Math.min(k,J)),k<J&&(v=function(u){for(var a="",c=u.split("/"),h=0;h<c.length;h++)if(c[h].length>0){var v=c[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(E){}a+="/"+v}return a}(u.substring(k,J)));var le=function(u){var a,c,h={};"?"===u.charAt(0)&&(u=u.substring(1));try{for(var v=(0,W.XA)(u.split("&")),E=v.next();!E.done;E=v.next()){var D=E.value;if(0!==D.length){var A=D.split("=");2===A.length?h[decodeURIComponent(A[0])]=decodeURIComponent(A[1]):It("Invalid query segment '"+D+"' in query '"+u+"'")}}}catch(R){a={error:R}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}(u.substring(Math.min(u.length,J)));(N=a.indexOf(":"))>=0?(D="https"===A||"wss"===A,R=parseInt(a.substring(N+1),10)):N=a.length;var _e=a.slice(0,N);if("localhost"===_e.toLowerCase())c="localhost";else if(_e.split(".").length<=2)c=_e;else{var be=a.indexOf(".");h=a.substring(0,be).toLowerCase(),c=a.substring(be+1),E=h}"ns"in le&&(E=le.ns)}return{host:a,port:R,domain:c,subdomain:h,secure:D,scheme:A,pathString:v,namespace:E}},rn=function(){function u(a,c,h,v){this.eventType=a,this.eventRegistration=c,this.snapshot=h,this.prevName=v}return u.prototype.getPath=function(){var a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path},u.prototype.getEventType=function(){return this.eventType},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.Pz)(this.snapshot.exportVal())},u}(),jc=function(){function u(a,c,h){this.eventRegistration=a,this.error=c,this.path=h}return u.prototype.getPath=function(){return this.path},u.prototype.getEventType=function(){return"cancel"},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.path.toString()+":cancel"},u}(),Qe=function(){function u(a,c){this.snapshotCallback=a,this.cancelCallback=c}return u.prototype.onValue=function(a,c){this.snapshotCallback.call(null,a,c)},u.prototype.onCancel=function(a){return(0,I.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)},Object.defineProperty(u.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),u.prototype.matches=function(a){return this.snapshotCallback===a.snapshotCallback||this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context},u}(),Qa=function(){function u(a,c){this._repo=a,this._path=c}return u.prototype.cancel=function(){var a=new I.BH;return mf(this._repo,this._path,a.wrapCallback(function(){})),a.promise},u.prototype.remove=function(){rr("OnDisconnect.remove",this._path);var a=new I.BH;return hl(this._repo,this._path,null,a.wrapCallback(function(){})),a.promise},u.prototype.set=function(a){rr("OnDisconnect.set",this._path),pr("OnDisconnect.set",a,this._path,!1);var c=new I.BH;return hl(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u.prototype.setWithPriority=function(a,c){rr("OnDisconnect.setWithPriority",this._path),pr("OnDisconnect.setWithPriority",a,this._path,!1),gi("OnDisconnect.setWithPriority",c,!1);var h=new I.BH;return function(u,a,c,h,v){var E=Zt(c,h);u.server_.onDisconnectPut(a.toString(),E.val(!0),function(D,A){"ok"===D&&ri(u.onDisconnect_,a,E),mr(0,v,D,A)})}(this._repo,this._path,a,c,h.wrapCallback(function(){})),h.promise},u.prototype.update=function(a){rr("OnDisconnect.update",this._path),Ao("OnDisconnect.update",a,this._path,!1);var c=new I.BH;return function(u,a,c,h){if((0,I.xb)(c))return we("onDisconnect().update() called with empty data.  Don't do anything."),void mr(0,h,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),c,function(v,E){"ok"===v&&ke(c,function(D,A){var R=Zt(A);ri(u.onDisconnect_,lt(a,D),R)}),mr(0,h,v,E)})}(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u}(),Ln=function(){function u(a,c,h,v){this._repo=a,this._path=c,this._queryParams=h,this._orderByCalled=v}return Object.defineProperty(u.prototype,"key",{get:function(){return ct(this._path)?null:Rs(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new Dt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryIdentifier",{get:function(){var a=js(this._queryParams),c=Ot(a);return"{}"===c?"default":c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryObject",{get:function(){return js(this._queryParams)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){if(!((a=(0,I.m9)(a))instanceof u))return!1;var c=this._repo===a._repo,h=xs(this._path,a._path);return c&&h&&this._queryIdentifier===a._queryIdentifier},u.prototype.toJSON=function(){return this.toString()},u.prototype.toString=function(){return this._repo.toString()+function(u){for(var a="",c=u.pieceNum_;c<u.pieces_.length;c++)""!==u.pieces_[c]&&(a+="/"+encodeURIComponent(String(u.pieces_[c])));return a||"/"}(this._path)},u}();function qr(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Vt(u){var a=null,c=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(c=u.getIndexEndValue()),u.getIndex()===Gr){var h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==X)throw new Error(h);if("string"!=typeof a)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==pe)throw new Error(h);if("string"!=typeof c)throw new Error(v)}}else if(u.getIndex()===Mt){if(null!=a&&!Io(a)||null!=c&&!Io(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.hu)(u.getIndex()instanceof Jo||u.getIndex()===Ps,"unknown index type."),null!=a&&"object"==typeof a||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ka(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Dt=function(u){function a(c,h){return u.call(this,c,h,new hc,!1)||this}return(0,W.ZT)(a,u),Object.defineProperty(a.prototype,"parent",{get:function(){var c=Hr(this._path);return null===c?null:new a(this._repo,c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){for(var c=this;null!==c.parent;)c=c.parent;return c},enumerable:!1,configurable:!0}),a}(Ln),Vn=function(){function u(a,c,h){this._node=a,this.ref=c,this._index=h}return Object.defineProperty(u.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),u.prototype.child=function(a){var c=new st(a),h=Qi(this.ref,a);return new u(this._node.getChild(c),h,Mt)},u.prototype.exists=function(){return!this._node.isEmpty()},u.prototype.exportVal=function(){return this._node.val(!0)},u.prototype.forEach=function(a){var c=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(v,E){return a(new u(E,Qi(c.ref,v),Mt))})},u.prototype.hasChild=function(a){var c=new st(a);return!this._node.getChild(c).isEmpty()},u.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},u.prototype.toJSON=function(){return this.exportVal()},u.prototype.val=function(){return this._node.val()},u}();function ia(u,a){return(u=(0,I.m9)(u))._checkNotDeleted("ref"),void 0!==a?Qi(u._root,a):u._root}function Ja(u,a){(u=(0,I.m9)(u))._checkNotDeleted("refFromURL");var c=qi(a,u._repo.repoInfo_.nodeAdmin);Oc("refFromURL",c);var h=c.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&h.host!==u._repo.repoInfo_.host&&vt("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+u._repo.repoInfo_.host+")"),ia(u,c.path.toString())}function Qi(u,a){return null===at((u=(0,I.m9)(u))._path)?((c=a)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),So("child","path",c,!1)):So("child","path",a,!1),new Dt(u._repo,lt(u._path,a));var c}function Ef(u,a){u=(0,I.m9)(u),rr("push",u._path),pr("push",a,u._path,!0);var D,c=ll(u._repo),h=dc(c),v=Qi(u,h),E=Qi(u,h);return D=null!=a?_l(E,a).then(function(){return E}):Promise.resolve(E),v.then=D.then.bind(D),v.catch=D.then.bind(D,void 0),v}function bf(u){return rr("remove",u._path),_l(u,null)}function _l(u,a){u=(0,I.m9)(u),rr("set",u._path),pr("set",a,u._path,!1);var c=new I.BH;return Yi(u._repo,u._path,a,null,c.wrapCallback(function(){})),c.promise}function Hc(u,a){u=(0,I.m9)(u),rr("setPriority",u._path),gi("setPriority",a,!1);var c=new I.BH;return Yi(u._repo,lt(u._path,".priority"),a,null,c.wrapCallback(function(){})),c.promise}function Df(u,a,c){if(rr("setWithPriority",u._path),pr("setWithPriority",a,u._path,!1),gi("setWithPriority",c,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";var h=new I.BH;return Yi(u._repo,u._path,a,c,h.wrapCallback(function(){})),h.promise}function mp(u,a){Ao("update",a,u._path,!1);var c=new I.BH;return function(u,a,c,h){Ro(u,"update",{path:a.toString(),value:c});var v=!0,E=gr(u),D={};if(ke(c,function(N,k){v=!1,D[N]=us(lt(a,N),Zt(k),u.serverSyncTree_,E)}),v)we("update() called with empty data.  Don't do anything."),mr(0,h,"ok",void 0);else{var A=Ya(u),R=function(u,a,c,h){!function(u,a,c,h){(0,I.hu)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:c,writeId:h,visible:!0}),u.visibleWrites=Vi(u.visibleWrites,a,c),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h);var v=Jn.fromObject(c);return Sr(u,new Ia({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,v))}(u.serverSyncTree_,a,D,A);Mo(u.eventQueue_,R),u.server_.merge(a.toString(),c,function(N,k){var J="ok"===N;J||It("update at "+a+" failed: "+N);var le=Gt(u.serverSyncTree_,A,!J),_e=le.length>0?Zi(u,a):a;Dn(u.eventQueue_,_e,le),mr(0,h,N,k)}),ke(c,function(N){var k=ps(u,lt(a,N));Zi(u,k)}),Dn(u.eventQueue_,a,[])}}(u._repo,u._path,a,c.wrapCallback(function(){})),c.promise}function wf(u){return function(u,a){var c=function(u,a){var c=a._path,h=null;u.syncPointTree_.foreachOnPath(c,function(N,k){var J=Yt(N,c);h=h||ui(k,J)});var v=u.syncPointTree_.get(c);v?h=h||ui(v,Oe()):(v=new Qu,u.syncPointTree_=u.syncPointTree_.set(c,v));var E=null!=h,D=E?new ki(h,!0,!1):null;return function(u){return ju(u.viewCache_)}(Sc(v,a,Bi(u.pendingWriteTree_,a._path),E?D.getNode():Ze.EMPTY_NODE,E))}(u.serverSyncTree_,a);return null!=c?Promise.resolve(c):u.server_.get(a).then(function(h){var v=Zt(h).withIndex(a._queryParams.getIndex()),E=ci(u.serverSyncTree_,a._path,v);return hs(u.eventQueue_,a._path,E),Promise.resolve(v)},function(h){return Ro(u,"get for query "+(0,I.Pz)(a)+" failed: "+h),Promise.reject(new Error(h))})}((u=(0,I.m9)(u))._repo,u).then(function(a){return new Vn(a,new Dt(u._repo,u._path),u._queryParams.getIndex())})}var gs=function(){function u(a){this.callbackContext=a}return u.prototype.respondsTo=function(a){return"value"===a},u.prototype.createEvent=function(a,c){var h=c._queryParams.getIndex();return new rn("value",this,new Vn(a.snapshotNode,new Dt(c._repo,c._path),h))},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,null)}},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new jc(this,a,c):null},u.prototype.matches=function(a){return a instanceof u&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))},u.prototype.hasAnyCallback=function(){return null!==this.callbackContext},u}(),An=function(){function u(a,c){this.eventType=a,this.callbackContext=c}return u.prototype.respondsTo=function(a){var c="children_added"===a?"child_added":a;return this.eventType===("children_removed"===c?"child_removed":c)},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new jc(this,a,c):null},u.prototype.createEvent=function(a,c){(0,I.hu)(null!=a.childName,"Child events should have a childName.");var h=Qi(new Dt(c._repo,c._path),a.childName),v=c._queryParams.getIndex();return new rn(a.type,this,new Vn(a.snapshotNode,h,v),a.prevName)},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,a.prevName)}},u.prototype.matches=function(a){return a instanceof u&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))},u.prototype.hasAnyCallback=function(){return!!this.callbackContext},u}();function xo(u,a,c,h,v){var E;if("object"==typeof h&&(E=void 0,v=h),"function"==typeof h&&(E=h),v&&v.onlyOnce){var D=c,A=function(k,J){gl(u._repo,u,N),D(k,J)};A.userCallback=c.userCallback,A.context=c.context,c=A}var R=new Qe(c,E||void 0),N="value"===a?new gs(R):new An(a,R);return function(u,a,c){var h;h=".info"===at(a._path)?Fa(u.infoSyncTree_,a,c):Fa(u.serverSyncTree_,a,c),hs(u.eventQueue_,a._path,h)}(u._repo,u,N),function(){return gl(u._repo,u,N)}}function Xa(u,a,c,h){return xo(u,"value",a,c,h)}function vl(u,a,c,h){return xo(u,"child_added",a,c,h)}function wn(u,a,c,h){return xo(u,"child_changed",a,c,h)}function oa(u,a,c,h){return xo(u,"child_moved",a,c,h)}function Rr(u,a,c,h){return xo(u,"child_removed",a,c,h)}function ms(u,a,c){var h=null,v=c?new Qe(c):null;"value"===a?h=new gs(v):a&&(h=new An(a,v)),gl(u._repo,u,h)}var xr=function(){},eu=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){pr("endAt",this._value,c._path,!0);var h=Us(c._queryParams,this._value,this._key);if(Ka(h),Vt(h),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(xr);function $c(u,a){return il("endAt","key",a,!0),new eu(u,a)}var Gc=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){pr("endBefore",this._value,c._path,!1);var h=function(u,a,c){var v;return u.index_===Gr?("string"==typeof a&&(a=Pi(a)),v=Us(u,a,c)):v=Us(u,a,null==c?X:Pi(c)),v.endBeforeSet_=!0,v}(c._queryParams,this._value,this._key);if(Ka(h),Vt(h),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Tf(u,a){return il("endBefore","key",a,!0),new Gc(u,a)}var yl=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){pr("startAt",this._value,c._path,!0);var h=Vs(c._queryParams,this._value,this._key);if(Ka(h),Vt(h),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Wc(u,a){return void 0===u&&(u=null),il("startAt","key",a,!0),new yl(u,a)}var If=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){pr("startAfter",this._value,c._path,!1);var h=function(u,a,c){var h;return u.index_===Gr?("string"==typeof a&&(a=Fs(a)),h=Vs(u,a,c)):h=Vs(u,a,null==c?pe:Fs(c)),h.startAfterSet_=!0,h}(c._queryParams,this._value,this._key);if(Ka(h),Vt(h),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(xr);function _p(u,a){return il("startAfter","key",a,!0),new If(u,a)}var sa=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ln(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="l",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function vi(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sa(u)}var zc=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ln(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="r",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function Af(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zc(u)}var lm=function(u){function a(c){var h=u.call(this)||this;return h._path=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByChild");var h=new st(this._path);if(ct(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var v=new Jo(h),E=Fn(c._queryParams,v);return Vt(E),new Ln(c._repo,c._path,E,!0)},a}(xr);function Cl(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return So("orderByChild","path",u,!1),new lm(u)}var Nr=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByKey");var h=Fn(c._queryParams,Gr);return Vt(h),new Ln(c._repo,c._path,h,!0)},a}(xr);function El(){return new Nr}var Sf=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByPriority");var h=Fn(c._queryParams,Mt);return Vt(h),new Ln(c._repo,c._path,h,!0)},a}(xr);function _s(){return new Sf}var Yc=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByValue");var h=Fn(c._queryParams,Ps);return Vt(h),new Ln(c._repo,c._path,h,!0)},a}(xr);function Mf(){return new Yc}var Rf=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(pr("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new eu(this._value,this._key)._apply(new yl(this._value,this._key)._apply(c))},a}(xr);function Zc(u,a){return il("equalTo","key",a,!0),new Rf(u,a)}function Or(u){for(var a,c,h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var E=(0,I.m9)(u);try{for(var D=(0,W.XA)(h),A=D.next();!A.done;A=D.next()){var R=A.value;E=R._apply(E)}}catch(N){a={error:N}}finally{try{A&&!A.done&&(c=D.return)&&c.call(D)}finally{if(a)throw a.error}}return E}(function(u){(0,I.hu)(!Na,"__referenceConstructor has already been defined"),Na=u})(Dt),function(u){(0,I.hu)(!Oa,"__referenceConstructor has already been defined"),Oa=u}(Dt);var Yn={},nu=!1;function bl(u,a,c,h,v){var E=h||u.options.databaseURL;void 0===E&&(u.options.projectId||vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",u.options.projectId),E=u.options.projectId+"-default-rtdb.firebaseio.com");var R,D=qi(E,v),A=D.repoInfo,N=void 0;"undefined"!=typeof process&&(N=process.env.FIREBASE_DATABASE_EMULATOR_HOST),N?(R=!0,A=(D=qi(E="http://"+N+"?ns="+A.namespace,v)).repoInfo):R=!D.repoInfo.secure;var k=v&&R?new ot(ot.OWNER):new pt(u.name,u.options,a);Oc("Invalid Firebase Database URL",D),ct(D.path)||vt("Database URL must point to the root of a Firebase Database (not including a child path).");var J=function(u,a,c,h){var v=Yn[a.name];v||(Yn[a.name]=v={});var E=v[u.toURLString()];return E&&vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new na(u,nu,c,h),v[u.toURLString()]=E,E}(A,u,k,new Ms(u.name,c));return new qc(J,u)}var qc=function(){function u(a,c){this._repoInternal=a,this.app=c,this.type="database",this._instanceStarted=!1}return Object.defineProperty(u.prototype,"_repo",{get:function(){return this._instanceStarted||(function(u,a,c){if(u.stats_=At(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new ip(u.repoInfo_,function(h,v,E,D){zi(u,h,v,E,D)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(function(){return Fc(u,!0)},0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.Pz)(c)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Qo(u.repoInfo_,a,function(h,v,E,D){zi(u,h,v,E,D)},function(h){Fc(u,h)},function(h){!function(u,a){ke(a,function(c,h){dl(u,c,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,c),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(function(h){u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(function(h){u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function(u,a){var c=u.toString();return ar[c]||(ar[c]=a()),ar[c]}(u.repoInfo_,function(){return new gc(u.stats_,u.server_)}),u.infoData_=new Kd,u.infoSyncTree_=new xc({startListening:function(h,v,E,D){var A=[],R=u.infoData_.getNode(h._path);return R.isEmpty()||(A=ci(u.infoSyncTree_,h._path,R),setTimeout(function(){D("ok")},0)),A},stopListening:function(){}}),dl(u,"connected",!1),u.serverSyncTree_=new xc({startListening:function(h,v,E,D){return u.server_.listen(h,E,v,function(A,R){var N=D(A,R);Dn(u.eventQueue_,h._path,N)}),[]},stopListening:function(h,v){u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Dt(this._repo,Oe())),this._rootInternal},enumerable:!1,configurable:!0}),u.prototype._delete=function(){return null!==this._rootInternal&&(function(u,a){var c=Yn[a];(!c||c[u.key]!==u)&&vt("Database "+a+"("+u.repoInfo_+") has already been deleted."),Za(u),delete c[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},u.prototype._checkNotDeleted=function(a){null===this._rootInternal&&vt("Cannot call "+a+" on a deleted database.")},u}();function Kc(u){(u=(0,I.m9)(u))._checkNotDeleted("goOffline"),Za(u._repo)}function Oo(u){(u=(0,I.m9)(u))._checkNotDeleted("goOnline"),function(u){u.persistentConnection_&&u.persistentConnection_.resume(al)}(u._repo)}var Pr={".sv":"timestamp"},Jc=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}();function yp(u,a,c){var h;if(u=(0,I.m9)(u),rr("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";var v=null===(h=null==c?void 0:c.applyLocally)||void 0===h||h,E=new I.BH,A=Xa(u,function(){});return function(u,a,c,h,v,E){Ro(u,"transaction on "+a);var D={path:a,update:c,onComplete:h,status:null,order:ce(),applyLocally:E,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},A=_r(u,a,void 0);D.currentInputSnapshot=A;var R=D.update(A.val());if(void 0===R)D.unwatcher(),D.currentOutputSnapshotRaw=null,D.currentOutputSnapshotResolved=null,D.onComplete&&D.onComplete(null,!1,D.currentInputSnapshot);else{ds("transaction failed: Data returned ",R,D.path),D.status=0;var N=Xs(u.transactionQueueTree_,a),k=Rt(N)||[];k.push(D),ea(N,k);var J=void 0;"object"==typeof R&&null!==R&&(0,I.r3)(R,".priority")?(J=(0,I.DV)(R,".priority"),(0,I.hu)(Io(J),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):J=(di(u.serverSyncTree_,a)||Ze.EMPTY_NODE).getPriority().val();var _e=gr(u),be=Zt(R,J),ze=fi(be,A,_e);D.currentOutputSnapshotRaw=be,D.currentOutputSnapshotResolved=ze,D.currentWriteId=Ya(u);var Ve=Pa(u.serverSyncTree_,a,ze,D.currentWriteId,D.applyLocally);Dn(u.eventQueue_,a,Ve),_i(u,u.transactionQueueTree_)}}(u._repo,u._path,a,function(R,N,k){var J=null;R?E.reject(R):(J=new Vn(k,new Dt(u._repo,u._path),Mt),E.resolve(new Jc(N,J)))},A,v),E.promise}var Qr=function(){function u(a){this._delegate=a}return u.prototype.cancel=function(a){(0,I.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,I.Wj)("OnDisconnect.cancel","onComplete",a,!0);var c=this._delegate.cancel();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.remove=function(a){(0,I.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,I.Wj)("OnDisconnect.remove","onComplete",a,!0);var c=this._delegate.remove();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.set=function(a,c){(0,I.Dv)("OnDisconnect.set",1,2,arguments.length),(0,I.Wj)("OnDisconnect.set","onComplete",c,!0);var h=this._delegate.set(a);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},u.prototype.setWithPriority=function(a,c,h){(0,I.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);var v=this._delegate.setWithPriority(a,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},u.prototype.update=function(a,c){if((0,I.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){for(var h={},v=0;v<a.length;++v)h[""+v]=a[v];a=h,It("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.Wj)("OnDisconnect.update","onComplete",c,!0);var E=this._delegate.update(a);return c&&E.then(function(){return c(null)},function(D){return c(D)}),E},u}(),iu=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return(0,I.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}(),Ki=function(){function u(a,c){this._database=a,this._delegate=c}return u.prototype.val=function(){return(0,I.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},u.prototype.exportVal=function(){return(0,I.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},u.prototype.toJSON=function(){return(0,I.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.exists=function(){return(0,I.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},u.prototype.child=function(a){return(0,I.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),So("DataSnapshot.child","path",a,!1),new u(this._database,this._delegate.child(a))},u.prototype.hasChild=function(a){return(0,I.Dv)("DataSnapshot.hasChild",1,1,arguments.length),So("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)},u.prototype.getPriority=function(){return(0,I.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},u.prototype.forEach=function(a){var c=this;return(0,I.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,I.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(function(h){return a(new u(c._database,h))})},u.prototype.hasChildren=function(){return(0,I.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(u.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),u.prototype.numChildren=function(){return(0,I.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},u.prototype.getRef=function(){return(0,I.Dv)("DataSnapshot.ref",0,0,arguments.length),new yi(this._database,this._delegate.ref)},Object.defineProperty(u.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),u}(),Dl=function(){function u(a,c){this.database=a,this._delegate=c}return u.prototype.on=function(a,c,h,v){var D,E=this;(0,I.Dv)("Query.on",2,4,arguments.length),(0,I.Wj)("Query.on","callback",c,!1);var A=u.getCancelAndContextArgs_("Query.on",h,v),R=function(k,J){c.call(A.context,new Ki(E.database,k),J)};R.userCallback=c,R.context=A.context;var N=null===(D=A.cancel)||void 0===D?void 0:D.bind(A.context);switch(a){case"value":return Xa(this._delegate,R,N),c;case"child_added":return vl(this._delegate,R,N),c;case"child_removed":return Rr(this._delegate,R,N),c;case"child_changed":return wn(this._delegate,R,N),c;case"child_moved":return oa(this._delegate,R,N),c;default:throw new Error((0,I.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},u.prototype.off=function(a,c,h){if((0,I.Dv)("Query.off",0,3,arguments.length),ff("Query.off",a,!0),(0,I.Wj)("Query.off","callback",c,!0),(0,I.lb)("Query.off","context",h,!0),c){var v=function(){};v.userCallback=c,v.context=h,ms(this._delegate,a,v)}else ms(this._delegate,a)},u.prototype.get=function(){var a=this;return wf(this._delegate).then(function(c){return new Ki(a.database,c)})},u.prototype.once=function(a,c,h,v){var E=this;(0,I.Dv)("Query.once",1,4,arguments.length),(0,I.Wj)("Query.once","callback",c,!0);var D=u.getCancelAndContextArgs_("Query.once",h,v),A=new I.BH,R=function(k,J){var le=new Ki(E.database,k);c&&c.call(D.context,le,J),A.resolve(le)};R.userCallback=c,R.context=D.context;var N=function(k){D.cancel&&D.cancel.call(D.context,k),A.reject(k)};switch(a){case"value":Xa(this._delegate,R,N,{onlyOnce:!0});break;case"child_added":vl(this._delegate,R,N,{onlyOnce:!0});break;case"child_removed":Rr(this._delegate,R,N,{onlyOnce:!0});break;case"child_changed":wn(this._delegate,R,N,{onlyOnce:!0});break;case"child_moved":oa(this._delegate,R,N,{onlyOnce:!0});break;default:throw new Error((0,I.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return A.promise},u.prototype.limitToFirst=function(a){return(0,I.Dv)("Query.limitToFirst",1,1,arguments.length),new u(this.database,Or(this._delegate,vi(a)))},u.prototype.limitToLast=function(a){return(0,I.Dv)("Query.limitToLast",1,1,arguments.length),new u(this.database,Or(this._delegate,Af(a)))},u.prototype.orderByChild=function(a){return(0,I.Dv)("Query.orderByChild",1,1,arguments.length),new u(this.database,Or(this._delegate,Cl(a)))},u.prototype.orderByKey=function(){return(0,I.Dv)("Query.orderByKey",0,0,arguments.length),new u(this.database,Or(this._delegate,El()))},u.prototype.orderByPriority=function(){return(0,I.Dv)("Query.orderByPriority",0,0,arguments.length),new u(this.database,Or(this._delegate,_s()))},u.prototype.orderByValue=function(){return(0,I.Dv)("Query.orderByValue",0,0,arguments.length),new u(this.database,Or(this._delegate,Mf()))},u.prototype.startAt=function(a,c){return void 0===a&&(a=null),(0,I.Dv)("Query.startAt",0,2,arguments.length),new u(this.database,Or(this._delegate,Wc(a,c)))},u.prototype.startAfter=function(a,c){return void 0===a&&(a=null),(0,I.Dv)("Query.startAfter",0,2,arguments.length),new u(this.database,Or(this._delegate,_p(a,c)))},u.prototype.endAt=function(a,c){return void 0===a&&(a=null),(0,I.Dv)("Query.endAt",0,2,arguments.length),new u(this.database,Or(this._delegate,$c(a,c)))},u.prototype.endBefore=function(a,c){return void 0===a&&(a=null),(0,I.Dv)("Query.endBefore",0,2,arguments.length),new u(this.database,Or(this._delegate,Tf(a,c)))},u.prototype.equalTo=function(a,c){return(0,I.Dv)("Query.equalTo",1,2,arguments.length),new u(this.database,Or(this._delegate,Zc(a,c)))},u.prototype.toString=function(){return(0,I.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},u.prototype.toJSON=function(){return(0,I.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.isEqual=function(a){if((0,I.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof u)){var c="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(c)}return this._delegate.isEqual(a._delegate)},u.getCancelAndContextArgs_=function(a,c,h){var v={cancel:void 0,context:void 0};if(c&&h)v.cancel=c,(0,I.Wj)(a,"cancel",v.cancel,!0),v.context=h,(0,I.lb)(a,"context",v.context,!0);else if(c)if("object"==typeof c&&null!==c)v.context=c;else{if("function"!=typeof c)throw new Error((0,I.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=c}return v},Object.defineProperty(u.prototype,"ref",{get:function(){return new yi(this.database,new Dt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),u}(),yi=function(u){function a(c,h){var v=u.call(this,c,new Ln(h._repo,h._path,new hc,!1))||this;return v.database=c,v._delegate=h,v}return(0,W.ZT)(a,u),a.prototype.getKey=function(){return(0,I.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},a.prototype.child=function(c){return(0,I.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new a(this.database,Qi(this._delegate,c))},a.prototype.getParent=function(){(0,I.Dv)("Reference.parent",0,0,arguments.length);var c=this._delegate.parent;return c?new a(this.database,c):null},a.prototype.getRoot=function(){return(0,I.Dv)("Reference.root",0,0,arguments.length),new a(this.database,this._delegate.root)},a.prototype.set=function(c,h){(0,I.Dv)("Reference.set",1,2,arguments.length),(0,I.Wj)("Reference.set","onComplete",h,!0);var v=_l(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.update=function(c,h){if((0,I.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){for(var v={},E=0;E<c.length;++E)v[""+E]=c[E];c=v,It("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rr("Reference.update",this._delegate._path),(0,I.Wj)("Reference.update","onComplete",h,!0);var D=mp(this._delegate,c);return h&&D.then(function(){return h(null)},function(A){return h(A)}),D},a.prototype.setWithPriority=function(c,h,v){(0,I.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,I.Wj)("Reference.setWithPriority","onComplete",v,!0);var E=Df(this._delegate,c,h);return v&&E.then(function(){return v(null)},function(D){return v(D)}),E},a.prototype.remove=function(c){(0,I.Dv)("Reference.remove",0,1,arguments.length),(0,I.Wj)("Reference.remove","onComplete",c,!0);var h=bf(this._delegate);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},a.prototype.transaction=function(c,h,v){var E=this;(0,I.Dv)("Reference.transaction",1,3,arguments.length),(0,I.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,I.Wj)("Reference.transaction","onComplete",h,!0),ol("Reference.transaction","applyLocally",v,!0);var D=yp(this._delegate,c,{applyLocally:v}).then(function(A){return new iu(A.committed,new Ki(E.database,A.snapshot))});return h&&D.then(function(A){return h(null,A.committed,A.snapshot)},function(A){return h(A,!1,null)}),D},a.prototype.setPriority=function(c,h){(0,I.Dv)("Reference.setPriority",1,2,arguments.length),(0,I.Wj)("Reference.setPriority","onComplete",h,!0);var v=Hc(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.push=function(c,h){var v=this;(0,I.Dv)("Reference.push",0,2,arguments.length),(0,I.Wj)("Reference.push","onComplete",h,!0);var E=Ef(this._delegate,c),D=E.then(function(R){return new a(v.database,R)});h&&D.then(function(){return h(null)},function(R){return h(R)});var A=new a(this.database,E);return A.then=D.then.bind(D),A.catch=D.catch.bind(D,void 0),A},a.prototype.onDisconnect=function(){return rr("Reference.onDisconnect",this._delegate._path),new Qr(new Qa(this._delegate._repo,this._delegate._path))},Object.defineProperty(a.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),a}(Dl),vr=function(){function u(a,c){var h=this;this._delegate=a,this.app=c,this.INTERNAL={delete:function(){return h._delegate._delete()}}}return u.prototype.useEmulator=function(a,c,h){void 0===h&&(h={}),function(u,a,c,h){void 0===h&&(h={}),(u=(0,I.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&vt("Cannot call useEmulator() after instance has already been initialized.");var v=u._repoInternal,E=void 0;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new ot(ot.OWNER);else if(h.mockUserToken){var D=(0,I.Sg)(h.mockUserToken,u.app.options.projectId);E=new ot(D)}!function(u,a,c,h){u.repoInfo_=new Jt(a+":"+c,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),h&&(u.authTokenProvider_=h)}(v,a,c,E)}(this._delegate,a,c,h)},u.prototype.ref=function(a){if((0,I.Dv)("database.ref",0,1,arguments.length),a instanceof yi){var c=Ja(this._delegate,a.toString());return new yi(this,c)}return c=ia(this._delegate,a),new yi(this,c)},u.prototype.refFromURL=function(a){var c="database.refFromURL";(0,I.Dv)(c,1,1,arguments.length);var h=Ja(this._delegate,a);return new yi(this,h)},u.prototype.goOffline=function(){return(0,I.Dv)("database.goOffline",0,0,arguments.length),Kc(this._delegate)},u.prototype.goOnline=function(){return(0,I.Dv)("database.goOnline",0,0,arguments.length),Oo(this._delegate)},u.ServerValue={TIMESTAMP:Pr,increment:function(a){return function(u){return{".sv":{increment:u}}}(a)}},u}(),Of=Object.freeze({__proto__:null,forceLongPolling:function(){bn.forceDisallow(),_a.forceAllow()},forceWebSockets:function(){_a.forceDisallow()},isWebSocketsAvailable:function(){return bn.isAvailable()},setSecurityDebugCallback:function(u,a){u._delegate._repo.persistentConnection_.securityDebugCallback_=a},stats:function(u,a){!function(u,a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var c;a?(u.statsListener_||(u.statsListener_=new ii(u.stats_)),c=u.statsListener_.get()):c=u.stats_.get();var h=Object.keys(c).reduce(function(v,E){return Math.max(E.length,v)},0);ke(c,function(v,E){for(var D=v,A=v.length;A<h+2;A++)D+=" ";console.log(D+E)})}}(u._delegate._repo,a)},statsIncrementCounter:function(u,a){!function(u,a){u.stats_.incrementCounter(a),function(u,a){u.statsToReport_[a]=!0}(u.statsReporter_,a)}(u._delegate._repo,a)},dataUpdateCount:function(u){return u._delegate._repo.dataUpdateCount},interceptServerData:function(u,a){return function(u,a){u.interceptServerDataCallback_=a}(u._delegate._repo,a)},initStandalone:function(u){var a=u.app,c=u.url,v=u.customAuthImpl,E=u.namespace,D=u.nodeAdmin,A=void 0!==D&&D;z(u.version);var R=new ie.zt("auth-internal",new ie.H0("database-standalone"));return R.setComponent(new ie.wA("auth-internal",function(){return v},"PRIVATE")),{instance:new vr(bl(a,R,void 0,c,A),a),namespace:E}}}),ou=Qo;Qo.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},Qo.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)};var rd=Object.freeze({__proto__:null,DataConnection:ou,RealTimeConnection:Ri,hijackHash:function(u){var a=Qo.prototype.put;return Qo.prototype.put=function(c,h,v,E){void 0!==E&&(E=u()),a.call(this,c,h,v,E)},function(){Qo.prototype.put=a}},ConnectionTarget:Jt,queryIdentifier:function(u){return u._delegate._queryIdentifier},forceRestClient:function(u){!function(u){nu=u}(u)}}),su=vr.ServerValue;!function(u){z(u.SDK_VERSION);var a=u.INTERNAL.registerComponent(new ie.wA("database",function(c,h){var v=h.instanceIdentifier,E=c.getProvider("app").getImmediate(),D=c.getProvider("auth-internal"),A=c.getProvider("app-check-internal");return new vr(bl(E,D,A,v),E)},"PUBLIC").setServiceProps({Reference:yi,Query:Dl,Database:vr,DataSnapshot:Ki,enableLogging:Ye,INTERNAL:Of,ServerValue:su,TEST_ACCESS:rd}).setMultipleInstances(!0));u.registerVersion("@firebase/database","0.10.9"),(0,I.Yr)()&&(Fe.exports=a)}(p.Z)},300:(Fe,me,F)=>{"use strict";function p(){for(var O=0,B=0,Z=arguments.length;B<Z;B++)O+=arguments[B].length;var se=Array(O),ce=0;for(B=0;B<Z;B++)for(var Ie=arguments[B],ve=0,ye=Ie.length;ve<ye;ve++,ce++)se[ce]=Ie[ve];return se}F.d(me,{in:()=>W,Yd:()=>z,Ub:()=>P,Am:()=>H});var ie,I=[],W=(()=>{return(O=W||(W={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",W;var O})(),ue={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Y=W.INFO,de=((ie={})[W.DEBUG]="log",ie[W.VERBOSE]="log",ie[W.INFO]="info",ie[W.WARN]="warn",ie[W.ERROR]="error",ie),Q=function(O,B){for(var Z=[],se=2;se<arguments.length;se++)Z[se-2]=arguments[se];if(!(B<O.logLevel)){var ce=(new Date).toISOString(),Ie=de[B];if(!Ie)throw new Error("Attempted to log a message with an invalid logType (value: "+B+")");console[Ie].apply(console,p(["["+ce+"]  "+O.name+":"],Z))}},z=function(){function O(B){this.name=B,this._logLevel=Y,this._logHandler=Q,this._userLogHandler=null,I.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(B){if(!(B in W))throw new TypeError('Invalid value "'+B+'" assigned to `logLevel`');this._logLevel=B},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(B){this._logLevel="string"==typeof B?ue[B]:B},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(B){this._userLogHandler=B},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.DEBUG],B)),this._logHandler.apply(this,p([this,W.DEBUG],B))},O.prototype.log=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.VERBOSE],B)),this._logHandler.apply(this,p([this,W.VERBOSE],B))},O.prototype.info=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.INFO],B)),this._logHandler.apply(this,p([this,W.INFO],B))},O.prototype.warn=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.WARN],B)),this._logHandler.apply(this,p([this,W.WARN],B))},O.prototype.error=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.ERROR],B)),this._logHandler.apply(this,p([this,W.ERROR],B))},O}();function P(O){I.forEach(function(B){B.setLogLevel(O)})}function H(O,B){for(var Z=function(ve){var ye=null;B&&B.level&&(ye=ue[B.level]),ve.userLogHandler=null===O?null:function(Ae,Ye){for(var we=[],Ct=2;Ct<arguments.length;Ct++)we[Ct-2]=arguments[Ct];var Nt=we.map(function(vt){if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch(It){return null}}).filter(function(vt){return vt}).join(" ");Ye>=(null!=ye?ye:Ae.logLevel)&&O({level:W[Ye].toLowerCase(),message:Nt,args:we,type:Ae.name})}},se=0,ce=I;se<ce.length;se++)Z(ce[se])}},4685:(Fe,me,F)=>{"use strict";F.d(me,{BH:()=>B,LL:()=>te,gQ:()=>ot,hu:()=>I,g5:()=>W,US:()=>de,h$:()=>Q,r3:()=>mt,Sg:()=>Z,ne:()=>Cn,p$:()=>P,ZB:()=>H,gK:()=>Br,m9:()=>ec,GJ:()=>Pt,jU:()=>ve,xb:()=>Kt,uI:()=>ce,UG:()=>Ie,Yr:()=>Nt,b$:()=>Ae,w9:()=>nt,cI:()=>Ot,UI:()=>mn,xO:()=>Si,DV:()=>or,ug:()=>Jt,dS:()=>Ru,Pz:()=>Le,Dv:()=>tn,Wj:()=>sr,lb:()=>cn});var p=F(4762),I=function(U,V){if(!U)throw W(V)},W=function(U){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+U)},ue=function(U){for(var V=[],$=0,ae=0;ae<U.length;ae++){var q=U.charCodeAt(ae);q<128?V[$++]=q:q<2048?(V[$++]=q>>6|192,V[$++]=63&q|128):55296==(64512&q)&&ae+1<U.length&&56320==(64512&U.charCodeAt(ae+1))?(q=65536+((1023&q)<<10)+(1023&U.charCodeAt(++ae)),V[$++]=q>>18|240,V[$++]=q>>12&63|128,V[$++]=q>>6&63|128,V[$++]=63&q|128):(V[$++]=q>>12|224,V[$++]=q>>6&63|128,V[$++]=63&q|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[],q=0;q<U.length;q+=3){var Te=U[q],Ge=q+1<U.length,ut=Ge?U[q+1]:0,Et=q+2<U.length,wt=Et?U[q+2]:0,Hn=(15&ut)<<2|wt>>6,ei=63&wt;Et||(ei=64,Ge||(Hn=64)),ae.push($[Te>>2],$[(3&Te)<<4|ut>>4],$[Hn],$[ei])}return ae.join("")},encodeString:function(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ue(U),V)},decodeString:function(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){for(var V=[],$=0,ae=0;$<U.length;){var q=U[$++];if(q<128)V[ae++]=String.fromCharCode(q);else if(q>191&&q<224){var Te=U[$++];V[ae++]=String.fromCharCode((31&q)<<6|63&Te)}else if(q>239&&q<365){var Et=((7&q)<<18|(63&(Te=U[$++]))<<12|(63&(Ge=U[$++]))<<6|63&U[$++])-65536;V[ae++]=String.fromCharCode(55296+(Et>>10)),V[ae++]=String.fromCharCode(56320+(1023&Et))}else{Te=U[$++];var Ge=U[$++];V[ae++]=String.fromCharCode((15&q)<<12|(63&Te)<<6|63&Ge)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray:function(U,V){this.init_();for(var $=V?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[],q=0;q<U.length;){var Te=$[U.charAt(q++)],ut=q<U.length?$[U.charAt(q)]:0,wt=++q<U.length?$[U.charAt(q)]:64,xn=++q<U.length?$[U.charAt(q)]:64;if(++q,null==Te||null==ut||null==wt||null==xn)throw Error();ae.push(Te<<2|ut>>4),64!==wt&&(ae.push(ut<<4&240|wt>>2),64!==xn&&ae.push(wt<<6&192|xn))}return ae},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},Q=function(U){var V=ue(U);return de.encodeByteArray(V,!0)},z=function(U){try{return de.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function P(U){return H(void 0,U)}function H(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(var ae in V)!V.hasOwnProperty(ae)||!O(ae)||(U[ae]=H(U[ae],V[ae]));return U}function O(U){return"__proto__"!==U}var B=function(){function U(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function($,ae){V.resolve=$,V.reject=ae})}return U.prototype.wrapCallback=function(V){var $=this;return function(ae,q){ae?$.reject(ae):$.resolve(q),"function"==typeof V&&($.promise.catch(function(){}),1===V.length?V(ae):V(ae,q))}},U}();function Z(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ae=V||"demo-project",q=U.iat||0,Te=U.sub||U.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ge=(0,p.pi)({iss:"https://securetoken.google.com/"+ae,aud:ae,iat:q,exp:q+3600,auth_time:q,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify(Ge),!1),""].join(".")}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ve(){return"object"==typeof self&&self.self===self}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){return!1}var pe=function(U){function V($,ae,q){var Te=U.call(this,ae)||this;return Te.code=$,Te.customData=q,Te.name="FirebaseError",Object.setPrototypeOf(Te,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te,te.prototype.create),Te}return(0,p.ZT)(V,U),V}(Error),te=function(){function U(V,$,ae){this.service=V,this.serviceName=$,this.errors=ae}return U.prototype.create=function(V){for(var $=[],ae=1;ae<arguments.length;ae++)$[ae-1]=arguments[ae];var q=$[0]||{},Te=this.service+"/"+V,Ge=this.errors[V],ut=Ge?je(Ge,q):"Error",Et=this.serviceName+": "+ut+" ("+Te+").",wt=new pe(Te,Et,q);return wt},U}();function je(U,V){return U.replace($e,function($,ae){var q=V[ae];return null!=q?String(q):"<"+ae+"?>"})}var $e=/\{\$([^}]+)}/g;function Ot(U){return JSON.parse(U)}function Le(U){return JSON.stringify(U)}var ke=function(U){var V={},$={},ae={},q="";try{var Te=U.split(".");V=Ot(z(Te[0])||""),$=Ot(z(Te[1])||""),q=Te[2],ae=$.d||{},delete $.d}catch(Ge){}return{header:V,claims:$,data:ae,signature:q}},nt=function(U){var $=ke(U).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Pt=function(U){var V=ke(U).claims;return"object"==typeof V&&!0===V.admin};function mt(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function or(U,V){if(Object.prototype.hasOwnProperty.call(U,V))return U[V]}function Kt(U){for(var V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function mn(U,V,$){var ae={};for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(ae[q]=V.call($,U[q],q,U));return ae}function Si(U){for(var V=[],$=function(Et,wt){Array.isArray(wt)?wt.forEach(function(dn){V.push(encodeURIComponent(Et)+"="+encodeURIComponent(dn))}):V.push(encodeURIComponent(Et)+"="+encodeURIComponent(wt))},ae=0,q=Object.entries(U);ae<q.length;ae++){var Te=q[ae];$(Te[0],Te[1])}return V.length?"&"+V.join("&"):""}var ot=function(){function U(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}return U.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},U.prototype.compress_=function(V,$){$||($=0);var ae=this.W_;if("string"==typeof V)for(var q=0;q<16;q++)ae[q]=V.charCodeAt($)<<24|V.charCodeAt($+1)<<16|V.charCodeAt($+2)<<8|V.charCodeAt($+3),$+=4;else for(q=0;q<16;q++)ae[q]=V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3],$+=4;for(q=16;q<80;q++)ae[q]=4294967295&((Te=ae[q-3]^ae[q-8]^ae[q-14]^ae[q-16])<<1|Te>>>31);var xn,Hn,Ge=this.chain_[0],ut=this.chain_[1],Et=this.chain_[2],wt=this.chain_[3],dn=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(xn=wt^ut&(Et^wt),Hn=1518500249):(xn=ut^Et^wt,Hn=1859775393):q<60?(xn=ut&Et|wt&(ut|Et),Hn=2400959708):(xn=ut^Et^wt,Hn=3395469782);var Te=(Ge<<5|Ge>>>27)+xn+dn+Hn+ae[q]&4294967295;dn=wt,wt=Et,Et=4294967295&(ut<<30|ut>>>2),ut=Ge,Ge=Te}this.chain_[0]=this.chain_[0]+Ge&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295},U.prototype.update=function(V,$){if(null!=V){void 0===$&&($=V.length);for(var ae=$-this.blockSize,q=0,Te=this.buf_,Ge=this.inbuf_;q<$;){if(0===Ge)for(;q<=ae;)this.compress_(V,q),q+=this.blockSize;if("string"==typeof V){for(;q<$;)if(Te[Ge]=V.charCodeAt(q),++q,++Ge===this.blockSize){this.compress_(Te),Ge=0;break}}else for(;q<$;)if(Te[Ge]=V[q],++q,++Ge===this.blockSize){this.compress_(Te),Ge=0;break}}this.inbuf_=Ge,this.total_+=$}},U.prototype.digest=function(){var V=[],$=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&$,$/=256;this.compress_(this.buf_);var q=0;for(ae=0;ae<5;ae++)for(var Te=24;Te>=0;Te-=8)V[q]=this.chain_[ae]>>Te&255,++q;return V},U}();function Cn(U,V){var $=new En(U,V);return $.subscribe.bind($)}var En=function(){function U(V,$){var ae=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(function(){V(ae)}).catch(function(q){ae.error(q)})}return U.prototype.next=function(V){this.forEachObserver(function($){$.next(V)})},U.prototype.error=function(V){this.forEachObserver(function($){$.error(V)}),this.close(V)},U.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},U.prototype.subscribe=function(V,$,ae){var Te,q=this;if(void 0===V&&void 0===$&&void 0===ae)throw new Error("Missing Observer.");void 0===(Te=function(U,V){if("object"!=typeof U||null===U)return!1;for(var $=0,ae=["next","error","complete"];$<ae.length;$++){var q=ae[$];if(q in U&&"function"==typeof U[q])return!0}return!1}(V)?V:{next:V,error:$,complete:ae}).next&&(Te.next=on),void 0===Te.error&&(Te.error=on),void 0===Te.complete&&(Te.complete=on);var Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?Te.error(q.finalError):Te.complete()}catch(ut){}}),this.observers.push(Te),Ge},U.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},U.prototype.forEachObserver=function(V){if(!this.finalized)for(var $=0;$<this.observers.length;$++)this.sendOne($,V)},U.prototype.sendOne=function(V,$){var ae=this;this.task.then(function(){if(void 0!==ae.observers&&void 0!==ae.observers[V])try{$(ae.observers[V])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},U.prototype.close=function(V){var $=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){$.observers=void 0,$.onNoObservers=void 0}))},U}();function on(){}var tn=function(U,V,$,ae){var q;if(ae<V?q="at least "+V:ae>$&&(q=0===$?"none":"no more than "+$),q)throw new Error(U+" failed: Was called with "+ae+(1===ae?" argument.":" arguments.")+" Expects "+q+".")};function Br(U,V){return U+" failed: "+V+" argument "}function sr(U,V,$,ae){if((!ae||$)&&"function"!=typeof $)throw new Error(Br(U,V)+"must be a valid function.")}function cn(U,V,$,ae){if((!ae||$)&&("object"!=typeof $||null===$))throw new Error(Br(U,V)+"must be a valid context object.")}var Ru=function(U){for(var V=[],$=0,ae=0;ae<U.length;ae++){var q=U.charCodeAt(ae);if(q>=55296&&q<=56319){var Te=q-55296;ae++,I(ae<U.length,"Surrogate pair missing trail surrogate."),q=65536+(Te<<10)+(U.charCodeAt(ae)-56320)}q<128?V[$++]=q:q<2048?(V[$++]=q>>6|192,V[$++]=63&q|128):q<65536?(V[$++]=q>>12|224,V[$++]=q>>6&63|128,V[$++]=63&q|128):(V[$++]=q>>18|240,V[$++]=q>>12&63|128,V[$++]=q>>6&63|128,V[$++]=63&q|128)}return V},Jt=function(U){for(var V=0,$=0;$<U.length;$++){var ae=U.charCodeAt($);ae<128?V++:ae<2048?V+=2:ae>=55296&&ae<=56319?(V+=4,$++):V+=3}return V};function ec(U){return U&&U._delegate?U._delegate:U}},2329:(Fe,me,F)=>{"use strict";F.d(me,{Z:()=>p.Z});var p=F(9759),I="8.9.1";p.Z.registerVersion("firebase",I,"app"),p.Z.SDK_VERSION=I},7574:(Fe,me,F)=>{"use strict";F.d(me,{y:()=>H});var p=F(7393),I=F(9181),W=F(6490),Y=F(6554),de=F(4487);var P=F(2494);let H=(()=>{class B{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const ce=new B;return ce.source=this,ce.operator=se,ce}subscribe(se,ce,Ie){const{operator:ve}=this,ye=function(B,Z,se){if(B){if(B instanceof p.L)return B;if(B[I.b])return B[I.b]()}return B||Z||se?new p.L(B,Z,se):new p.L(W.c)}(se,ce,Ie);if(ye.add(ve?ve.call(ye,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),P.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(se){try{return this._subscribe(se)}catch(ce){P.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=ce),function(B){for(;B;){const{closed:Z,destination:se,isStopped:ce}=B;if(Z||ce)return!1;B=se&&se instanceof p.L?se:null}return!0}(se)?se.error(ce):console.warn(ce)}}forEach(se,ce){return new(ce=O(ce))((Ie,ve)=>{let ye;ye=this.subscribe(Ae=>{try{se(Ae)}catch(Ye){ve(Ye),ye&&ye.unsubscribe()}},ve,Ie)})}_subscribe(se){const{source:ce}=this;return ce&&ce.subscribe(se)}[Y.L](){return this}pipe(...se){return 0===se.length?this:function(B){return 0===B.length?de.y:1===B.length?B[0]:function(se){return B.reduce((ce,Ie)=>Ie(ce),se)}}(se)(this)}toPromise(se){return new(se=O(se))((ce,Ie)=>{let ve;this.subscribe(ye=>ve=ye,ye=>Ie(ye),()=>ce(ve))})}}return B.create=Z=>new B(Z),B})();function O(B){if(B||(B=P.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6490:(Fe,me,F)=>{"use strict";F.d(me,{c:()=>I});var p=F(2494),ie=F(4449);const I={closed:!0,next(W){},error(W){if(p.v.useDeprecatedSynchronousErrorHandling)throw W;(0,ie.z)(W)},complete(){}}},9765:(Fe,me,F)=>{"use strict";F.d(me,{Yc:()=>de,xQ:()=>Q});var p=F(7574),ie=F(7393),I=F(5319),W=F(7971),ue=F(8858),Y=F(9181);class de extends ie.L{constructor(H){super(H),this.destination=H}}let Q=(()=>{class P extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new de(this)}lift(O){const B=new z(this,this);return B.operator=O,B}next(O){if(this.closed)throw new W.N;if(!this.isStopped){const{observers:B}=this,Z=B.length,se=B.slice();for(let ce=0;ce<Z;ce++)se[ce].next(O)}}error(O){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:B}=this,Z=B.length,se=B.slice();for(let ce=0;ce<Z;ce++)se[ce].error(O);this.observers.length=0}complete(){if(this.closed)throw new W.N;this.isStopped=!0;const{observers:O}=this,B=O.length,Z=O.slice();for(let se=0;se<B;se++)Z[se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new W.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new W.N;return this.hasError?(O.error(this.thrownError),I.w.EMPTY):this.isStopped?(O.complete(),I.w.EMPTY):(this.observers.push(O),new ue.W(this,O))}asObservable(){const O=new p.y;return O.source=this,O}}return P.create=(H,O)=>new z(H,O),P})();class z extends Q{constructor(H,O){super(),this.destination=H,this.source=O}next(H){const{destination:O}=this;O&&O.next&&O.next(H)}error(H){const{destination:O}=this;O&&O.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:O}=this;return O?this.source.subscribe(H):I.w.EMPTY}}},8858:(Fe,me,F)=>{"use strict";F.d(me,{W:()=>ie});var p=F(5319);class ie extends p.w{constructor(W,ue){super(),this.subject=W,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const W=this.subject,ue=W.observers;if(this.subject=null,!ue||0===ue.length||W.isStopped||W.closed)return;const Y=ue.indexOf(this.subscriber);-1!==Y&&ue.splice(Y,1)}}},7393:(Fe,me,F)=>{"use strict";F.d(me,{L:()=>de});var p=F(9105),ie=F(6490),I=F(5319),W=F(9181),ue=F(2494),Y=F(4449);class de extends I.w{constructor(P,H,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!P){this.destination=ie.c;break}if("object"==typeof P){P instanceof de?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,P,H,O)}}[W.b](){return this}static create(P,H,O){const B=new de(P,H,O);return B.syncErrorThrowable=!1,B}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class Q extends de{constructor(P,H,O,B){super(),this._parentSubscriber=P;let Z,se=this;(0,p.m)(H)?Z=H:H&&(Z=H.next,O=H.error,B=H.complete,H!==ie.c&&(se=Object.create(H),(0,p.m)(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=Z,this._error=O,this._complete=B}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;ue.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:O}=ue.v;if(this._error)O&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(H.syncErrorThrowable)O?(H.syncErrorValue=P,H.syncErrorThrown=!0):(0,Y.z)(P),this.unsubscribe();else{if(this.unsubscribe(),O)throw P;(0,Y.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const H=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,H){try{P.call(this._context,H)}catch(O){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw O;(0,Y.z)(O)}}__tryOrSetError(P,H,O){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,O)}catch(B){return ue.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=B,P.syncErrorThrown=!0,!0):((0,Y.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Fe,me,F)=>{"use strict";F.d(me,{w:()=>Y});var p=F(9796),ie=F(1555),I=F(9105);const ue=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((P,H)=>`${H+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class Y{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:H,_unsubscribe:O,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof Y)P.remove(this);else if(null!==P)for(let Z=0;Z<P.length;++Z)P[Z].remove(this);if((0,I.m)(O)){H&&(this._unsubscribe=void 0);try{O.call(this)}catch(Z){z=Z instanceof ue?de(Z.errors):[Z]}}if((0,p.k)(B)){let Z=-1,se=B.length;for(;++Z<se;){const ce=B[Z];if((0,ie.K)(ce))try{ce.unsubscribe()}catch(Ie){z=z||[],Ie instanceof ue?z=z.concat(de(Ie.errors)):z.push(Ie)}}}if(z)throw new ue(z)}add(z){let P=z;if(!z)return Y.EMPTY;switch(typeof z){case"function":P=new Y(z);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof Y)){const B=P;P=new Y,P._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:H}=P;if(null===H)P._parentOrParents=this;else if(H instanceof Y){if(H===this)return P;P._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return P;H.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[P]:O.push(P),P}remove(z){const P=this._subscriptions;if(P){const H=P.indexOf(z);-1!==H&&P.splice(H,1)}}}var Q;function de(Q){return Q.reduce((z,P)=>z.concat(P instanceof ue?P.errors:P),[])}Y.EMPTY=((Q=new Y).closed=!0,Q)},2494:(Fe,me,F)=>{"use strict";F.d(me,{v:()=>ie});let p=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(I){if(I){const W=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+W.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=I},get useDeprecatedSynchronousErrorHandling(){return p}}},5345:(Fe,me,F)=>{"use strict";F.d(me,{IY:()=>W,Ds:()=>Y,ft:()=>Q});var p=F(7393),ie=F(7574),I=F(7444);class W extends p.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends p.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function Q(z,P){if(P.closed)return;if(z instanceof ie.y)return z.subscribe(P);let H;try{H=(0,I.s)(z)(P)}catch(O){P.error(O)}return H}},2441:(Fe,me,F)=>{"use strict";F.d(me,{c:()=>ue,N:()=>Y});var p=F(9765),ie=F(7574),I=F(5319),W=F(1307);class ue extends ie.y{constructor(H,O){super(),this.source=H,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new I.w,H.add(this.source.subscribe(new de(this.getSubject(),this))),H.closed&&(this._connection=null,H=I.w.EMPTY)),H}refCount(){return(0,W.x)()(this)}}const Y=(()=>{const P=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class de extends p.Yc{constructor(H,O){super(H),this.connectable=O}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const O=H._connection;H._refCount=0,H._subject=null,H._connection=null,O&&O.unsubscribe()}}}},9193:(Fe,me,F)=>{"use strict";F.d(me,{E:()=>ie,c:()=>I});var p=F(7574);const ie=new p.y(ue=>ue.complete());function I(ue){return ue?function(ue){return new p.y(Y=>ue.schedule(()=>Y.complete()))}(ue):ie}},4402:(Fe,me,F)=>{"use strict";F.d(me,{D:()=>se});var p=F(7574),ie=F(7444),I=F(5319),W=F(6554),de=F(4087),Q=F(377),H=F(4072),O=F(9489);function se(ce,Ie){return Ie?function(ce,Ie){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[W.L]}(ce))return function(ce,Ie){return new p.y(ve=>{const ye=new I.w;return ye.add(Ie.schedule(()=>{const Ae=ce[W.L]();ye.add(Ae.subscribe({next(Ye){ye.add(Ie.schedule(()=>ve.next(Ye)))},error(Ye){ye.add(Ie.schedule(()=>ve.error(Ye)))},complete(){ye.add(Ie.schedule(()=>ve.complete()))}}))})),ye})}(ce,Ie);if((0,H.t)(ce))return function(ce,Ie){return new p.y(ve=>{const ye=new I.w;return ye.add(Ie.schedule(()=>ce.then(Ae=>{ye.add(Ie.schedule(()=>{ve.next(Ae),ye.add(Ie.schedule(()=>ve.complete()))}))},Ae=>{ye.add(Ie.schedule(()=>ve.error(Ae)))}))),ye})}(ce,Ie);if((0,O.z)(ce))return(0,de.r)(ce,Ie);if(function(ce){return ce&&"function"==typeof ce[Q.hZ]}(ce)||"string"==typeof ce)return function(ce,Ie){if(!ce)throw new Error("Iterable cannot be null");return new p.y(ve=>{const ye=new I.w;let Ae;return ye.add(()=>{Ae&&"function"==typeof Ae.return&&Ae.return()}),ye.add(Ie.schedule(()=>{Ae=ce[Q.hZ](),ye.add(Ie.schedule(function(){if(ve.closed)return;let Ye,we;try{const Ct=Ae.next();Ye=Ct.value,we=Ct.done}catch(Ct){return void ve.error(Ct)}we?ve.complete():(ve.next(Ye),this.schedule())}))})),ye})}(ce,Ie)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Ie):ce instanceof p.y?ce:new p.y((0,ie.s)(ce))}},6693:(Fe,me,F)=>{"use strict";F.d(me,{n:()=>W});var p=F(7574),ie=F(5015),I=F(4087);function W(ue,Y){return Y?(0,I.r)(ue,Y):new p.y((0,ie.V)(ue))}},6682:(Fe,me,F)=>{"use strict";F.d(me,{T:()=>ue});var p=F(7574),ie=F(4869),I=F(3282),W=F(6693);function ue(...Y){let de=Number.POSITIVE_INFINITY,Q=null,z=Y[Y.length-1];return(0,ie.K)(z)?(Q=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(de=Y.pop())):"number"==typeof z&&(de=Y.pop()),null===Q&&1===Y.length&&Y[0]instanceof p.y?Y[0]:(0,I.J)(de)((0,W.n)(Y,Q))}},5917:(Fe,me,F)=>{"use strict";F.d(me,{of:()=>W});var p=F(4869),ie=F(6693),I=F(4087);function W(...ue){let Y=ue[ue.length-1];return(0,p.K)(Y)?(ue.pop(),(0,I.r)(ue,Y)):(0,ie.n)(ue)}},8002:(Fe,me,F)=>{"use strict";F.d(me,{U:()=>ie});var p=F(7393);function ie(ue,Y){return function(Q){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new I(ue,Y))}}class I{constructor(Y,de){this.project=Y,this.thisArg=de}call(Y,de){return de.subscribe(new W(Y,this.project,this.thisArg))}}class W extends p.L{constructor(Y,de,Q){super(Y),this.project=de,this.count=0,this.thisArg=Q||this}_next(Y){let de;try{de=this.project.call(this.thisArg,Y,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(de)}}},3282:(Fe,me,F)=>{"use strict";F.d(me,{J:()=>I});var p=F(9773),ie=F(4487);function I(W=Number.POSITIVE_INFINITY){return(0,p.zg)(ie.y,W)}},9773:(Fe,me,F)=>{"use strict";F.d(me,{zg:()=>W});var p=F(8002),ie=F(4402),I=F(5345);function W(Q,z,P=Number.POSITIVE_INFINITY){return"function"==typeof z?H=>H.pipe(W((O,B)=>(0,ie.D)(Q(O,B)).pipe((0,p.U)((Z,se)=>z(O,Z,B,se))),P)):("number"==typeof z&&(P=z),H=>H.lift(new ue(Q,P)))}class ue{constructor(z,P=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=P}call(z,P){return P.subscribe(new Y(z,this.project,this.concurrent))}}class Y extends I.Ds{constructor(z,P,H=Number.POSITIVE_INFINITY){super(z),this.project=P,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let P;const H=this.index++;try{P=this.project(z,H)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(P)}_innerSub(z){const P=new I.IY(this),H=this.destination;H.add(P);const O=(0,I.ft)(z,P);O!==P&&H.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Fe,me,F)=>{"use strict";F.d(me,{ht:()=>H,QV:()=>z});var p=F(7393),ie=F(9193),I=F(5917),W=F(7574);class Q{constructor(Z,se,ce){this.kind=Z,this.value=se,this.error=ce,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,se,ce){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return se&&se(this.error);case"C":return ce&&ce()}}accept(Z,se,ce){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,se,ce)}toObservable(){switch(this.kind){case"N":return(0,I.of)(this.value);case"E":return B=this.error,new W.y(se=>se.error(B));case"C":return(0,ie.c)()}var B;throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new Q("N",Z):Q.undefinedValueNotification}static createError(Z){return new Q("E",void 0,Z)}static createComplete(){return Q.completeNotification}}function z(B,Z=0){return function(ce){return ce.lift(new P(B,Z))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class P{constructor(Z,se=0){this.scheduler=Z,this.delay=se}call(Z,se){return se.subscribe(new H(Z,this.scheduler,this.delay))}}class H extends p.L{constructor(Z,se,ce=0){super(Z),this.scheduler=se,this.delay=ce}static dispatch(Z){const{notification:se,destination:ce}=Z;se.observe(ce),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new O(Z,this.destination)))}_next(Z){this.scheduleMessage(Q.createNext(Z))}_error(Z){this.scheduleMessage(Q.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class O{constructor(Z,se){this.notification=Z,this.destination=se}}},1307:(Fe,me,F)=>{"use strict";F.d(me,{x:()=>ie});var p=F(7393);function ie(){return function(Y){return Y.lift(new I(Y))}}class I{constructor(Y){this.connectable=Y}call(Y,de){const{connectable:Q}=this;Q._refCount++;const z=new W(Y,Q),P=de.subscribe(z);return z.closed||(z.connection=Q.connect()),P}}class W extends p.L{constructor(Y,de){super(Y),this.connectable=de}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const de=Y._refCount;if(de<=0)return void(this.connection=null);if(Y._refCount=de-1,de>1)return void(this.connection=null);const{connection:Q}=this,z=Y._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(Fe,me,F)=>{"use strict";F.d(me,{B:()=>de});var p=F(2441);var W=F(1307),ue=F(9765);function Y(){return new ue.xQ}function de(){return Q=>(0,W.x)()(function(Q,z){return function(H){let O;O="function"==typeof Q?Q:function(){return Q};const B=Object.create(H,p.N);return B.source=H,B.subjectFactory=O,B}}(Y)(Q))}},3101:(Fe,me,F)=>{"use strict";F.d(me,{R:()=>Ie});var p=F(7574);let ie=1;const I=Promise.resolve(),W={};function ue(ye){return ye in W&&(delete W[ye],!0)}const Y={setImmediate(ye){const Ae=ie++;return W[Ae]=!0,I.then(()=>ue(Ae)&&ye()),Ae},clearImmediate(ye){ue(ye)}};var Q=F(6465),P=F(6102);const B=new class extends P.v{flush(Ae){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let we,Ct=-1,Nt=Ye.length;Ae=Ae||Ye.shift();do{if(we=Ae.execute(Ae.state,Ae.delay))break}while(++Ct<Nt&&(Ae=Ye.shift()));if(this.active=!1,we){for(;++Ct<Nt&&(Ae=Ye.shift());)Ae.unsubscribe();throw we}}}(class extends Q.o{constructor(Ae,Ye){super(Ae,Ye),this.scheduler=Ae,this.work=Ye}requestAsyncId(Ae,Ye,we=0){return null!==we&&we>0?super.requestAsyncId(Ae,Ye,we):(Ae.actions.push(this),Ae.scheduled||(Ae.scheduled=Y.setImmediate(Ae.flush.bind(Ae,null))))}recycleAsyncId(Ae,Ye,we=0){if(null!==we&&we>0||null===we&&this.delay>0)return super.recycleAsyncId(Ae,Ye,we);0===Ae.actions.length&&(Y.clearImmediate(Ye),Ae.scheduled=void 0)}});var Z=F(9796);class ce extends p.y{constructor(Ae,Ye=0,we=B){var ye;super(),this.source=Ae,this.delayTime=Ye,this.scheduler=we,(!(!(0,Z.k)(ye=Ye)&&ye-parseFloat(ye)+1>=0)||Ye<0)&&(this.delayTime=0),(!we||"function"!=typeof we.schedule)&&(this.scheduler=B)}static create(Ae,Ye=0,we=B){return new ce(Ae,Ye,we)}static dispatch(Ae){const{source:Ye,subscriber:we}=Ae;return this.add(Ye.subscribe(we))}_subscribe(Ae){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:Ae})}}function Ie(ye,Ae=0){return function(we){return we.lift(new ve(ye,Ae))}}class ve{constructor(Ae,Ye){this.scheduler=Ae,this.delay=Ye}call(Ae,Ye){return new ce(Ye,this.delay,this.scheduler).subscribe(Ae)}}},3342:(Fe,me,F)=>{"use strict";F.d(me,{b:()=>W});var p=F(7393);function ie(){}var I=F(9105);function W(de,Q,z){return function(H){return H.lift(new ue(de,Q,z))}}class ue{constructor(Q,z,P){this.nextOrObserver=Q,this.error=z,this.complete=P}call(Q,z){return z.subscribe(new Y(Q,this.nextOrObserver,this.error,this.complete))}}class Y extends p.L{constructor(Q,z,P,H){super(Q),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=P||ie,this._tapComplete=H||ie,(0,I.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ie,this._tapError=z.error||ie,this._tapComplete=z.complete||ie)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Fe,me,F)=>{"use strict";F.d(me,{r:()=>I});var p=F(7574),ie=F(5319);function I(W,ue){return new p.y(Y=>{const de=new ie.w;let Q=0;return de.add(ue.schedule(function(){Q!==W.length?(Y.next(W[Q++]),Y.closed||de.add(this.schedule())):Y.complete()})),de})}},6465:(Fe,me,F)=>{"use strict";F.d(me,{o:()=>I});var p=F(5319);class ie extends p.w{constructor(ue,Y){super()}schedule(ue,Y=0){return this}}class I extends ie{constructor(ue,Y){super(ue,Y),this.scheduler=ue,this.work=Y,this.pending=!1}schedule(ue,Y=0){if(this.closed)return this;this.state=ue;const de=this.id,Q=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Q,de,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(Q,this.id,Y),this}requestAsyncId(ue,Y,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,Y,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return Y;clearInterval(Y)}execute(ue,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,Y);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Y){let Q,de=!1;try{this.work(ue)}catch(z){de=!0,Q=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),Q}_unsubscribe(){const ue=this.id,Y=this.scheduler,de=Y.actions,Q=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&de.splice(Q,1),null!=ue&&(this.id=this.recycleAsyncId(Y,ue,null)),this.delay=null}}},6102:(Fe,me,F)=>{"use strict";F.d(me,{v:()=>ie});let p=(()=>{class I{constructor(ue,Y=I.now){this.SchedulerAction=ue,this.now=Y}schedule(ue,Y=0,de){return new this.SchedulerAction(this,ue).schedule(de,Y)}}return I.now=()=>Date.now(),I})();class ie extends p{constructor(W,ue=p.now){super(W,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(W,ue=0,Y){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(W,ue,Y):super.schedule(W,ue,Y)}flush(W){const{actions:ue}=this;if(this.active)return void ue.push(W);let Y;this.active=!0;do{if(Y=W.execute(W.state,W.delay))break}while(W=ue.shift());if(this.active=!1,Y){for(;W=ue.shift();)W.unsubscribe();throw Y}}}},3637:(Fe,me,F)=>{"use strict";F.d(me,{z:()=>I});var p=F(6465);const I=new(F(6102).v)(p.o)},7771:(Fe,me,F)=>{"use strict";F.d(me,{c:()=>Y,N:()=>ue});var p=F(6465),I=F(6102);const ue=new class extends I.v{}(class extends p.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(Q,z,P):Q.flush(this)}}),Y=ue},377:(Fe,me,F)=>{"use strict";F.d(me,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Fe,me,F)=>{"use strict";F.d(me,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Fe,me,F)=>{"use strict";F.d(me,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Fe,me,F)=>{"use strict";F.d(me,{N:()=>ie});const ie=(()=>{function I(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return I.prototype=Object.create(Error.prototype),I})()},4449:(Fe,me,F)=>{"use strict";function p(ie){setTimeout(()=>{throw ie},0)}F.d(me,{z:()=>p})},4487:(Fe,me,F)=>{"use strict";function p(ie){return ie}F.d(me,{y:()=>p})},9796:(Fe,me,F)=>{"use strict";F.d(me,{k:()=>p});const p=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(Fe,me,F)=>{"use strict";F.d(me,{z:()=>p});const p=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(Fe,me,F)=>{"use strict";function p(ie){return"function"==typeof ie}F.d(me,{m:()=>p})},1555:(Fe,me,F)=>{"use strict";function p(ie){return null!==ie&&"object"==typeof ie}F.d(me,{K:()=>p})},4072:(Fe,me,F)=>{"use strict";function p(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}F.d(me,{t:()=>p})},4869:(Fe,me,F)=>{"use strict";function p(ie){return ie&&"function"==typeof ie.schedule}F.d(me,{K:()=>p})},7444:(Fe,me,F)=>{"use strict";F.d(me,{s:()=>H});var p=F(5015),ie=F(4449),W=F(377),Y=F(6554),Q=F(9489),z=F(4072),P=F(1555);const H=O=>{if(O&&"function"==typeof O[Y.L])return(O=>B=>{const Z=O[Y.L]();if("function"!=typeof Z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Z.subscribe(B)})(O);if((0,Q.z)(O))return(0,p.V)(O);if((0,z.t)(O))return(O=>B=>(O.then(Z=>{B.closed||(B.next(Z),B.complete())},Z=>B.error(Z)).then(null,ie.z),B))(O);if(O&&"function"==typeof O[W.hZ])return(O=>B=>{const Z=O[W.hZ]();for(;;){let se;try{se=Z.next()}catch(ce){return B.error(ce),B}if(se.done){B.complete();break}if(B.next(se.value),B.closed)break}return"function"==typeof Z.return&&B.add(()=>{Z.return&&Z.return()}),B})(O);{const Z=`You provided ${(0,P.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Z)}}},5015:(Fe,me,F)=>{"use strict";F.d(me,{V:()=>p});const p=ie=>I=>{for(let W=0,ue=ie.length;W<ue&&!I.closed;W++)I.next(ie[W]);I.complete()}},9100:(Fe,me,F)=>{"use strict";var p=F(7716);let ie=null;function I(){return ie}const de=new p.OlP("DocumentToken");let Q=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:z,token:s,providedIn:"platform"}),s})();function z(){return(0,p.LFG)(H)}const P=new p.OlP("Location Initialized");let H=(()=>{class s extends Q{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(r){const d=I().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",r,!1),()=>d.removeEventListener("popstate",r)}onHashChange(r){const d=I().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",r,!1),()=>d.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,d,m){O()?this._history.pushState(r,d,m):this.location.hash=m}replaceState(r,d,m){O()?this._history.replaceState(r,d,m):this.location.hash=m}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=(0,p.Yz7)({factory:B,token:s,providedIn:"platform"}),s})();function O(){return!!window.history.pushState}function B(){return new H((0,p.LFG)(de))}function Z(s,o){if(0==s.length)return o;if(0==o.length)return s;let r=0;return s.endsWith("/")&&r++,o.startsWith("/")&&r++,2==r?s+o.substring(1):1==r?s+o:s+"/"+o}function se(s){const o=s.match(/#|\?|$/),r=o&&o.index||s.length;return s.slice(0,r-("/"===s[r-1]?1:0))+s.slice(r)}function ce(s){return s&&"?"!==s[0]?"?"+s:s}let Ie=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:ve,token:s,providedIn:"root"}),s})();function ve(s){const o=(0,p.LFG)(de).location;return new Ae((0,p.LFG)(Q),o&&o.origin||"")}const ye=new p.OlP("appBaseHref");let Ae=(()=>{class s extends Ie{constructor(r,d){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==d&&(d=this._platformLocation.getBaseHrefFromDOM()),null==d)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=d}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Z(this._baseHref,r)}path(r=!1){const d=this._platformLocation.pathname+ce(this._platformLocation.search),m=this._platformLocation.hash;return m&&r?`${d}${m}`:d}pushState(r,d,m,C){const w=this.prepareExternalUrl(m+ce(C));this._platformLocation.pushState(r,d,w)}replaceState(r,d,m,C){const w=this.prepareExternalUrl(m+ce(C));this._platformLocation.replaceState(r,d,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformLocation).historyGo)||void 0===m||m.call(d,r)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Q),p.LFG(ye,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),Ye=(()=>{class s extends Ie{constructor(r,d){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=d&&(this._baseHref=d)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let d=this._platformLocation.hash;return null==d&&(d="#"),d.length>0?d.substring(1):d}prepareExternalUrl(r){const d=Z(this._baseHref,r);return d.length>0?"#"+d:d}pushState(r,d,m,C){let w=this.prepareExternalUrl(m+ce(C));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.pushState(r,d,w)}replaceState(r,d,m,C){let w=this.prepareExternalUrl(m+ce(C));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.replaceState(r,d,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformLocation).historyGo)||void 0===m||m.call(d,r)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Q),p.LFG(ye,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),we=(()=>{class s{constructor(r,d){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const m=this._platformStrategy.getBaseHref();this._platformLocation=d,this._baseHref=se(vt(m)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,d=""){return this.path()==this.normalize(r+ce(d))}normalize(r){return s.stripTrailingSlash(function(s,o){return s&&o.startsWith(s)?o.substring(s.length):o}(this._baseHref,vt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,d="",m=null){this._platformStrategy.pushState(m,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ce(d)),m)}replaceState(r,d="",m=null){this._platformStrategy.replaceState(m,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ce(d)),m)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformStrategy).historyGo)||void 0===m||m.call(d,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(d=>{this._notifyUrlChangeListeners(d.url,d.state)}))}_notifyUrlChangeListeners(r="",d){this._urlChangeListeners.forEach(m=>m(r,d))}subscribe(r,d,m){return this._subject.subscribe({next:r,error:d,complete:m})}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Ie),p.LFG(Q))},s.normalizeQueryParams=ce,s.joinWithSlash=Z,s.stripTrailingSlash=se,s.\u0275prov=(0,p.Yz7)({factory:Ct,token:s,providedIn:"root"}),s})();function Ct(){return new we((0,p.LFG)(Ie),(0,p.LFG)(Q))}function vt(s){return s.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const pt=p.kL8;class uo{}let va=(()=>{class s extends uo{constructor(r){super(),this.locale=r}getPluralCategory(r,d){switch(pt(d||this.locale)(r)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.soG))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class st{constructor(o,r,d,m){this.$implicit=o,this.ngForOf=r,this.index=d,this.count=m}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oe=(()=>{class s{constructor(r,d,m){this._viewContainer=r,this._template=d,this._differs=m,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(d){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(s){return s.name||typeof s}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const d=[];r.forEachOperation((m,C,w)=>{if(null==m.previousIndex){const M=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===w?void 0:w),G=new at(m,M);d.push(G)}else if(null==w)this._viewContainer.remove(null===C?void 0:C);else if(null!==C){const M=this._viewContainer.get(C);this._viewContainer.move(M,w);const G=new at(m,M);d.push(G)}});for(let m=0;m<d.length;m++)this._perViewChange(d[m].view,d[m].record);for(let m=0,C=this._viewContainer.length;m<C;m++){const w=this._viewContainer.get(m);w.context.index=m,w.context.count=C,w.context.ngForOf=this._ngForOf}r.forEachIdentityChange(m=>{this._viewContainer.get(m.currentIndex).context.$implicit=m.item})}_perViewChange(r,d){r.context.$implicit=d.item}static ngTemplateContextGuard(r,d){return!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class at{constructor(o,r){this.record=o,this.view=r}}let bt=(()=>{class s{constructor(r,d){this._viewContainer=r,this._context=new Rs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=d}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qo("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qo("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,d){return!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.s_b),p.Y36(p.Rgc))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Rs{constructor(){this.$implicit=null,this.ngIf=null}}function qo(s,o){if(o&&!o.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,p.AaK)(o)}'.`)}let Lu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[{provide:uo,useClass:va}]}),s})(),Mt=(()=>{class s{}return s.\u0275prov=(0,p.Yz7)({token:s,providedIn:"root",factory:()=>new lc((0,p.LFG)(de),window)}),s})();class lc{constructor(o,r){this.document=o,this.window=r,this.offset=()=>[0,0]}setOffset(o){this.offset=Array.isArray(o)?()=>o:o}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(o){this.supportsScrolling()&&this.window.scrollTo(o[0],o[1])}scrollToAnchor(o){if(!this.supportsScrolling())return;const r=function(s,o){const r=s.getElementById(o)||s.getElementsByName(o)[0];if(r)return r;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const d=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let m=d.currentNode;for(;m;){const C=m.shadowRoot;if(C){const w=C.getElementById(o)||C.querySelector(`[name="${o}"]`);if(w)return w}m=d.nextNode()}}return null}(this.document,o);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(o){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=o)}}scrollToElement(o){const r=o.getBoundingClientRect(),d=r.left+this.window.pageXOffset,m=r.top+this.window.pageYOffset,C=this.offset();this.window.scrollTo(d-C[0],m-C[1])}attemptFocus(o){return o.focus(),this.document.activeElement===o}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const o=ba(this.window.history)||ba(Object.getPrototypeOf(this.window.history));return!(!o||!o.writable&&!o.set)}catch(o){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(o){return!1}}}function ba(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Ko extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Ko,ie||(ie=s)}onAndCancel(o,r,d){return o.addEventListener(r,d,!1),()=>{o.removeEventListener(r,d,!1)}}dispatchEvent(o,r){o.dispatchEvent(r)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,r){return(r=r||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,r){return"window"===r?window:"document"===r?o:"body"===r?o.body:null}getBaseHref(o){const r=(Ze=Ze||document.querySelector("base"),Ze?Ze.getAttribute("href"):null);return null==r?null:function(s){Ft=Ft||document.createElement("a"),Ft.setAttribute("href",s);const o=Ft.pathname;return"/"===o.charAt(0)?o:`/${o}`}(r)}resetBaseElement(){Ze=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return function(s,o){o=encodeURIComponent(o);for(const r of s.split(";")){const d=r.indexOf("="),[m,C]=-1==d?[r,""]:[r.slice(0,d),r.slice(d+1)];if(m.trim()===o)return decodeURIComponent(C)}return null}(document.cookie,o)}}let Ft,Ze=null;const Zt=new p.OlP("TRANSITION_ID"),dr=[{provide:p.ip1,useFactory:function(s,o,r){return()=>{r.get(p.CZH).donePromise.then(()=>{const d=I(),m=o.querySelectorAll(`style[ng-transition="${s}"]`);for(let C=0;C<m.length;C++)d.remove(m[C])})}},deps:[Zt,de,p.zs3],multi:!0}];class Ps{static init(){(0,p.VLi)(new Ps)}addToWindow(o){p.dqk.getAngularTestability=(d,m=!0)=>{const C=o.findTestabilityInTree(d,m);if(null==C)throw new Error("Could not find testability for element.");return C},p.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(d=>{const m=p.dqk.getAllAngularTestabilities();let C=m.length,w=!1;const M=function(G){w=w||G,C--,0==C&&d(w)};m.forEach(function(G){G.whenStable(M)})})}findTestabilityInTree(o,r,d){if(null==r)return null;const m=o.getTestability(r);return null!=m?m:d?I().isShadowRoot(r)?this.findTestabilityInTree(o,r.host,!0):this.findTestabilityInTree(o,r.parentElement,!0):null}}let Ni=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const Ls=new p.OlP("EventManagerPlugins");let ge=(()=>{class s{constructor(r,d){this._zone=d,this._eventNameToPlugin=new Map,r.forEach(m=>m.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,d,m){return this._findPluginFor(d).addEventListener(r,d,m)}addGlobalEventListener(r,d,m){return this._findPluginFor(d).addGlobalEventListener(r,d,m)}getZone(){return this._zone}_findPluginFor(r){const d=this._eventNameToPlugin.get(r);if(d)return d;const m=this._plugins;for(let C=0;C<m.length;C++){const w=m[C];if(w.supports(r))return this._eventNameToPlugin.set(r,w),w}throw new Error(`No event manager plugin found for event ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Ls),p.LFG(p.R0b))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class ft{constructor(o){this._doc=o}addGlobalEventListener(o,r,d){const m=I().getGlobalEventTarget(this._doc,o);if(!m)throw new Error(`Unsupported event target ${m} for event ${r}`);return this.addEventListener(m,r,d)}}let Vs=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(r){const d=new Set;r.forEach(m=>{this._stylesSet.has(m)||(this._stylesSet.add(m),d.add(m))}),this.onStylesAdded(d)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),qt=(()=>{class s extends Vs{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,d,m){r.forEach(C=>{const w=this._doc.createElement("style");w.textContent=C,m.push(d.appendChild(w))})}addHost(r){const d=[];this._addStylesToHost(this._stylesSet,r,d),this._hostNodes.set(r,d)}removeHost(r){const d=this._hostNodes.get(r);d&&d.forEach(Us),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((d,m)=>{this._addStylesToHost(r,m,d)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Us))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function Us(s){I().remove(s)}const ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fn=/%COMP%/g;function sn(s,o,r){for(let d=0;d<o.length;d++){let m=o[d];Array.isArray(m)?sn(s,m,r):(m=m.replace(Fn,s),r.push(m))}return r}function Kn(s){return o=>{if("__ngUnwrap__"===o)return s;!1===s(o)&&(o.preventDefault(),o.returnValue=!1)}}let ii=(()=>{class s{constructor(r,d,m){this.eventManager=r,this.sharedStylesHost=d,this.appId=m,this.rendererByCompId=new Map,this.defaultRenderer=new fr(r)}createRenderer(r,d){if(!r||!d)return this.defaultRenderer;switch(d.encapsulation){case p.ifc.Emulated:{let m=this.rendererByCompId.get(d.id);return m||(m=new Xd(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,m)),m.applyToHost(r),m}case 1:case p.ifc.ShadowDom:return new zn(this.eventManager,this.sharedStylesHost,r,d);default:if(!this.rendererByCompId.has(d.id)){const m=sn(d.id,d.styles,[]);this.sharedStylesHost.addStyles(m),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(ge),p.LFG(qt),p.LFG(p.AFp))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class fr{constructor(o){this.eventManager=o,this.data=Object.create(null)}destroy(){}createElement(o,r){return r?document.createElementNS(ho[r]||r,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,r){o.appendChild(r)}insertBefore(o,r,d){o&&o.insertBefore(r,d)}removeChild(o,r){o&&o.removeChild(r)}selectRootElement(o,r){let d="string"==typeof o?document.querySelector(o):o;if(!d)throw new Error(`The selector "${o}" did not match any elements`);return r||(d.textContent=""),d}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,r,d,m){if(m){r=m+":"+r;const C=ho[m];C?o.setAttributeNS(C,r,d):o.setAttribute(r,d)}else o.setAttribute(r,d)}removeAttribute(o,r,d){if(d){const m=ho[d];m?o.removeAttributeNS(m,r):o.removeAttribute(`${d}:${r}`)}else o.removeAttribute(r)}addClass(o,r){o.classList.add(r)}removeClass(o,r){o.classList.remove(r)}setStyle(o,r,d,m){m&(p.JOm.DashCase|p.JOm.Important)?o.style.setProperty(r,d,m&p.JOm.Important?"important":""):o.style[r]=d}removeStyle(o,r,d){d&p.JOm.DashCase?o.style.removeProperty(r):o.style[r]=""}setProperty(o,r,d){o[r]=d}setValue(o,r){o.nodeValue=r}listen(o,r,d){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,r,Kn(d)):this.eventManager.addEventListener(o,r,Kn(d))}}class Xd extends fr{constructor(o,r,d,m){super(o),this.component=d;const C=sn(m+"-"+d.id,d.styles,[]);r.addStyles(C),this.contentAttr="_ngcontent-%COMP%".replace(Fn,m+"-"+d.id),this.hostAttr="_nghost-%COMP%".replace(Fn,m+"-"+d.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,r){const d=super.createElement(o,r);return super.setAttribute(d,this.contentAttr,""),d}}class zn extends fr{constructor(o,r,d,m){super(o),this.sharedStylesHost=r,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=sn(m.id,m.styles,[]);for(let w=0;w<C.length;w++){const M=document.createElement("style");M.textContent=C[w],this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,r){return super.appendChild(this.nodeOrShadowRoot(o),r)}insertBefore(o,r,d){return super.insertBefore(this.nodeOrShadowRoot(o),r,d)}removeChild(o,r){return super.removeChild(this.nodeOrShadowRoot(o),r)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let Hs=(()=>{class s extends ft{constructor(r){super(r)}supports(r){return!0}addEventListener(r,d,m){return r.addEventListener(d,m,!1),()=>this.removeEventListener(r,d,m)}removeEventListener(r,d,m){return r.removeEventListener(d,m)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const oi=["alt","control","meta","shift"],nf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hu={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let rf=(()=>{class s extends ft{constructor(r){super(r)}supports(r){return null!=s.parseEventName(r)}addEventListener(r,d,m){const C=s.parseEventName(d),w=s.eventCallback(C.fullKey,m,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>I().onAndCancel(r,C.domEventName,w))}static parseEventName(r){const d=r.toLowerCase().split("."),m=d.shift();if(0===d.length||"keydown"!==m&&"keyup"!==m)return null;const C=s._normalizeKey(d.pop());let w="";if(oi.forEach(G=>{const he=d.indexOf(G);he>-1&&(d.splice(he,1),w+=G+".")}),w+=C,0!=d.length||0===C.length)return null;const M={};return M.domEventName=m,M.fullKey=w,M}static getEventFullKey(r){let d="",m=function(s){let o=s.key;if(null==o){if(o=s.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===s.location&&hn.hasOwnProperty(o)&&(o=hn[o]))}return nf[o]||o}(r);return m=m.toLowerCase()," "===m?m="space":"."===m&&(m="dot"),oi.forEach(C=>{C!=m&&Hu[C](r)&&(d+=C+".")}),d+=m,d}static eventCallback(r,d,m){return C=>{s.getEventFullKey(C)===r&&m.runGuarded(()=>d(C))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const Bi=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){Ko.makeCurrent(),Ps.init()},multi:!0},{provide:de,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),$u=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:Ls,useClass:Hs,multi:!0,deps:[de,p.R0b,p.Lbi]},{provide:Ls,useClass:rf,multi:!0,deps:[de]},[],{provide:ii,useClass:ii,deps:[ge,qt,p.AFp]},{provide:p.FYo,useExisting:ii},{provide:Vs,useExisting:qt},{provide:qt,useClass:qt,deps:[de]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:ge,useClass:ge,deps:[Ls,p.R0b]},{provide:class{},useClass:Ni,deps:[]},[]];let of=(()=>{class s{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:s,providers:[{provide:p.AFp,useValue:r.appId},{provide:Zt,useExisting:p.AFp},dr]}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(s,12))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:$u,imports:[Lu,p.hGG]}),s})();"undefined"!=typeof window&&window;var an=F(4402),Xn=F(7574),yo=F(9796),qe=F(8002),wc=F(1555);function Zs(s,o){return new Xn.y(r=>{const d=s.length;if(0===d)return void r.complete();const m=new Array(d);let C=0,w=0;for(let M=0;M<d;M++){const G=(0,an.D)(s[M]);let he=!1;r.add(G.subscribe({next:Ee=>{he||(he=!0,w++),m[M]=Ee},error:Ee=>r.error(Ee),complete:()=>{C++,(C===d||!he)&&(w===d&&r.next(o?o.reduce((Ee,De,He)=>(Ee[De]=m[He],Ee),{}):m),r.complete())}}))}})}let Yu=(()=>{class s{constructor(r,d){this._renderer=r,this._elementRef=d,this.onChange=m=>{},this.onTouched=()=>{}}setProperty(r,d){this._renderer.setProperty(this._elementRef.nativeElement,r,d)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.Qsj),p.Y36(p.SBq))},s.\u0275dir=p.lG2({type:s}),s})(),ji=(()=>{class s extends Yu{}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,features:[p.qOj]}),s})();const er=new p.OlP("NgValueAccessor"),ns={provide:er,useExisting:(0,p.Gpc)(()=>Hi),multi:!0};let Hi=(()=>{class s extends ji{writeValue(r){this.setProperty("checked",r)}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("change",function(C){return d.onChange(C.target.checked)})("blur",function(){return d.onTouched()})},features:[p._Bn([ns]),p.qOj]}),s})();const af={provide:er,useExisting:(0,p.Gpc)(()=>tr),multi:!0},Ma=new p.OlP("CompositionEventMode");let tr=(()=>{class s extends Yu{constructor(r,d,m){super(r,d),this._compositionMode=m,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=I()?I().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ma,8))},s.\u0275dir=p.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,d){1&r&&p.NdJ("input",function(C){return d._handleInput(C.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(C){return d._compositionEnd(C.target.value)})},features:[p._Bn([af]),p.qOj]}),s})();function si(s){return null==s||0===s.length}function Ra(s){return null!=s&&"number"==typeof s.length}const _n=new p.OlP("NgValidators"),nr=new p.OlP("NgAsyncValidators"),rs=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ar{static min(o){return Co(o)}static max(o){return s=o,o=>{if(si(o.value)||si(s))return null;const r=parseFloat(o.value);return!isNaN(r)&&r>s?{max:{max:s,actual:o.value}}:null};var s}static required(o){return si(o.value)?{required:!0}:null}static requiredTrue(o){return!0===o.value?null:{required:!0}}static email(o){return si((s=o).value)||rs.test(s.value)?null:{email:!0};var s}static minLength(o){return s=o,o=>si(o.value)||!Ra(o.value)?null:o.value.length<s?{minlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static maxLength(o){return s=o,o=>Ra(o.value)&&o.value.length>s?{maxlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static pattern(o){return function(s){if(!s)return Tt;let o,r;return"string"==typeof s?(r="","^"!==s.charAt(0)&&(r+="^"),r+=s,"$"!==s.charAt(s.length-1)&&(r+="$"),o=new RegExp(r)):(r=s.toString(),o=s),d=>{if(si(d.value))return null;const m=d.value;return o.test(m)?null:{pattern:{requiredPattern:r,actualValue:m}}}}(o)}static nullValidator(o){return null}static compose(o){return Mc(o)}static composeAsync(o){return Rc(o)}}function Co(s){return o=>{if(si(o.value)||si(s))return null;const r=parseFloat(o.value);return!isNaN(r)&&r<s?{min:{min:s,actual:o.value}}:null}}function Tt(s){return null}function Ac(s){return null!=s}function Ku(s){const o=(0,p.QGY)(s)?(0,an.D)(s):s;return(0,p.CqO)(o),o}function Ju(s){let o={};return s.forEach(r=>{o=null!=r?Object.assign(Object.assign({},o),r):o}),0===Object.keys(o).length?null:o}function Sc(s,o){return o.map(r=>r(s))}function lf(s){return s.map(o=>function(s){return!s.validate}(o)?o:r=>o.validate(r))}function Mc(s){if(!s)return null;const o=s.filter(Ac);return 0==o.length?null:function(r){return Ju(Sc(r,o))}}function ui(s){return null!=s?Mc(lf(s)):null}function Rc(s){if(!s)return null;const o=s.filter(Ac);return 0==o.length?null:function(r){return function(...s){if(1===s.length){const o=s[0];if((0,yo.k)(o))return Zs(o,null);if((0,wc.K)(o)&&Object.getPrototypeOf(o)===Object.prototype){const r=Object.keys(o);return Zs(r.map(d=>o[d]),r)}}if("function"==typeof s[s.length-1]){const o=s.pop();return Zs(s=1===s.length&&(0,yo.k)(s[0])?s[0]:s,null).pipe((0,qe.U)(r=>o(...r)))}return Zs(s,null)}(Sc(r,o).map(Ku)).pipe((0,qe.U)(Ju))}}function Xu(s){return null!=s?Rc(lf(s)):null}function $i(s,o){return null===s?[o]:Array.isArray(s)?[...s,o]:[s,o]}function li(s){return s._rawValidators}function Oa(s){return s._rawAsyncValidators}function nn(s){return s?Array.isArray(s)?s:[s]:[]}function Eo(s,o){return Array.isArray(s)?s.includes(o):s===o}function qs(s,o){const r=nn(o);return nn(s).forEach(m=>{Eo(r,m)||r.push(m)}),r}function xc(s,o){return nn(o).filter(r=>!Eo(s,r))}let Pa=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=ui(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Xu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,d){return!!this.control&&this.control.hasError(r,d)}getError(r,d){return this.control?this.control.getError(r,d):null}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s}),s})(),Lt=(()=>{class s extends Pa{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,features:[p.qOj]}),s})();class Gt extends Pa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ci{constructor(o){this._cd=o}is(o){var r,d,m;return"submitted"===o?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(m=null===(d=this._cd)||void 0===d?void 0:d.control)||void 0===m?void 0:m[o])}}let Do=(()=>{class s extends ci{constructor(r){super(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Gt,2))},s.\u0275dir=p.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,d){2&r&&p.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))},features:[p.qOj]}),s})(),Gi=(()=>{class s extends ci{constructor(r){super(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lt,10))},s.\u0275dir=p.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,d){2&r&&p.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))("ng-submitted",d.is("submitted"))},features:[p.qOj]}),s})();function di(s,o){el(s,o),o.valueAccessor.writeValue(s.value),function(s,o){o.valueAccessor.registerOnChange(r=>{s._pendingValue=r,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Va(s,o)})}(s,o),function(s,o){const r=(d,m)=>{o.valueAccessor.writeValue(d),m&&o.viewToModelUpdate(d)};s.registerOnChange(r),o._registerOnDestroy(()=>{s._unregisterOnChange(r)})}(s,o),function(s,o){o.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Va(s,o),"submit"!==s.updateOn&&s.markAsTouched()})}(s,o),function(s,o){if(o.valueAccessor.setDisabledState){const r=d=>{o.valueAccessor.setDisabledState(d)};s.registerOnDisabledChange(r),o._registerOnDestroy(()=>{s._unregisterOnDisabledChange(r)})}}(s,o)}function In(s,o,r=!0){const d=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(d),o.valueAccessor.registerOnTouched(d)),os(s,o),s&&(o._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Sr(s,o){s.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(o)})}function el(s,o){const r=li(s);null!==o.validator?s.setValidators($i(r,o.validator)):"function"==typeof r&&s.setValidators([r]);const d=Oa(s);null!==o.asyncValidator?s.setAsyncValidators($i(d,o.asyncValidator)):"function"==typeof d&&s.setAsyncValidators([d]);const m=()=>s.updateValueAndValidity();Sr(o._rawValidators,m),Sr(o._rawAsyncValidators,m)}function os(s,o){let r=!1;if(null!==s){if(null!==o.validator){const m=li(s);if(Array.isArray(m)&&m.length>0){const C=m.filter(w=>w!==o.validator);C.length!==m.length&&(r=!0,s.setValidators(C))}}if(null!==o.asyncValidator){const m=Oa(s);if(Array.isArray(m)&&m.length>0){const C=m.filter(w=>w!==o.asyncValidator);C.length!==m.length&&(r=!0,s.setAsyncValidators(C))}}}const d=()=>{};return Sr(o._rawValidators,d),Sr(o._rawAsyncValidators,d),r}function Va(s,o){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Ha(s,o){const r=s.indexOf(o);r>-1&&s.splice(r,1)}const Js="VALID",as="INVALID",us="PENDING",fi="DISABLED";function zr(s){return(nl(s)?s.validators:s)||null}function Xs(s){return Array.isArray(s)?ui(s):s||null}function Rt(s,o){return(nl(o)?o.asyncValidators:s)||null}function ea(s){return Array.isArray(s)?Xu(s):s||null}function nl(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class hi{constructor(o,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=o,this._rawAsyncValidators=r,this._composedValidatorFn=Xs(this._rawValidators),this._composedAsyncValidatorFn=ea(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===Js}get invalid(){return this.status===as}get pending(){return this.status==us}get disabled(){return this.status===fi}get enabled(){return this.status!==fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._rawValidators=o,this._composedValidatorFn=Xs(o)}setAsyncValidators(o){this._rawAsyncValidators=o,this._composedAsyncValidatorFn=ea(o)}addValidators(o){this.setValidators(qs(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(qs(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(xc(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(xc(o,this._rawAsyncValidators))}hasValidator(o){return Eo(this._rawValidators,o)}hasAsyncValidator(o){return Eo(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=us,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const r=this._parentMarkedDirty(o.onlySelf);this.status=fi,this.errors=null,this._forEachChild(d=>{d.disable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!0))}enable(o={}){const r=this._parentMarkedDirty(o.onlySelf);this.status=Js,this._forEachChild(d=>{d.enable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===us)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fi:Js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=us,this._hasOwnPendingAsyncValidator=!0;const r=Ku(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,r={}){this.errors=o,this._updateControlsErrors(!1!==r.emitEvent)}get(o){return function(s,o,r){if(null==o||(Array.isArray(o)||(o=o.split(".")),Array.isArray(o)&&0===o.length))return null;let d=s;return o.forEach(m=>{d=d instanceof ls?d.controls.hasOwnProperty(m)?d.controls[m]:null:d instanceof $a&&d.at(m)||null}),d}(this,o)}getError(o,r){const d=r?this.get(r):this;return d&&d.errors?d.errors[o]:null}hasError(o,r){return!!this.getError(o,r)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?fi:this.errors?as:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(us)?us:this._anyControlsHaveStatus(as)?as:Js}_anyControlsHaveStatus(o){return this._anyControls(r=>r.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_isBoxedValue(o){return"object"==typeof o&&null!==o&&2===Object.keys(o).length&&"value"in o&&"disabled"in o}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){nl(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wt extends hi{constructor(o=null,r,d){super(zr(r),Rt(d,r)),this._onChange=[],this._applyFormState(o),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(o,r={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(o,r={}){this.setValue(o,r)}reset(o=null,r={}){this._applyFormState(o),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){Ha(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){Ha(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){this._isBoxedValue(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}}class ls extends hi{constructor(o,r,d){super(zr(r),Rt(d,r)),this.controls=o,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,r){return this.controls[o]?this.controls[o]:(this.controls[o]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(o,r,d={}){this.registerControl(o,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(o,r={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(o,r,d={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],r&&this.registerControl(o,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,r={}){this._checkAllValuesPresent(o),Object.keys(o).forEach(d=>{this._throwIfControlMissing(d),this.controls[d].setValue(o[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(o,r={}){null!=o&&(Object.keys(o).forEach(d=>{this.controls[d]&&this.controls[d].patchValue(o[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(o={},r={}){this._forEachChild((d,m)=>{d.reset(o[m],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(o,r,d)=>(o[d]=r instanceof Wt?r.value:r.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(r,d)=>!!d._syncPendingControls()||r);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[o])throw new Error(`Cannot find form control with name: ${o}.`)}_forEachChild(o){Object.keys(this.controls).forEach(r=>{const d=this.controls[r];d&&o(d,r)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const r of Object.keys(this.controls)){const d=this.controls[r];if(this.contains(r)&&o(d))return!0}return!1}_reduceValue(){return this._reduceChildren({},(o,r,d)=>((r.enabled||this.disabled)&&(o[d]=r.value),o))}_reduceChildren(o,r){let d=o;return this._forEachChild((m,C)=>{d=r(d,m,C)}),d}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(o){this._forEachChild((r,d)=>{if(void 0===o[d])throw new Error(`Must supply a value for form control with name: '${d}'.`)})}}class $a extends hi{constructor(o,r,d){super(zr(r),Rt(d,r)),this.controls=o,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[o]}push(o,r={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(o,r,d={}){this.controls.splice(o,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:d.emitEvent})}removeAt(o,r={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(o,r,d={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),r&&(this.controls.splice(o,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,r={}){this._checkAllValuesPresent(o),o.forEach((d,m)=>{this._throwIfControlMissing(m),this.at(m).setValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(o,r={}){null!=o&&(o.forEach((d,m)=>{this.at(m)&&this.at(m).patchValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(o=[],r={}){this._forEachChild((d,m)=>{d.reset(o[m],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(o=>o instanceof Wt?o.value:o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_syncPendingControls(){let o=this.controls.reduce((r,d)=>!!d._syncPendingControls()||r,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(o))throw new Error(`Cannot find form control at index ${o}`)}_forEachChild(o){this.controls.forEach((r,d)=>{o(r,d)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(r=>r.enabled&&o(r))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_checkAllValuesPresent(o){this._forEachChild((r,d)=>{if(void 0===o[d])throw new Error(`Must supply a value for form control at index: ${d}.`)})}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}}let fs=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})();const Ao={provide:er,useExisting:(0,p.Gpc)(()=>gi),multi:!0};let gi=(()=>{class s extends ji{writeValue(r){this.setProperty("value",null==r?"":r)}registerOnChange(r){this.onChange=d=>{r(""==d?null:parseFloat(d))}}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("input",function(C){return d.onChange(C.target.value)})("blur",function(){return d.onTouched()})},features:[p._Bn([Ao]),p.qOj]}),s})();const ff={provide:er,useExisting:(0,p.Gpc)(()=>rr),multi:!0};let So=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})(),hf=(()=>{class s{constructor(){this._accessors=[]}add(r,d){this._accessors.push([r,d])}remove(r){for(let d=this._accessors.length-1;d>=0;--d)if(this._accessors[d][1]===r)return void this._accessors.splice(d,1)}select(r){this._accessors.forEach(d=>{this._isSameGroup(d,r)&&d[1]!==r&&d[1].fireUncheck(r.value)})}_isSameGroup(r,d){return!!r[0].control&&r[0]._parent===d._control._parent&&r[1].name===d.name}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:function(){return new s},token:s,providedIn:So}),s})(),rr=(()=>{class s extends ji{constructor(r,d,m,C){super(r,d),this._registry=m,this._injector=C,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Gt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}fireUncheck(r){this.writeValue(r)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(hf),p.Y36(p.zs3))},s.\u0275dir=p.lG2({type:s,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("change",function(){return d.onChange()})("blur",function(){return d.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p._Bn([ff]),p.qOj]}),s})();const Oc={provide:er,useExisting:(0,p.Gpc)(()=>ol),multi:!0};let ol=(()=>{class s extends ji{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=d=>{r(""==d?null:parseFloat(d))}}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("change",function(C){return d.onChange(C.target.value)})("input",function(C){return d.onChange(C.target.value)})("blur",function(){return d.onTouched()})},features:[p._Bn([Oc]),p.qOj]}),s})();const sl=new p.OlP("NgModelWithFormControlWarning"),Dn={provide:Lt,useExisting:(0,p.Gpc)(()=>mi)};let mi=(()=>{class s extends Lt{constructor(r,d){super(),this.validators=r,this.asyncValidators=d,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(r),this._setAsyncValidators(d)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(os(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const d=this.form.get(r.path);return di(d,r),d.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),d}getControl(r){return this.form.get(r.path)}removeControl(r){In(r.control||null,r,!1),Ha(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,d){this.form.get(r.path).setValue(d)}onSubmit(r){return this.submitted=!0,function(s,o){s._syncPendingControls(),o.forEach(r=>{const d=r.control;"submit"===d.updateOn&&d._pendingChange&&(r.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const d=r.control,m=this.form.get(r.path);d!==m&&(In(d||null,r),m instanceof Wt&&(di(m,r),r.control=m))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const d=this.form.get(r.path);(function(s,o){el(s,o)})(d,r),d.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const d=this.form.get(r.path);d&&function(s,o){return os(s,o)}(d,r)&&d.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){el(this.form,this),this._oldForm&&os(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(_n,10),p.Y36(nr,10))},s.\u0275dir=p.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(r,d){1&r&&p.NdJ("submit",function(C){return d.onSubmit(C)})("reset",function(){return d.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Dn]),p.qOj,p.TTD]}),s})();const ll={provide:Gt,useExisting:(0,p.Gpc)(()=>gr)};let gr=(()=>{class s extends Gt{constructor(r,d,m,C,w){super(),this._ngModelWarningConfig=w,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(d),this._setAsyncValidators(m),this.valueAccessor=function(s,o){if(!o)return null;let r,d,m;return Array.isArray(o),o.forEach(C=>{C.constructor===tr?r=C:function(s){return Object.getPrototypeOf(s.constructor)===ji}(C)?d=C:m=C}),m||d||r||null}(0,C)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(s,o){if(!s.hasOwnProperty("model"))return!1;const r=s.model;return!!r.isFirstChange()||!Object.is(o,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(s,o){return[...o.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lt,13),p.Y36(_n,10),p.Y36(nr,10),p.Y36(er,10),p.Y36(sl,8))},s.\u0275dir=p.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ll]),p.qOj,p.TTD]}),s._ngModelWarningSentOnce=!1,s})(),kc=(()=>{class s{constructor(){this._validator=Tt}handleChanges(r){if(this.inputName in r){const d=this.normalizeInput(r[this.inputName].currentValue);this._validator=this.createValidator(d),this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s}),s})();const gl={provide:_n,useExisting:(0,p.Gpc)(()=>Za),multi:!0};let Za=(()=>{class s extends kc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>parseFloat(r),this.createValidator=r=>Co(r)}ngOnChanges(r){this.handleChanges(r)}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,d){if(2&r){let m;p.uIk("min",null!==(m=d.min)&&void 0!==m?m:null)}},inputs:{min:"min"},features:[p._Bn([gl]),p.qOj,p.TTD]}),s})(),ps=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[So]]}),s})(),Cf=(()=>{class s{static withConfig(r){return{ngModule:s,providers:[{provide:sl,useValue:r.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[ps]}),s})(),qi=(()=>{class s{group(r,d=null){const m=this._reduceControls(r);let M,C=null,w=null;return null!=d&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(d)?(C=null!=d.validators?d.validators:null,w=null!=d.asyncValidators?d.asyncValidators:null,M=null!=d.updateOn?d.updateOn:void 0):(C=null!=d.validator?d.validator:null,w=null!=d.asyncValidator?d.asyncValidator:null)),new ls(m,{asyncValidators:w,updateOn:M,validators:C})}control(r,d,m){return new Wt(r,d,m)}array(r,d,m){const C=r.map(w=>this._createControl(w));return new $a(C,d,m)}_reduceControls(r){const d={};return Object.keys(r).forEach(m=>{d[m]=this._createControl(r[m])}),d}_createControl(r){return r instanceof Wt||r instanceof ls||r instanceof $a?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:function(){return new s},token:s,providedIn:Cf}),s})();var rn=F(57),jc=F(3637),Qe=F(5917),Qa=F(6682),Ln=F(8819),qr=F(5345);function Vt(s,o){return"function"==typeof o?r=>r.pipe(Vt((d,m)=>(0,an.D)(s(d,m)).pipe((0,qe.U)((C,w)=>o(d,C,m,w))))):r=>r.lift(new Ka(s))}class Ka{constructor(o){this.project=o}call(o,r){return r.subscribe(new Dt(o,this.project))}}class Dt extends qr.Ds{constructor(o,r){super(o),this.project=r,this.index=0}_next(o){let r;const d=this.index++;try{r=this.project(o,d)}catch(m){return void this.destination.error(m)}this._innerSub(r)}_innerSub(o){const r=this.innerSubscription;r&&r.unsubscribe();const d=new qr.IY(this),m=this.destination;m.add(d),this.innerSubscription=(0,qr.ft)(o,d),this.innerSubscription!==d&&m.add(this.innerSubscription)}_complete(){const{innerSubscription:o}=this;(!o||o.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(o){this.destination.next(o)}}var Vn=F(7393);function ia(s,o){let r=!1;return arguments.length>=2&&(r=!0),function(m){return m.lift(new Ja(s,o,r))}}class Ja{constructor(o,r,d=!1){this.accumulator=o,this.seed=r,this.hasSeed=d}call(o,r){return r.subscribe(new Qi(o,this.accumulator,this.seed,this.hasSeed))}}class Qi extends Vn.L{constructor(o,r,d,m){super(o),this.accumulator=r,this._seed=d,this.hasSeed=m,this.index=0}get seed(){return this._seed}set seed(o){this.hasSeed=!0,this._seed=o}_next(o){if(this.hasSeed)return this._tryNext(o);this.seed=o,this.destination.next(o)}_tryNext(o){const r=this.index++;let d;try{d=this.accumulator(this.seed,o,r)}catch(m){this.destination.error(m)}this.seed=d,this.destination.next(d)}}class bf{constructor(o,r){this.compare=o,this.keySelector=r}call(o,r){return r.subscribe(new _l(o,this.compare,this.keySelector))}}class _l extends Vn.L{constructor(o,r,d){super(o),this.keySelector=d,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(o,r){return o===r}_next(o){let r;try{const{keySelector:m}=this;r=m?m(o):o}catch(m){return this.destination.error(m)}let d=!1;if(this.hasKey)try{const{compare:m}=this;d=m(this.key,r)}catch(m){return this.destination.error(m)}else this.hasKey=!0;d||(this.key=r,this.destination.next(o))}}class Hc extends Vn.L{notifyNext(o,r,d,m,C){this.destination.next(r)}notifyError(o,r){this.destination.error(o)}notifyComplete(o){this.destination.complete()}}class Df extends Vn.L{constructor(o,r,d){super(),this.parent=o,this.outerValue=r,this.outerIndex=d,this.index=0}_next(o){this.parent.notifyNext(this.outerValue,o,this.outerIndex,this.index++,this)}_error(o){this.parent.notifyError(o,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var mp=F(7444);function wf(s,o,r,d,m=new Df(s,r,d)){if(!m.closed)return o instanceof Xn.y?o.subscribe(m):(0,mp.s)(o)(m)}class An{constructor(o,r){this.observables=o,this.project=r}call(o,r){return r.subscribe(new xo(o,this.observables,this.project))}}class xo extends Hc{constructor(o,r,d){super(o),this.observables=r,this.project=d,this.toRespond=[];const m=r.length;this.values=new Array(m);for(let C=0;C<m;C++)this.toRespond.push(C);for(let C=0;C<m;C++)this.add(wf(this,r[C],void 0,C))}notifyNext(o,r,d){this.values[d]=r;const m=this.toRespond;if(m.length>0){const C=m.indexOf(d);-1!==C&&m.splice(C,1)}}notifyComplete(){}_next(o){if(0===this.toRespond.length){const r=[o,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(o){let r;try{r=this.project.apply(this,o)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}class vl{constructor(o){this.predicate=o}call(o,r){return r.subscribe(new wn(o,this.predicate))}}class wn extends Vn.L{constructor(o,r){super(o),this.predicate=r,this.skipping=!0,this.index=0}_next(o){const r=this.destination;this.skipping&&this.tryCallPredicate(o),this.skipping||r.next(o)}tryCallPredicate(o){try{const r=this.predicate(o,this.index++);this.skipping=Boolean(r)}catch(r){this.destination.error(r)}}}F(9192);var Rr=F(9765),ms=F(309),xr=F(7771),eu=F(5319),$c=F(7971),Gc=F(8858);class Tf extends Rr.xQ{constructor(o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,d){super(),this.scheduler=d,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const r=this._events;r.push(o),r.length>this._bufferSize&&r.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new yl(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const r=this._infiniteTimeWindow,d=r?this._events:this._trimBufferThenGetEvents(),m=this.scheduler,C=d.length;let w;if(this.closed)throw new $c.N;if(this.isStopped||this.hasError?w=eu.w.EMPTY:(this.observers.push(o),w=new Gc.W(this,o)),m&&o.add(o=new ms.ht(o,m)),r)for(let M=0;M<C&&!o.closed;M++)o.next(d[M]);else for(let M=0;M<C&&!o.closed;M++)o.next(d[M].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),w}_getNow(){return(this.scheduler||xr.c).now()}_trimBufferThenGetEvents(){const o=this._getNow(),r=this._bufferSize,d=this._windowTime,m=this._events,C=m.length;let w=0;for(;w<C&&!(o-m[w].time<d);)w++;return C>r&&(w=Math.max(w,C-r)),w>0&&m.splice(0,w),m}}class yl{constructor(o,r){this.time=o,this.value=r}}function Wc(s,o,r){let d;return d=s&&"object"==typeof s?s:{bufferSize:s,windowTime:o,refCount:!1,scheduler:r},m=>m.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:o=Number.POSITIVE_INFINITY,refCount:r,scheduler:d}){let m,w,C=0,M=!1,G=!1;return function(Ee){let De;C++,!m||M?(M=!1,m=new Tf(s,o,d),De=m.subscribe(this),w=Ee.subscribe({next(He){m.next(He)},error(He){M=!0,m.error(He)},complete(){G=!0,w=void 0,m.complete()}}),G&&(w=void 0)):De=m.subscribe(this),this.add(()=>{C--,De.unsubscribe(),De=void 0,w&&!G&&r&&0===C&&(w.unsubscribe(),w=void 0,m=void 0)})}}(d))}const sa=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function vi(s,o){return function(d){return d.lift(new zc(s,o))}}class zc{constructor(o,r){this.predicate=o,this.thisArg=r}call(o,r){return r.subscribe(new Af(o,this.predicate,this.thisArg))}}class Af extends Vn.L{constructor(o,r,d){super(o),this.predicate=r,this.thisArg=d,this.count=0}_next(o){let r;try{r=this.predicate.call(this.thisArg,o,this.count++)}catch(d){return void this.destination.error(d)}r&&this.destination.next(o)}}const Cl=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Nr=F(9193);function El(s){return o=>0===s?(0,Nr.c)():o.lift(new Sf(s))}class Sf{constructor(o){if(this.total=o,this.total<0)throw new Cl}call(o,r){return r.subscribe(new _s(o,this.total))}}class _s extends Vn.L{constructor(o,r){super(o),this.total=r,this.count=0}_next(o){const r=this.total,d=++this.count;d<=r&&(this.destination.next(o),d===r&&(this.destination.complete(),this.unsubscribe()))}}function Yc(s=null){return o=>o.lift(new Mf(s))}class Mf{constructor(o){this.defaultValue=o}call(o,r){return r.subscribe(new Rf(o,this.defaultValue))}}class Rf extends Vn.L{constructor(o,r){super(o),this.defaultValue=r,this.isEmpty=!0}_next(o){this.isEmpty=!1,this.destination.next(o)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Zc(s=Yn){return o=>o.lift(new Or(s))}class Or{constructor(o){this.errorFactory=o}call(o,r){return r.subscribe(new tu(o,this.errorFactory))}}class tu extends Vn.L{constructor(o,r){super(o),this.errorFactory=r,this.hasValue=!1}_next(o){this.hasValue=!0,this.destination.next(o)}_complete(){if(this.hasValue)return this.destination.complete();{let o;try{o=this.errorFactory()}catch(r){o=r}this.destination.error(o)}}}function Yn(){return new sa}var nu=F(4487);function No(s,o){const r=arguments.length>=2;return d=>d.pipe(s?vi((m,C)=>s(m,C,d)):nu.y,El(1),r?Yc(o):Zc(()=>new sa))}function bl(s,o){return o?Vt(()=>s,o):Vt(()=>s)}var ru=F(3101);const aa=new p.OlP("angularfire2.auth.use-emulator"),qc=new p.OlP("angularfire2.auth.settings"),Qc=new p.OlP("angularfire2.auth.tenant-id"),Kc=new p.OlP("angularfire2.auth.langugage-code"),Oo=new p.OlP("angularfire2.auth.use-device-language"),Pr=new p.OlP("angularfire.auth.persistence");let xf=(()=>{class s{constructor(r,d,m,C,w,M,G,he,Ee,De){const He=new rn.HU(C),Ue=(0,rn.ss)(He),Bt=new Rr.xQ,vn=(0,Qe.of)(void 0).pipe((0,ms.QV)(He.outsideAngular),Vt(()=>C.runOutsideAngular(()=>F.e(336).then(F.bind(F,1336)))),(0,qe.U)(()=>(0,rn.on)(r,C,d)),(0,qe.U)(Qt=>C.runOutsideAngular(()=>{const Rn=w,un=M;return(0,rn.sI)(`${Qt.name}.auth`,"AngularFireAuth",Qt,()=>{const ln=C.runOutsideAngular(()=>Qt.auth());if(Rn&&ln.useEmulator(`http://${Rn.join(":")}`),G&&(ln.tenantId=G),ln.languageCode=he,Ee&&ln.useDeviceLanguage(),un)for(const[Ii,$t]of Object.entries(un))ln.settings[Ii]=$t;return De&&ln.setPersistence(De),ln},[Rn,G,he,Ee,un,De])})),Wc({bufferSize:1,refCount:!1}));if(function(s){return"server"===s}(m))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Qe.of)(null);else{vn.pipe(No()).subscribe();const Rn=vn.pipe(Vt($t=>$t.getRedirectResult().then(zl=>zl,()=>null)),Ue,Wc({bufferSize:1,refCount:!1})),un=$t=>new Xn.y(zl=>({unsubscribe:C.runOutsideAngular(()=>$t(zl))})),ln=vn.pipe(Vt($t=>un($t.onAuthStateChanged.bind($t)))),Ii=vn.pipe(Vt($t=>un($t.onIdTokenChanged.bind($t))));this.authState=Rn.pipe(bl(ln),(0,ru.R)(He.outsideAngular),(0,ms.QV)(He.insideAngular)),this.user=Rn.pipe(bl(Ii),(0,ru.R)(He.outsideAngular),(0,ms.QV)(He.insideAngular)),this.idToken=this.user.pipe(Vt($t=>$t?(0,an.D)($t.getIdToken()):(0,Qe.of)(null))),this.idTokenResult=this.user.pipe(Vt($t=>$t?(0,an.D)($t.getIdTokenResult()):(0,Qe.of)(null))),this.credential=(0,Qa.T)(Rn,Bt,this.authState.pipe(vi($t=>!$t))).pipe((0,qe.U)($t=>(null==$t?void 0:$t.user)?$t:null),(0,ru.R)(He.outsideAngular),(0,ms.QV)(He.insideAngular))}return(0,rn.pX)(this,vn,C,{spy:{apply:(Qt,Rn,un)=>{(Qt.startsWith("signIn")||Qt.startsWith("createUser"))&&un.then(ln=>Bt.next(ln))}}})}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(rn.Dh),p.LFG(rn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(aa,8),p.LFG(qc,8),p.LFG(Qc,8),p.LFG(Kc,8),p.LFG(Oo,8),p.LFG(Pr,8))},s.\u0275prov=p.Yz7({factory:function(){return new s(p.LFG(rn.Dh),p.LFG(rn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(aa,8),p.LFG(qc,8),p.LFG(Qc,8),p.LFG(Kc,8),p.LFG(Oo,8),p.LFG(Pr,8))},token:s,providedIn:"any"}),s})();var Jc=F(2329);function iu(s){return null==s}function Ki(s){return"function"==typeof s.set}function Dl(s,o){return Ki(o)?o:s.ref(o)}function yi(s,o){if(function(s){return"string"==typeof s}(s))return o.stringCase();if(Ki(s))return o.firebaseCase();if(function(s){return"function"==typeof s.exportVal}(s))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function vr(s,o,r="on",d=jc.z){return new Xn.y(m=>{let C=null;return C=s[r](o,(w,M)=>{d.schedule(()=>{m.next({snapshot:w,prevKey:M})}),"once"===r&&d.schedule(()=>m.complete())},w=>{d.schedule(()=>m.error(w))}),"on"===r?{unsubscribe(){null!=C&&s.off(o,C)}}:{unsubscribe(){}}}).pipe((0,qe.U)(m=>{const{snapshot:C,prevKey:w}=m;let M=null;return C.exists()&&(M=C.key),{type:o,payload:C,prevKey:w,key:M}}),(0,Ln.B)())}function wl(s,o){const r=s.length;for(let d=0;d<r;d++)if(s[d].payload.key===o)return d;return-1}function Il(s,o){const{payload:r,prevKey:d,key:m}=o,C=wl(s,m),w=function(s,o){if(iu(o))return 0;{const r=wl(s,o);return-1===r?s.length:r+1}}(s,d);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let M=null;o.payload.forEach(G=>{const he={payload:G,type:"value",prevKey:M,key:G.key};return M=G.key,s=[...s,he],!1})}return s;case"child_added":if(C>-1){const M=s[C-1];(M&&M.key||null)!==d&&(s=s.filter(G=>G.payload.key!==r.key)).splice(w,0,o)}else{if(null==d)return[o,...s];(s=s.slice()).splice(w,0,o)}return s;case"child_removed":return s.filter(M=>M.payload.key!==r.key);case"child_changed":return s.map(M=>M.payload.key===m?o:M);case"child_moved":if(C>-1){const M=s.splice(C,1)[0];return(s=s.slice()).splice(w,0,M),s}return s;default:return s}}function Al(s){return(iu(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function Nf(s,o,r){return function(s,o,r){return vr(s,"value","once",r).pipe(Vt(d=>{const m=[(0,Qe.of)(d)];return o.forEach(C=>m.push(vr(s,C,"on",r))),(0,Qa.T)(...m).pipe(ia(Il,[]))}),r=>r.lift(new bf(void 0,void 0)))}(s,o=Al(o),r)}function Po(s,o,r){const d=(o=Al(o)).map(m=>vr(s,m,"on",r));return(0,Qa.T)(...d)}function ou(s,o){return function(d,m){return yi(d,{stringCase:()=>s.child(d)[o](m),firebaseCase:()=>d[o](m),snapshotCase:()=>d.ref[o](m)})}}function Pf(s){return function(r){return r?yi(r,{stringCase:()=>s.child(r).remove(),firebaseCase:()=>r.remove(),snapshotCase:()=>r.ref.remove()}):s.remove()}}function td(s,o){return function(){return vr(s,"value","on",o)}}const nd=new p.OlP("angularfire2.realtimeDatabaseURL"),rd=new p.OlP("angularfire2.database.use-emulator");let su=(()=>{class s{constructor(r,d,m,C,w,M,G){this.schedulers=new rn.HU(w),this.keepUnstableUntilFirst=(0,rn.ss)(this.schedulers);const he=M,Ee=(0,rn.on)(r,w,d);!Jc.Z.auth&&G&&(0,rn.yq)(),this.database=(0,rn.sI)(`${Ee.name}.database.${m}`,"AngularFireDatabase",Ee,()=>{const De=w.runOutsideAngular(()=>Ee.database(m||void 0));return he&&De.useEmulator(...he),De},[he])}list(r,d){const m=this.schedulers.ngZone.runOutsideAngular(()=>Dl(this.database,r));let C=m;return d&&(C=d(m)),function(s,o){const r=o.schedulers.outsideAngular,d=o.schedulers.ngZone.run(()=>s.ref);return{query:s,update:ou(d,"update"),set:ou(d,"set"),push:m=>d.push(m),remove:Pf(d),snapshotChanges:m=>Nf(s,m,r).pipe(o.keepUnstableUntilFirst),stateChanges:m=>Po(s,m,r).pipe(o.keepUnstableUntilFirst),auditTrail:m=>function(s,o,r){return function(s,o,r){return function(s,o){return vr(s,"value","on",o).pipe((0,qe.U)(r=>{let d;return r.payload.forEach(m=>(d=m.key,!1)),{data:r,lastKeyToLoad:d}}))}(s,r).pipe(function(...s){return o=>{let r;return"function"==typeof s[s.length-1]&&(r=s.pop()),o.lift(new An(s,r))}}(o),(0,qe.U)(([m,C])=>{const w=m.lastKeyToLoad,M=C.map(G=>G.key);return{actions:C,lastKeyToLoad:w,loadedKeys:M}}),function(s){return o=>o.lift(new vl(s))}(m=>-1===m.loadedKeys.indexOf(m.lastKeyToLoad)),(0,qe.U)(m=>m.actions))}(s,Po(s,o).pipe(ia((m,C)=>[...m,C],[])),r)}(s,m,r).pipe(o.keepUnstableUntilFirst),valueChanges:(m,C)=>Nf(s,m,r).pipe((0,qe.U)(M=>M.map(G=>C&&C.idField?Object.assign(Object.assign({},G.payload.val()),{[C.idField]:G.key}):G.payload.val())),o.keepUnstableUntilFirst)}}(C,this)}object(r){return function(s,o){return{query:s,snapshotChanges:()=>td(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst),update:r=>s.ref.update(r),set:r=>s.ref.set(r),remove:()=>s.ref.remove(),valueChanges:()=>td(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst,(0,qe.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dl(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(rn.Dh),p.LFG(rn.xv,8),p.LFG(nd,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(rd,8),p.LFG(aa,8))},s.\u0275prov=p.Yz7({factory:function(){return new s(p.LFG(rn.Dh),p.LFG(rn.xv,8),p.LFG(nd,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(rd,8),p.LFG(aa,8))},token:s,providedIn:"any"}),s})(),Ml=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[su]}),s})();const u_firebase={apiKey:"AIzaSyDgrCQIeqUtpgUkTWyP-DFFn7h8eKKxyok",authDomain:"diplom-220ec.firebaseapp.com",databaseURL:"https://diplom-220ec-default-rtdb.firebaseio.com",projectId:"diplom-220ec",storageBucket:"diplom-220ec.appspot.com",messagingSenderId:"240632822141",appId:"1:240632822141:web:39ebc5d872d192b9d3b414"};class a extends Rr.xQ{constructor(o){super(),this._value=o}get value(){return this.getValue()}_subscribe(o){const r=super._subscribe(o);return r&&!r.closed&&o.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $c.N;return this._value}next(o){super.next(this._value=o)}}var c=F(4869),h=F(6693);const v={};class D{constructor(o){this.resultSelector=o}call(o,r){return r.subscribe(new A(o,this.resultSelector))}}class A extends Hc{constructor(o,r){super(o),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(o){this.values.push(v),this.observables.push(o)}_complete(){const o=this.observables,r=o.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let d=0;d<r;d++)this.add(wf(this,o[d],void 0,d))}}notifyComplete(o){0==(this.active-=1)&&this.destination.complete()}notifyNext(o,r,d){const m=this.values,w=this.toRespond?m[d]===v?--this.toRespond:this.toRespond:0;m[d]=r,0===w&&(this.resultSelector?this._tryResultSelector(m):this.destination.next(m.slice()))}_tryResultSelector(o){let r;try{r=this.resultSelector.apply(this,o)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}var R=F(3282);function k(...s){return(0,R.J)(1)((0,Qe.of)(...s))}function J(s){return new Xn.y(o=>{let r;try{r=s()}catch(m){return void o.error(m)}return(r?(0,an.D)(r):(0,Nr.c)()).subscribe(o)})}var le=F(2441);function be(s){return function(r){const d=new ze(s),m=r.lift(d);return d.caught=m}}class ze{constructor(o){this.selector=o}call(o,r){return r.subscribe(new Ve(o,this.selector,this.caught))}}class Ve extends qr.Ds{constructor(o,r,d){super(o),this.selector=r,this.caught=d}error(o){if(!this.isStopped){let r;try{r=this.selector(o,this.caught)}catch(C){return void super.error(C)}this._unsubscribeAndRecycle();const d=new qr.IY(this);this.add(d);const m=(0,qr.ft)(r,d);m!==d&&this.add(m)}}}var Pe=F(9773);function Ut(s,o){return(0,Pe.zg)(s,o,1)}function ir(s){return function(r){return 0===s?(0,Nr.c)():r.lift(new vs(s))}}class vs{constructor(o){if(this.total=o,this.total<0)throw new Cl}call(o,r){return r.subscribe(new au(o,this.total))}}class au extends Vn.L{constructor(o,r){super(o),this.total=r,this.ring=new Array,this.count=0}_next(o){const r=this.ring,d=this.total,m=this.count++;r.length<d?r.push(o):r[m%d]=o}_complete(){const o=this.destination;let r=this.count;if(r>0){const d=this.count>=this.total?this.total:this.count,m=this.ring;for(let C=0;C<d;C++){const w=r++%d;o.next(m[w])}}o.complete()}}var pn=F(3342),dm=F(1307);class fm{constructor(o){this.callback=o}call(o,r){return r.subscribe(new hm(o,this.callback))}}class hm extends Vn.L{constructor(o,r){super(o),this.add(new eu.w(r))}}class Ji{constructor(o,r){this.id=o,this.url=r}}class Rl extends Ji{constructor(o,r,d="imperative",m=null){super(o,r),this.navigationTrigger=d,this.restoredState=m}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uu extends Ji{constructor(o,r,d){super(o,r),this.urlAfterRedirects=d}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pm extends Ji{constructor(o,r,d){super(o,r),this.reason=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ep extends Ji{constructor(o,r,d){super(o,r),this.error=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gm extends Ji{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bp extends Ji{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mm extends Ji{constructor(o,r,d,m,C){super(o,r),this.urlAfterRedirects=d,this.state=m,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _m extends Ji{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends Ji{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp{constructor(o){this.route=o}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lf{constructor(o){this.route=o}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vm{constructor(o){this.snapshot=o}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ym{constructor(o){this.snapshot=o}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cm{constructor(o){this.snapshot=o}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Em{constructor(o){this.snapshot=o}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vf{constructor(o,r,d){this.routerEvent=o,this.position=r,this.anchor=d}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class bm{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const r=this.params[o];return Array.isArray(r)?r[0]:r}return null}getAll(o){if(this.has(o)){const r=this.params[o];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function lu(s){return new bm(s)}const tt="ngNavigationCancelingError";function id(s){const o=Error("NavigationCancelingError: "+s);return o[tt]=!0,o}function od(s,o,r){const d=r.path.split("/");if(d.length>s.length||"full"===r.pathMatch&&(o.hasChildren()||d.length<s.length))return null;const m={};for(let C=0;C<d.length;C++){const w=d[C],M=s[C];if(w.startsWith(":"))m[w.substring(1)]=M;else if(w!==M.path)return null}return{consumed:s.slice(0,d.length),posParams:m}}function bi(s,o){const r=s?Object.keys(s):void 0,d=o?Object.keys(o):void 0;if(!r||!d||r.length!=d.length)return!1;let m;for(let C=0;C<r.length;C++)if(m=r[C],!Tp(s[m],o[m]))return!1;return!0}function Tp(s,o){if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length)return!1;const r=[...s].sort(),d=[...o].sort();return r.every((m,C)=>d[C]===m)}return s===o}function sd(s){return Array.prototype.concat.apply([],s)}function Xi(s){return s.length>0?s[s.length-1]:null}function Sn(s,o){for(const r in s)s.hasOwnProperty(r)&&o(s[r],r)}function Kr(s){return(0,p.CqO)(s)?s:(0,p.QGY)(s)?(0,an.D)(Promise.resolve(s)):(0,Qe.of)(s)}const Ap={exact:function xl(s,o,r){if(!ys(s.segments,o.segments)||!Nl(s.segments,o.segments,r)||s.numberOfChildren!==o.numberOfChildren)return!1;for(const d in o.children)if(!s.children[d]||!xl(s.children[d],o.children[d],r))return!1;return!0},subset:wm},Dm={exact:function(s,o){return bi(s,o)},subset:function(s,o){return Object.keys(o).length<=Object.keys(s).length&&Object.keys(o).every(r=>Tp(s[r],o[r]))},ignored:()=>!0};function eo(s,o,r){return Ap[r.paths](s.root,o.root,r.matrixParams)&&Dm[r.queryParams](s.queryParams,o.queryParams)&&!("exact"===r.fragment&&s.fragment!==o.fragment)}function wm(s,o,r){return Sp(s,o,o.segments,r)}function Sp(s,o,r,d){if(s.segments.length>r.length){const m=s.segments.slice(0,r.length);return!(!ys(m,r)||o.hasChildren()||!Nl(m,r,d))}if(s.segments.length===r.length){if(!ys(s.segments,r)||!Nl(s.segments,r,d))return!1;for(const m in o.children)if(!s.children[m]||!wm(s.children[m],o.children[m],d))return!1;return!0}{const m=r.slice(0,s.segments.length),C=r.slice(s.segments.length);return!!(ys(s.segments,m)&&Nl(s.segments,m,d)&&s.children[ht])&&Sp(s.children[ht],o,C,d)}}function Nl(s,o,r){return o.every((d,m)=>Dm[r](s[m].parameters,d.parameters))}class cu{constructor(o,r,d){this.root=o,this.queryParams=r,this.fragment=d}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return Jv.serialize(this)}}class _t{constructor(o,r){this.segments=o,this.children=r,this.parent=null,Sn(r,(d,m)=>d.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bf(this)}}class ud{constructor(o,r){this.path=o,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return Mm(this)}}function ys(s,o){return s.length===o.length&&s.every((r,d)=>r.path===o[d].path)}class Ol{}class Im{parse(o){const r=new Es(o);return new cu(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(o){var s;return`${`/${ld(o.root,!0)}`}${function(s){const o=Object.keys(s).map(r=>{const d=s[r];return Array.isArray(d)?d.map(m=>`${jf(r)}=${jf(m)}`).join("&"):`${jf(r)}=${jf(d)}`}).filter(r=>!!r);return o.length?`?${o.join("&")}`:""}(o.queryParams)}${"string"==typeof o.fragment?`#${s=o.fragment,encodeURI(s)}`:""}`}}const Jv=new Im;function Bf(s){return s.segments.map(o=>Mm(o)).join("/")}function ld(s,o){if(!s.hasChildren())return Bf(s);if(o){const r=s.children[ht]?ld(s.children[ht],!1):"",d=[];return Sn(s.children,(m,C)=>{C!==ht&&d.push(`${C}:${ld(m,!1)}`)}),d.length>0?`${r}(${d.join("//")})`:r}{const r=function(s,o){let r=[];return Sn(s.children,(d,m)=>{m===ht&&(r=r.concat(o(d,m)))}),Sn(s.children,(d,m)=>{m!==ht&&(r=r.concat(o(d,m)))}),r}(s,(d,m)=>m===ht?[ld(s.children[ht],!1)]:[`${m}:${ld(d,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[ht]?`${Bf(s)}/${r[0]}`:`${Bf(s)}/(${r.join("//")})`}}function Am(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jf(s){return Am(s).replace(/%3B/gi,";")}function Rp(s){return Am(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hf(s){return decodeURIComponent(s)}function Sm(s){return Hf(s.replace(/\+/g,"%20"))}function Mm(s){return`${Rp(s.path)}${function(s){return Object.keys(s).map(o=>`;${Rp(o)}=${Rp(s[o])}`).join("")}(s.parameters)}`}const Rm=/^[^\/()?;=#]+/;function Pl(s){const o=s.match(Rm);return o?o[0]:""}const Gf=/^[^=?&#]+/,Wf=/^[^?&#]+/;class Es{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let d={};return this.peekStartsWith("(")&&(d=this.parseParens(!1)),(o.length>0||Object.keys(r).length>0)&&(d[ht]=new _t(o,r)),d}parseSegment(){const o=Pl(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(o),new ud(Hf(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const r=Pl(this.remaining);if(!r)return;this.capture(r);let d="";if(this.consumeOptional("=")){const m=Pl(this.remaining);m&&(d=m,this.capture(d))}o[Hf(r)]=Hf(d)}parseQueryParam(o){const r=function(s){const o=s.match(Gf);return o?o[0]:""}(this.remaining);if(!r)return;this.capture(r);let d="";if(this.consumeOptional("=")){const w=function(s){const o=s.match(Wf);return o?o[0]:""}(this.remaining);w&&(d=w,this.capture(d))}const m=Sm(r),C=Sm(d);if(o.hasOwnProperty(m)){let w=o[m];Array.isArray(w)||(w=[w],o[m]=w),w.push(C)}else o[m]=C}parseParens(o){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const d=Pl(this.remaining),m=this.remaining[d.length];if("/"!==m&&")"!==m&&";"!==m)throw new Error(`Cannot parse url '${this.url}'`);let C;d.indexOf(":")>-1?(C=d.substr(0,d.indexOf(":")),this.capture(C),this.capture(":")):o&&(C=ht);const w=this.parseChildren();r[C]=1===Object.keys(w).length?w[ht]:new _t([],w),this.consumeOptional("//")}return r}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new Error(`Expected "${o}".`)}}class zf{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const r=this.pathFromRoot(o);return r.length>1?r[r.length-2]:null}children(o){const r=Yf(o,this._root);return r?r.children.map(d=>d.value):[]}firstChild(o){const r=Yf(o,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(o){const r=Np(o,this._root);return r.length<2?[]:r[r.length-2].children.map(m=>m.value).filter(m=>m!==o)}pathFromRoot(o){return Np(o,this._root).map(r=>r.value)}}function Yf(s,o){if(s===o.value)return o;for(const r of o.children){const d=Yf(s,r);if(d)return d}return null}function Np(s,o){if(s===o.value)return[o];for(const r of o.children){const d=Np(s,r);if(d.length)return d.unshift(o),d}return[]}class Di{constructor(o,r){this.value=o,this.children=r}toString(){return`TreeNode(${this.value})`}}function Fl(s){const o={};return s&&s.children.forEach(r=>o[r.value.outlet]=r),o}class Zf extends zf{constructor(o,r){super(o),this.snapshot=r,bs(this,o)}toString(){return this.snapshot.toString()}}function Op(s,o){const r=function(s,o){const w=new Fo([],{},{},"",{},ht,o,null,s.root,-1,{});return new du("",new Di(w,[]))}(s,o),d=new a([new ud("",{})]),m=new a({}),C=new a({}),w=new a({}),M=new a(""),G=new Mn(d,m,w,M,C,ht,o,r.root);return G.snapshot=r.root,new Zf(new Di(G,[]),r)}class Mn{constructor(o,r,d,m,C,w,M,G){this.url=o,this.params=r,this.queryParams=d,this.fragment=m,this.data=C,this.outlet=w,this.component=M,this._futureSnapshot=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(o=>lu(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(o=>lu(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function la(s,o="emptyOnly"){const r=s.pathFromRoot;let d=0;if("always"!==o)for(d=r.length-1;d>=1;){const m=r[d],C=r[d-1];if(m.routeConfig&&""===m.routeConfig.path)d--;else{if(C.component)break;d--}}return function(s){return s.reduce((o,r)=>({params:Object.assign(Object.assign({},o.params),r.params),data:Object.assign(Object.assign({},o.data),r.data),resolve:Object.assign(Object.assign({},o.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(d))}class Fo{constructor(o,r,d,m,C,w,M,G,he,Ee,De){this.url=o,this.params=r,this.queryParams=d,this.fragment=m,this.data=C,this.outlet=w,this.component=M,this.routeConfig=G,this._urlSegment=he,this._lastPathIndex=Ee,this._resolve=De}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(d=>d.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class du extends zf{constructor(o,r){super(r),this.url=o,bs(this,r)}toString(){return Pp(this._root)}}function bs(s,o){o.value._routerState=s,o.children.forEach(r=>bs(s,r))}function Pp(s){const o=s.children.length>0?` { ${s.children.map(Pp).join(", ")} } `:"";return`${s.value}${o}`}function cd(s){if(s.snapshot){const o=s.snapshot,r=s._futureSnapshot;s.snapshot=r,bi(o.queryParams,r.queryParams)||s.queryParams.next(r.queryParams),o.fragment!==r.fragment&&s.fragment.next(r.fragment),bi(o.params,r.params)||s.params.next(r.params),function(s,o){if(s.length!==o.length)return!1;for(let r=0;r<s.length;++r)if(!bi(s[r],o[r]))return!1;return!0}(o.url,r.url)||s.url.next(r.url),bi(o.data,r.data)||s.data.next(r.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function dd(s,o){return bi(s.params,o.params)&&function(s,o){return ys(s,o)&&s.every((r,d)=>bi(r.parameters,o[d].parameters))}(s.url,o.url)&&!(!s.parent!=!o.parent)&&(!s.parent||dd(s.parent,o.parent))}function fu(s,o,r){if(r&&s.shouldReuseRoute(o.value,r.value.snapshot)){const d=r.value;d._futureSnapshot=o.value;const m=function(s,o,r){return o.children.map(d=>{for(const m of r.children)if(s.shouldReuseRoute(d.value,m.value.snapshot))return fu(s,d,m);return fu(s,d)})}(s,o,r);return new Di(d,m)}{if(s.shouldAttach(o.value)){const C=s.retrieve(o.value);if(null!==C){const w=C.route;return Kf(o,w),w}}const d=function(s){return new Mn(new a(s.url),new a(s.params),new a(s.queryParams),new a(s.fragment),new a(s.data),s.outlet,s.component,s)}(o.value),m=o.children.map(C=>fu(s,C));return new Di(d,m)}}function Kf(s,o){if(s.value.routeConfig!==o.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==o.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");o.value._futureSnapshot=s.value;for(let r=0;r<s.children.length;++r)Kf(s.children[r],o.children[r])}function Jf(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function hu(s){return"object"==typeof s&&null!=s&&s.outlets}function hd(s,o,r,d,m){let C={};return d&&Sn(d,(w,M)=>{C[M]=Array.isArray(w)?w.map(G=>`${G}`):`${w}`}),new cu(r.root===s?o:kp(r.root,s,o),C,m)}function kp(s,o,r){const d={};return Sn(s.children,(m,C)=>{d[C]=m===o?r:kp(m,o,r)}),new _t(s.segments,d)}class Xf{constructor(o,r,d){if(this.isAbsolute=o,this.numberOfDoubleDots=r,this.commands=d,o&&d.length>0&&Jf(d[0]))throw new Error("Root segment cannot have matrix parameters");const m=d.find(hu);if(m&&m!==Xi(d))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eh{constructor(o,r,d){this.segmentGroup=o,this.processChildren=r,this.index=d}}function Lm(s,o,r){if(s||(s=new _t([],{})),0===s.segments.length&&s.hasChildren())return th(s,o,r);const d=function(s,o,r){let d=0,m=o;const C={match:!1,pathIndex:0,commandIndex:0};for(;m<s.segments.length;){if(d>=r.length)return C;const w=s.segments[m],M=r[d];if(hu(M))break;const G=`${M}`,he=d<r.length-1?r[d+1]:null;if(m>0&&void 0===G)break;if(G&&he&&"object"==typeof he&&void 0===he.outlets){if(!nh(G,he,w))return C;d+=2}else{if(!nh(G,{},w))return C;d++}m++}return{match:!0,pathIndex:m,commandIndex:d}}(s,o,r),m=r.slice(d.commandIndex);if(d.match&&d.pathIndex<s.segments.length){const C=new _t(s.segments.slice(0,d.pathIndex),{});return C.children[ht]=new _t(s.segments.slice(d.pathIndex),s.children),th(C,0,m)}return d.match&&0===m.length?new _t(s.segments,{}):d.match&&!s.hasChildren()?Vp(s,o,r):d.match?th(s,0,m):Vp(s,o,r)}function th(s,o,r){if(0===r.length)return new _t(s.segments,{});{const d=function(s){return hu(s[0])?s[0].outlets:{[ht]:s}}(r),m={};return Sn(d,(C,w)=>{"string"==typeof C&&(C=[C]),null!==C&&(m[w]=Lm(s.children[w],o,C))}),Sn(s.children,(C,w)=>{void 0===d[w]&&(m[w]=C)}),new _t(s.segments,m)}}function Vp(s,o,r){const d=s.segments.slice(0,o);let m=0;for(;m<r.length;){const C=r[m];if(hu(C)){const G=Vm(C.outlets);return new _t(d,G)}if(0===m&&Jf(r[0])){d.push(new ud(s.segments[o].path,pd(r[0]))),m++;continue}const w=hu(C)?C.outlets[ht]:`${C}`,M=m<r.length-1?r[m+1]:null;w&&M&&Jf(M)?(d.push(new ud(w,pd(M))),m+=2):(d.push(new ud(w,{})),m++)}return new _t(d,{})}function Vm(s){const o={};return Sn(s,(r,d)=>{"string"==typeof r&&(r=[r]),null!==r&&(o[d]=Vp(new _t([],{}),0,r))}),o}function pd(s){const o={};return Sn(s,(r,d)=>o[d]=`${r}`),o}function nh(s,o,r){return s==r.path&&bi(o,r.parameters)}class Bm{constructor(o,r,d,m){this.routeReuseStrategy=o,this.futureState=r,this.currState=d,this.forwardEvent=m}activate(o){const r=this.futureState._root,d=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,d,o),cd(this.futureState.root),this.activateChildRoutes(r,d,o)}deactivateChildRoutes(o,r,d){const m=Fl(r);o.children.forEach(C=>{const w=C.value.outlet;this.deactivateRoutes(C,m[w],d),delete m[w]}),Sn(m,(C,w)=>{this.deactivateRouteAndItsChildren(C,d)})}deactivateRoutes(o,r,d){const m=o.value,C=r?r.value:null;if(m===C)if(m.component){const w=d.getContext(m.outlet);w&&this.deactivateChildRoutes(o,r,w.children)}else this.deactivateChildRoutes(o,r,d);else C&&this.deactivateRouteAndItsChildren(r,d)}deactivateRouteAndItsChildren(o,r){this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,r):this.deactivateRouteAndOutlet(o,r)}detachAndStoreRouteSubtree(o,r){const d=r.getContext(o.value.outlet);if(d&&d.outlet){const m=d.outlet.detach(),C=d.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:m,route:o,contexts:C})}}deactivateRouteAndOutlet(o,r){const d=r.getContext(o.value.outlet),m=d&&o.value.component?d.children:r,C=Fl(o);for(const w of Object.keys(C))this.deactivateRouteAndItsChildren(C[w],m);d&&d.outlet&&(d.outlet.deactivate(),d.children.onOutletDeactivated(),d.attachRef=null,d.resolver=null,d.route=null)}activateChildRoutes(o,r,d){const m=Fl(r);o.children.forEach(C=>{this.activateRoutes(C,m[C.value.outlet],d),this.forwardEvent(new Em(C.value.snapshot))}),o.children.length&&this.forwardEvent(new ym(o.value.snapshot))}activateRoutes(o,r,d){const m=o.value,C=r?r.value:null;if(cd(m),m===C)if(m.component){const w=d.getOrCreateContext(m.outlet);this.activateChildRoutes(o,r,w.children)}else this.activateChildRoutes(o,r,d);else if(m.component){const w=d.getOrCreateContext(m.outlet);if(this.routeReuseStrategy.shouldAttach(m.snapshot)){const M=this.routeReuseStrategy.retrieve(m.snapshot);this.routeReuseStrategy.store(m.snapshot,null),w.children.onOutletReAttached(M.contexts),w.attachRef=M.componentRef,w.route=M.route.value,w.outlet&&w.outlet.attach(M.componentRef,M.route.value),Up(M.route)}else{const M=function(s){for(let o=s.parent;o;o=o.parent){const r=o.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(m.snapshot),G=M?M.module.componentFactoryResolver:null;w.attachRef=null,w.route=m,w.resolver=G,w.outlet&&w.outlet.activateWith(m,G),this.activateChildRoutes(o,null,w.children)}}else this.activateChildRoutes(o,null,d)}}function Up(s){cd(s.value),s.children.forEach(Up)}class rh{constructor(o,r){this.routes=o,this.module=r}}function ko(s){return"function"==typeof s}function ca(s){return s instanceof cu}const da=Symbol("INITIAL_VALUE");function kl(){return Vt(s=>function(...s){let o,r;return(0,c.K)(s[s.length-1])&&(r=s.pop()),"function"==typeof s[s.length-1]&&(o=s.pop()),1===s.length&&(0,yo.k)(s[0])&&(s=s[0]),(0,h.n)(s,r).lift(new D(o))}(s.map(o=>o.pipe(El(1),function(...s){const o=s[s.length-1];return(0,c.K)(o)?(s.pop(),r=>k(s,r,o)):r=>k(s,r)}(da)))).pipe(ia((o,r)=>{let d=!1;return r.reduce((m,C,w)=>m!==da?m:(C===da&&(d=!0),d||!1!==C&&w!==r.length-1&&!ca(C)?m:C),o)},da),vi(o=>o!==da),(0,qe.U)(o=>ca(o)?o:!0===o),El(1)))}let $p=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,d){1&r&&p._UZ(0,"router-outlet")},directives:function(){return[Cd]},encapsulation:2}),s})();function $m(s,o=""){for(let r=0;r<s.length;r++){const d=s[r];Gp(d,Gm(o,d))}}function Gp(s,o){s.children&&$m(s.children,o)}function Gm(s,o){return o?s||o.path?s&&!o.path?`${s}/`:!s&&o.path?o.path:`${s}/${o.path}`:"":s}function ih(s){const o=s.children&&s.children.map(ih),r=o?Object.assign(Object.assign({},s),{children:o}):Object.assign({},s);return!r.component&&(o||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=$p),r}function Jr(s){return s.outlet||ht}function gd(s,o){const r=s.filter(d=>Jr(d)===o);return r.push(...s.filter(d=>Jr(d)!==o)),r}const Wp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function md(s,o,r){var d;if(""===o.path)return"full"===o.pathMatch&&(s.hasChildren()||r.length>0)?Object.assign({},Wp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const C=(o.matcher||od)(r,s,o);if(!C)return Object.assign({},Wp);const w={};Sn(C.posParams,(G,he)=>{w[he]=G.path});const M=C.consumed.length>0?Object.assign(Object.assign({},w),C.consumed[C.consumed.length-1].parameters):w;return{matched:!0,consumedSegments:C.consumed,lastChild:C.consumed.length,parameters:M,positionalParamSegments:null!==(d=C.posParams)&&void 0!==d?d:{}}}function fa(s,o,r,d,m="corrected"){if(r.length>0&&function(s,o,r){return r.some(d=>Ll(s,o,d)&&Jr(d)!==ht)}(s,r,d)){const w=new _t(o,function(s,o,r,d){const m={};m[ht]=d,d._sourceSegment=s,d._segmentIndexShift=o.length;for(const C of r)if(""===C.path&&Jr(C)!==ht){const w=new _t([],{});w._sourceSegment=s,w._segmentIndexShift=o.length,m[Jr(C)]=w}return m}(s,o,d,new _t(r,s.children)));return w._sourceSegment=s,w._segmentIndexShift=o.length,{segmentGroup:w,slicedSegments:[]}}if(0===r.length&&function(s,o,r){return r.some(d=>Ll(s,o,d))}(s,r,d)){const w=new _t(s.segments,function(s,o,r,d,m,C){const w={};for(const M of d)if(Ll(s,r,M)&&!m[Jr(M)]){const G=new _t([],{});G._sourceSegment=s,G._segmentIndexShift="legacy"===C?s.segments.length:o.length,w[Jr(M)]=G}return Object.assign(Object.assign({},m),w)}(s,o,r,d,s.children,m));return w._sourceSegment=s,w._segmentIndexShift=o.length,{segmentGroup:w,slicedSegments:r}}const C=new _t(s.segments,s.children);return C._sourceSegment=s,C._segmentIndexShift=o.length,{segmentGroup:C,slicedSegments:r}}function Ll(s,o,r){return(!(s.hasChildren()||o.length>0)||"full"!==r.pathMatch)&&""===r.path}function zp(s,o,r,d){return!!(Jr(s)===d||d!==ht&&Ll(o,r,s))&&("**"===s.path||md(o,s,r).matched)}function Yp(s,o,r){return 0===o.length&&!s.children[r]}class ha{constructor(o){this.segmentGroup=o||null}}class zm{constructor(o){this.urlTree=o}}function _d(s){return new Xn.y(o=>o.error(new ha(s)))}function uh(s){return new Xn.y(o=>o.error(new zm(s)))}function Zp(s){return new Xn.y(o=>o.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Kp{constructor(o,r,d,m,C){this.configLoader=r,this.urlSerializer=d,this.urlTree=m,this.config=C,this.allowRedirects=!0,this.ngModule=o.get(p.h0i)}apply(){const o=fa(this.urlTree.root,[],[],this.config).segmentGroup,r=new _t(o.segments,o.children);return this.expandSegmentGroup(this.ngModule,this.config,r,ht).pipe((0,qe.U)(C=>this.createUrlTree(pu(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(C=>{if(C instanceof zm)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof ha?this.noMatchError(C):C}))}match(o){return this.expandSegmentGroup(this.ngModule,this.config,o.root,ht).pipe((0,qe.U)(m=>this.createUrlTree(pu(m),o.queryParams,o.fragment))).pipe(be(m=>{throw m instanceof ha?this.noMatchError(m):m}))}noMatchError(o){return new Error(`Cannot match any routes. URL Segment: '${o.segmentGroup}'`)}createUrlTree(o,r,d){const m=o.segments.length>0?new _t([],{[ht]:o}):o;return new cu(m,r,d)}expandSegmentGroup(o,r,d,m){return 0===d.segments.length&&d.hasChildren()?this.expandChildren(o,r,d).pipe((0,qe.U)(C=>new _t([],C))):this.expandSegment(o,d,r,d.segments,m,!0)}expandChildren(o,r,d){const m=[];for(const C of Object.keys(d.children))"primary"===C?m.unshift(C):m.push(C);return(0,an.D)(m).pipe(Ut(C=>{const w=d.children[C],M=gd(r,C);return this.expandSegmentGroup(o,M,w,C).pipe((0,qe.U)(G=>({segment:G,outlet:C})))}),ia((C,w)=>(C[w.outlet]=w.segment,C),{}),function(s,o){const r=arguments.length>=2;return d=>d.pipe(s?vi((m,C)=>s(m,C,d)):nu.y,ir(1),r?Yc(o):Zc(()=>new sa))}())}expandSegment(o,r,d,m,C,w){return(0,an.D)(d).pipe(Ut(M=>this.expandSegmentAgainstRoute(o,r,d,M,m,C,w).pipe(be(he=>{if(he instanceof ha)return(0,Qe.of)(null);throw he}))),No(M=>!!M),be((M,G)=>{if(M instanceof sa||"EmptyError"===M.name){if(Yp(r,m,C))return(0,Qe.of)(new _t([],{}));throw new ha(r)}throw M}))}expandSegmentAgainstRoute(o,r,d,m,C,w,M){return zp(m,r,C,w)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(o,r,m,C,w):M&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,r,d,m,C,w):_d(r):_d(r)}expandSegmentAgainstRouteUsingRedirect(o,r,d,m,C,w){return"**"===m.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,d,m,w):this.expandRegularSegmentAgainstRouteUsingRedirect(o,r,d,m,C,w)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,r,d,m){const C=this.applyRedirectCommands([],d.redirectTo,{});return d.redirectTo.startsWith("/")?uh(C):this.lineralizeSegments(d,C).pipe((0,Pe.zg)(w=>{const M=new _t(w,{});return this.expandSegment(o,M,r,w,m,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,r,d,m,C,w){const{matched:M,consumedSegments:G,lastChild:he,positionalParamSegments:Ee}=md(r,m,C);if(!M)return _d(r);const De=this.applyRedirectCommands(G,m.redirectTo,Ee);return m.redirectTo.startsWith("/")?uh(De):this.lineralizeSegments(m,De).pipe((0,Pe.zg)(He=>this.expandSegment(o,r,d,He.concat(C.slice(he)),w,!1)))}matchSegmentAgainstRoute(o,r,d,m,C){if("**"===d.path)return d.loadChildren?(d._loadedConfig?(0,Qe.of)(d._loadedConfig):this.configLoader.load(o.injector,d)).pipe((0,qe.U)(He=>(d._loadedConfig=He,new _t(m,{})))):(0,Qe.of)(new _t(m,{}));const{matched:w,consumedSegments:M,lastChild:G}=md(r,d,m);if(!w)return _d(r);const he=m.slice(G);return this.getChildConfig(o,d,m).pipe((0,Pe.zg)(De=>{const He=De.module,Ue=De.routes,{segmentGroup:Bt,slicedSegments:vn}=fa(r,M,he,Ue),Qt=new _t(Bt.segments,Bt.children);if(0===vn.length&&Qt.hasChildren())return this.expandChildren(He,Ue,Qt).pipe((0,qe.U)(Ii=>new _t(M,Ii)));if(0===Ue.length&&0===vn.length)return(0,Qe.of)(new _t(M,{}));const Rn=Jr(d)===C;return this.expandSegment(He,Qt,Ue,vn,Rn?ht:C,!0).pipe((0,qe.U)(ln=>new _t(M.concat(ln.segments),ln.children)))}))}getChildConfig(o,r,d){return r.children?(0,Qe.of)(new rh(r.children,o)):r.loadChildren?void 0!==r._loadedConfig?(0,Qe.of)(r._loadedConfig):this.runCanLoadGuards(o.injector,r,d).pipe((0,Pe.zg)(m=>{return m?this.configLoader.load(o.injector,r).pipe((0,qe.U)(C=>(r._loadedConfig=C,C))):(s=r,new Xn.y(o=>o.error(id(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Qe.of)(new rh([],o))}runCanLoadGuards(o,r,d){const m=r.canLoad;if(!m||0===m.length)return(0,Qe.of)(!0);const C=m.map(w=>{const M=o.get(w);let G;if((s=M)&&ko(s.canLoad))G=M.canLoad(r,d);else{if(!ko(M))throw new Error("Invalid CanLoad guard");G=M(r,d)}var s;return Kr(G)});return(0,Qe.of)(C).pipe(kl(),(0,pn.b)(w=>{if(!ca(w))return;const M=id(`Redirecting to "${this.urlSerializer.serialize(w)}"`);throw M.url=w,M}),(0,qe.U)(w=>!0===w))}lineralizeSegments(o,r){let d=[],m=r.root;for(;;){if(d=d.concat(m.segments),0===m.numberOfChildren)return(0,Qe.of)(d);if(m.numberOfChildren>1||!m.children[ht])return Zp(o.redirectTo);m=m.children[ht]}}applyRedirectCommands(o,r,d){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),o,d)}applyRedirectCreatreUrlTree(o,r,d,m){const C=this.createSegmentGroup(o,r.root,d,m);return new cu(C,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(o,r){const d={};return Sn(o,(m,C)=>{if("string"==typeof m&&m.startsWith(":")){const M=m.substring(1);d[C]=r[M]}else d[C]=m}),d}createSegmentGroup(o,r,d,m){const C=this.createSegments(o,r.segments,d,m);let w={};return Sn(r.children,(M,G)=>{w[G]=this.createSegmentGroup(o,M,d,m)}),new _t(C,w)}createSegments(o,r,d,m){return r.map(C=>C.path.startsWith(":")?this.findPosParam(o,C,m):this.findOrReturn(C,d))}findPosParam(o,r,d){const m=d[r.path.substring(1)];if(!m)throw new Error(`Cannot redirect to '${o}'. Cannot find '${r.path}'.`);return m}findOrReturn(o,r){let d=0;for(const m of r){if(m.path===o.path)return r.splice(d),m;d++}return o}}function pu(s){const o={};for(const d of Object.keys(s.children)){const C=pu(s.children[d]);(C.segments.length>0||C.hasChildren())&&(o[d]=C)}return function(s){if(1===s.numberOfChildren&&s.children[ht]){const o=s.children[ht];return new _t(s.segments.concat(o.segments),o.children)}return s}(new _t(s.segments,o))}class Jp{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class lh{constructor(o,r){this.component=o,this.route=r}}function gu(s,o,r){const d=s._root;return Ul(d,o?o._root:null,r,[d.value])}function Ds(s,o,r){const d=function(s){if(!s)return null;for(let o=s.parent;o;o=o.parent){const r=o.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(o);return(d?d.module.injector:r).get(s)}function Ul(s,o,r,d,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=Fl(o);return s.children.forEach(w=>{(function(s,o,r,d,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=s.value,w=o?o.value:null,M=r?r.getContext(s.value.outlet):null;if(w&&C.routeConfig===w.routeConfig){const G=function(s,o,r){if("function"==typeof r)return r(s,o);switch(r){case"pathParamsChange":return!ys(s.url,o.url);case"pathParamsOrQueryParamsChange":return!ys(s.url,o.url)||!bi(s.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dd(s,o)||!bi(s.queryParams,o.queryParams);case"paramsChange":default:return!dd(s,o)}}(w,C,C.routeConfig.runGuardsAndResolvers);G?m.canActivateChecks.push(new Jp(d)):(C.data=w.data,C._resolvedData=w._resolvedData),Ul(s,o,C.component?M?M.children:null:r,d,m),G&&M&&M.outlet&&M.outlet.isActivated&&m.canDeactivateChecks.push(new lh(M.outlet.component,w))}else w&&Bl(o,M,m),m.canActivateChecks.push(new Jp(d)),Ul(s,null,C.component?M?M.children:null:r,d,m)})(w,C[w.value.outlet],r,d.concat([w.value]),m),delete C[w.value.outlet]}),Sn(C,(w,M)=>Bl(w,r.getContext(M),m)),m}function Bl(s,o,r){const d=Fl(s),m=s.value;Sn(d,(C,w)=>{Bl(C,m.component?o?o.children.getContext(w):null:o,r)}),r.canDeactivateChecks.push(new lh(m.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,m))}class Km{}function ig(s){return new Xn.y(o=>o.error(s))}class Jm{constructor(o,r,d,m,C,w){this.rootComponentType=o,this.config=r,this.urlTree=d,this.url=m,this.paramsInheritanceStrategy=C,this.relativeLinkResolution=w}recognize(){const o=fa(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,o,ht);if(null===r)return null;const d=new Fo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),m=new Di(d,r),C=new du(this.url,m);return this.inheritParamsAndData(C._root),C}inheritParamsAndData(o){const r=o.value,d=la(r,this.paramsInheritanceStrategy);r.params=Object.freeze(d.params),r.data=Object.freeze(d.data),o.children.forEach(m=>this.inheritParamsAndData(m))}processSegmentGroup(o,r,d){return 0===r.segments.length&&r.hasChildren()?this.processChildren(o,r):this.processSegment(o,r,r.segments,d)}processChildren(o,r){const d=[];for(const C of Object.keys(r.children)){const w=r.children[C],M=gd(o,C),G=this.processSegmentGroup(M,w,C);if(null===G)return null;d.push(...G)}const m=n_(d);return m.sort((o,r)=>o.value.outlet===ht?-1:r.value.outlet===ht?1:o.value.outlet.localeCompare(r.value.outlet)),m}processSegment(o,r,d,m){for(const C of o){const w=this.processSegmentAgainstRoute(C,r,d,m);if(null!==w)return w}return Yp(r,d,m)?[]:null}processSegmentAgainstRoute(o,r,d,m){if(o.redirectTo||!zp(o,r,d,m))return null;let C,w=[],M=[];if("**"===o.path){const Ue=d.length>0?Xi(d).parameters:{};C=new Fo(d,Ue,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vd(o),Jr(o),o.component,o,fh(r),xt(r)+d.length,r_(o))}else{const Ue=md(r,o,d);if(!Ue.matched)return null;w=Ue.consumedSegments,M=d.slice(Ue.lastChild),C=new Fo(w,Ue.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vd(o),Jr(o),o.component,o,fh(r),xt(r)+w.length,r_(o))}const G=(s=o).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:he,slicedSegments:Ee}=fa(r,w,M,G.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);var s;if(0===Ee.length&&he.hasChildren()){const Ue=this.processChildren(G,he);return null===Ue?null:[new Di(C,Ue)]}if(0===G.length&&0===Ee.length)return[new Di(C,[])];const De=Jr(o)===m,He=this.processSegment(G,he,Ee,De?ht:m);return null===He?null:[new Di(C,He)]}}function t_(s){const o=s.value.routeConfig;return o&&""===o.path&&void 0===o.redirectTo}function n_(s){const o=[],r=new Set;for(const d of s){if(!t_(d)){o.push(d);continue}const m=o.find(C=>d.value.routeConfig===C.value.routeConfig);void 0!==m?(m.children.push(...d.children),r.add(m)):o.push(d)}for(const d of r){const m=n_(d.children);o.push(new Di(d.value,m))}return o.filter(d=>!r.has(d))}function fh(s){let o=s;for(;o._sourceSegment;)o=o._sourceSegment;return o}function xt(s){let o=s,r=o._segmentIndexShift?o._segmentIndexShift:0;for(;o._sourceSegment;)o=o._sourceSegment,r+=o._segmentIndexShift?o._segmentIndexShift:0;return r-1}function vd(s){return s.data||{}}function r_(s){return s.resolve||{}}function gh(s){return Vt(o=>{const r=s(o);return r?(0,an.D)(r).pipe((0,qe.U)(()=>o)):(0,Qe.of)(o)})}class ag extends class{shouldDetach(o){return!1}store(o,r){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,r){return o.routeConfig===r.routeConfig}}{}const yd=new p.OlP("ROUTES");class ug{constructor(o,r,d,m){this.loader=o,this.compiler=r,this.onLoadStartListener=d,this.onLoadEndListener=m}load(o,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const m=this.loadModuleFactory(r.loadChildren).pipe((0,qe.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(r);const w=C.create(o);return new rh(sd(w.injector.get(yd,void 0,p.XFs.Self|p.XFs.Optional)).map(ih),w)}),be(C=>{throw r._loader$=void 0,C}));return r._loader$=new le.c(m,()=>new Rr.xQ).pipe((0,dm.x)()),r._loader$}loadModuleFactory(o){return"string"==typeof o?(0,an.D)(this.loader.load(o)):Kr(o()).pipe((0,Pe.zg)(r=>r instanceof p.YKP?(0,Qe.of)(r):(0,an.D)(this.compiler.compileModuleAsync(r))))}}class o_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new no,this.attachRef=null}}class no{constructor(){this.contexts=new Map}onChildOutletCreated(o,r){const d=this.getOrCreateContext(o);d.outlet=r,this.contexts.set(o,d)}onChildOutletDestroyed(o){const r=this.getContext(o);r&&(r.outlet=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let r=this.getContext(o);return r||(r=new o_,this.contexts.set(o,r)),r}getContext(o){return this.contexts.get(o)||null}}class lg{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,r){return o}}function cg(s){throw s}function dg(s,o,r){return o.parse("/")}function _h(s,o){return(0,Qe.of)(null)}const s_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class s{constructor(r,d,m,C,w,M,G,he){this.rootComponentType=r,this.urlSerializer=d,this.rootContexts=m,this.location=C,this.config=he,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rr.xQ,this.errorHandler=cg,this.malformedUriErrorHandler=dg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_h,afterPreactivation:_h},this.urlHandlingStrategy=new lg,this.routeReuseStrategy=new ag,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=w.get(p.h0i),this.console=w.get(p.c2e);const He=w.get(p.R0b);this.isNgZoneEnabled=He instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(he),this.currentUrlTree=new cu(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ug(M,G,Ue=>this.triggerEvent(new Dp(Ue)),Ue=>this.triggerEvent(new Lf(Ue))),this.routerState=Op(this.currentUrlTree,this.rootComponentType),this.transitions=new a({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const d=this.events;return r.pipe(vi(m=>0!==m.id),(0,qe.U)(m=>Object.assign(Object.assign({},m),{extractedUrl:this.urlHandlingStrategy.extract(m.rawUrl)})),Vt(m=>{let C=!1,w=!1;return(0,Qe.of)(m).pipe((0,pn.b)(M=>{this.currentNavigation={id:M.id,initialUrl:M.currentRawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vt(M=>{const G=!this.navigated||M.extractedUrl.toString()!==this.browserUrlTree.toString(),he=("reload"===this.onSameUrlNavigation||G)&&this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl);if(jl(M.source)&&(this.browserUrlTree=M.rawUrl),he)return(0,Qe.of)(M).pipe(Vt(Ee=>{const De=this.transitions.getValue();return d.next(new Rl(Ee.id,this.serializeUrl(Ee.extractedUrl),Ee.source,Ee.restoredState)),De!==this.transitions.getValue()?Nr.E:Promise.resolve(Ee)}),function(s,o,r,d){return Vt(m=>function(s,o,r,d,m){return new Kp(s,o,r,d,m).apply()}(s,o,r,m.extractedUrl,d).pipe((0,qe.U)(C=>Object.assign(Object.assign({},m),{urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pn.b)(Ee=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ee.urlAfterRedirects})}),function(s,o,r,d,m){return(0,Pe.zg)(C=>function(s,o,r,d,m="emptyOnly",C="legacy"){try{const w=new Jm(s,o,r,d,m,C).recognize();return null===w?ig(new Km):(0,Qe.of)(w)}catch(w){return ig(w)}}(s,o,C.urlAfterRedirects,r(C.urlAfterRedirects),d,m).pipe((0,qe.U)(w=>Object.assign(Object.assign({},C),{targetSnapshot:w}))))}(this.rootComponentType,this.config,Ee=>this.serializeUrl(Ee),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pn.b)(Ee=>{"eager"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(Ee.urlAfterRedirects,Ee),this.browserUrlTree=Ee.urlAfterRedirects);const De=new gm(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);d.next(De)}));if(G&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:De,extractedUrl:He,source:Ue,restoredState:Bt,extras:vn}=M,Qt=new Rl(De,this.serializeUrl(He),Ue,Bt);d.next(Qt);const Rn=Op(He,this.rootComponentType).snapshot;return(0,Qe.of)(Object.assign(Object.assign({},M),{targetSnapshot:Rn,urlAfterRedirects:He,extras:Object.assign(Object.assign({},vn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=M.rawUrl,this.browserUrlTree=M.urlAfterRedirects,M.resolve(null),Nr.E}),gh(M=>{const{targetSnapshot:G,id:he,extractedUrl:Ee,rawUrl:De,extras:{skipLocationChange:He,replaceUrl:Ue}}=M;return this.hooks.beforePreactivation(G,{navigationId:he,appliedUrlTree:Ee,rawUrlTree:De,skipLocationChange:!!He,replaceUrl:!!Ue})}),(0,pn.b)(M=>{const G=new bp(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(G)}),(0,qe.U)(M=>Object.assign(Object.assign({},M),{guards:gu(M.targetSnapshot,M.currentSnapshot,this.rootContexts)})),function(s,o){return(0,Pe.zg)(r=>{const{targetSnapshot:d,currentSnapshot:m,guards:{canActivateChecks:C,canDeactivateChecks:w}}=r;return 0===w.length&&0===C.length?(0,Qe.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(s,o,r,d){return(0,an.D)(s).pipe((0,Pe.zg)(m=>function(s,o,r,d,m){const C=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,Qe.of)(!0);const w=C.map(M=>{const G=Ds(M,o,m);let he;if(function(s){return s&&ko(s.canDeactivate)}(G))he=Kr(G.canDeactivate(s,o,r,d));else{if(!ko(G))throw new Error("Invalid CanDeactivate guard");he=Kr(G(s,o,r,d))}return he.pipe(No())});return(0,Qe.of)(w).pipe(kl())}(m.component,m.route,r,o,d)),No(m=>!0!==m,!0))}(w,d,m,s).pipe((0,Pe.zg)(M=>M&&function(s){return"boolean"==typeof s}(M)?function(s,o,r,d){return(0,an.D)(o).pipe(Ut(m=>k(function(s,o){return null!==s&&o&&o(new vm(s)),(0,Qe.of)(!0)}(m.route.parent,d),function(s,o){return null!==s&&o&&o(new Cm(s)),(0,Qe.of)(!0)}(m.route,d),function(s,o,r){const d=o[o.length-1],C=o.slice(0,o.length-1).reverse().map(w=>function(s){const o=s.routeConfig?s.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:s,guards:o}:null}(w)).filter(w=>null!==w).map(w=>J(()=>{const M=w.guards.map(G=>{const he=Ds(G,w.node,r);let Ee;if(function(s){return s&&ko(s.canActivateChild)}(he))Ee=Kr(he.canActivateChild(d,s));else{if(!ko(he))throw new Error("Invalid CanActivateChild guard");Ee=Kr(he(d,s))}return Ee.pipe(No())});return(0,Qe.of)(M).pipe(kl())}));return(0,Qe.of)(C).pipe(kl())}(s,m.path,r),function(s,o,r){const d=o.routeConfig?o.routeConfig.canActivate:null;if(!d||0===d.length)return(0,Qe.of)(!0);const m=d.map(C=>J(()=>{const w=Ds(C,o,r);let M;if(function(s){return s&&ko(s.canActivate)}(w))M=Kr(w.canActivate(o,s));else{if(!ko(w))throw new Error("Invalid CanActivate guard");M=Kr(w(o,s))}return M.pipe(No())}));return(0,Qe.of)(m).pipe(kl())}(s,m.route,r))),No(m=>!0!==m,!0))}(d,C,s,o):(0,Qe.of)(M)),(0,qe.U)(M=>Object.assign(Object.assign({},r),{guardsResult:M})))})}(this.ngModule.injector,M=>this.triggerEvent(M)),(0,pn.b)(M=>{if(ca(M.guardsResult)){const he=id(`Redirecting to "${this.serializeUrl(M.guardsResult)}"`);throw he.url=M.guardsResult,he}const G=new mm(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.triggerEvent(G)}),vi(M=>!!M.guardsResult||(this.restoreHistory(M),this.cancelNavigationTransition(M,""),!1)),gh(M=>{if(M.guards.canActivateChecks.length)return(0,Qe.of)(M).pipe((0,pn.b)(G=>{const he=new _m(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(he)}),Vt(G=>{let he=!1;return(0,Qe.of)(G).pipe(function(s,o){return(0,Pe.zg)(r=>{const{targetSnapshot:d,guards:{canActivateChecks:m}}=r;if(!m.length)return(0,Qe.of)(r);let C=0;return(0,an.D)(m).pipe(Ut(w=>function(s,o,r,d){return function(s,o,r,d){const m=Object.keys(s);if(0===m.length)return(0,Qe.of)({});const C={};return(0,an.D)(m).pipe((0,Pe.zg)(w=>function(s,o,r,d){const m=Ds(s,o,d);return Kr(m.resolve?m.resolve(o,r):m(o,r))}(s[w],o,r,d).pipe((0,pn.b)(M=>{C[w]=M}))),ir(1),(0,Pe.zg)(()=>Object.keys(C).length===m.length?(0,Qe.of)(C):Nr.E))}(s._resolve,s,o,d).pipe((0,qe.U)(C=>(s._resolvedData=C,s.data=Object.assign(Object.assign({},s.data),la(s,r).resolve),null)))}(w.route,d,s,o)),(0,pn.b)(()=>C++),ir(1),(0,Pe.zg)(w=>C===m.length?(0,Qe.of)(r):Nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pn.b)({next:()=>he=!0,complete:()=>{he||(this.restoreHistory(G),this.cancelNavigationTransition(G,"At least one route resolver didn't emit any value."))}}))}),(0,pn.b)(G=>{const he=new Ci(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(he)}))}),gh(M=>{const{targetSnapshot:G,id:he,extractedUrl:Ee,rawUrl:De,extras:{skipLocationChange:He,replaceUrl:Ue}}=M;return this.hooks.afterPreactivation(G,{navigationId:he,appliedUrlTree:Ee,rawUrlTree:De,skipLocationChange:!!He,replaceUrl:!!Ue})}),(0,qe.U)(M=>{const G=function(s,o,r){const d=fu(s,o._root,r?r._root:void 0);return new Zf(d,o)}(this.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return Object.assign(Object.assign({},M),{targetRouterState:G})}),(0,pn.b)(M=>{this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects)}),((s,o,r)=>(0,qe.U)(d=>(new Bm(o,d.targetRouterState,d.currentRouterState,r).activate(s),d)))(this.rootContexts,this.routeReuseStrategy,M=>this.triggerEvent(M)),(0,pn.b)({next(){C=!0},complete(){C=!0}}),function(s){return o=>o.lift(new fm(s))}(()=>{if(!C&&!w){const M=`Navigation ID ${m.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(m),this.cancelNavigationTransition(m,M)):this.cancelNavigationTransition(m,M)}this.currentNavigation=null}),be(M=>{if(w=!0,function(s){return s&&s[tt]}(M)){const G=ca(M.url);G||(this.navigated=!0,this.restoreHistory(m,!0));const he=new pm(m.id,this.serializeUrl(m.extractedUrl),M.message);d.next(he),G?setTimeout(()=>{const Ee=this.urlHandlingStrategy.merge(M.url,this.rawUrlTree),De={skipLocationChange:m.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jl(m.source)};this.scheduleNavigation(Ee,"imperative",null,De,{resolve:m.resolve,reject:m.reject,promise:m.promise})},0):m.resolve(!1)}else{this.restoreHistory(m,!0);const G=new Ep(m.id,this.serializeUrl(m.extractedUrl),M);d.next(G);try{m.resolve(this.errorHandler(M))}catch(he){m.reject(he)}}return Nr.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const d=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,d)&&setTimeout(()=>{const{source:m,state:C,urlTree:w}=d,M={replaceUrl:!0};if(C){const G=Object.assign({},C);delete G.navigationId,delete G.\u0275routerPageId,0!==Object.keys(G).length&&(M.state=G)}this.scheduleNavigation(w,m,C,M)},0),this.lastLocationChangeInfo=d}))}extractLocationChangeInfoFromEvent(r){var d;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(d=r.state)||void 0===d?void 0:d.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,d){if(!r)return!0;const m=d.urlTree.toString()===r.urlTree.toString();return d.transitionId!==r.transitionId||!m||!("hashchange"===d.source&&"popstate"===r.source||"popstate"===d.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){$m(r),this.config=r.map(ih),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,d={}){const{relativeTo:m,queryParams:C,fragment:w,queryParamsHandling:M,preserveFragment:G}=d,he=m||this.routerState.root,Ee=G?this.currentUrlTree.fragment:w;let De=null;switch(M){case"merge":De=Object.assign(Object.assign({},this.currentUrlTree.queryParams),C);break;case"preserve":De=this.currentUrlTree.queryParams;break;default:De=C||null}return null!==De&&(De=this.removeEmptyProps(De)),function(s,o,r,d,m){if(0===r.length)return hd(o.root,o.root,o,d,m);const C=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Xf(!0,0,s);let o=0,r=!1;const d=s.reduce((m,C,w)=>{if("object"==typeof C&&null!=C){if(C.outlets){const M={};return Sn(C.outlets,(G,he)=>{M[he]="string"==typeof G?G.split("/"):G}),[...m,{outlets:M}]}if(C.segmentPath)return[...m,C.segmentPath]}return"string"!=typeof C?[...m,C]:0===w?(C.split("/").forEach((M,G)=>{0==G&&"."===M||(0==G&&""===M?r=!0:".."===M?o++:""!=M&&m.push(M))}),m):[...m,C]},[]);return new Xf(r,o,d)}(r);if(C.toRoot())return hd(o.root,new _t([],{}),o,d,m);const w=function(s,o,r){if(s.isAbsolute)return new eh(o.root,!0,0);if(-1===r.snapshot._lastPathIndex){const C=r.snapshot._urlSegment;return new eh(C,C===o.root,0)}const d=Jf(s.commands[0])?0:1;return function(s,o,r){let d=s,m=o,C=r;for(;C>m;){if(C-=m,d=d.parent,!d)throw new Error("Invalid number of '../'");m=d.segments.length}return new eh(d,!1,m-C)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+d,s.numberOfDoubleDots)}(C,o,s),M=w.processChildren?th(w.segmentGroup,w.index,C.commands):Lm(w.segmentGroup,w.index,C.commands);return hd(w.segmentGroup,M,o,d,m)}(he,this.currentUrlTree,r,De,null!=Ee?Ee:null)}navigateByUrl(r,d={skipLocationChange:!1}){const m=ca(r)?r:this.parseUrl(r),C=this.urlHandlingStrategy.merge(m,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,d)}navigate(r,d={skipLocationChange:!1}){return function(s){for(let o=0;o<s.length;o++){const r=s[o];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${o}`)}}(r),this.navigateByUrl(this.createUrlTree(r,d),d)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let d;try{d=this.urlSerializer.parse(r)}catch(m){d=this.malformedUriErrorHandler(m,this.urlSerializer,r)}return d}isActive(r,d){let m;if(m=!0===d?Object.assign({},s_):!1===d?Object.assign({},a_):d,ca(r))return eo(this.currentUrlTree,r,m);const C=this.parseUrl(r);return eo(this.currentUrlTree,C,m)}removeEmptyProps(r){return Object.keys(r).reduce((d,m)=>{const C=r[m];return null!=C&&(d[m]=C),d},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new uu(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(r,d,m,C,w){var M,G;if(this.disposed)return Promise.resolve(!1);const he=this.getTransition(),Ee=jl(d)&&he&&!jl(he.source),Ue=(this.lastSuccessfulId===he.id||this.currentNavigation?he.rawUrl:he.urlAfterRedirects).toString()===r.toString();if(Ee&&Ue)return Promise.resolve(!0);let Bt,vn,Qt;w?(Bt=w.resolve,vn=w.reject,Qt=w.promise):Qt=new Promise((ln,Ii)=>{Bt=ln,vn=Ii});const Rn=++this.navigationId;let un;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(m=this.location.getState()),un=m&&m.\u0275routerPageId?m.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?null!==(M=this.browserPageId)&&void 0!==M?M:0:(null!==(G=this.browserPageId)&&void 0!==G?G:0)+1):un=0,this.setTransition({id:Rn,targetPageId:un,source:d,restoredState:m,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:C,resolve:Bt,reject:vn,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(ln=>Promise.reject(ln))}setBrowserUrl(r,d){const m=this.urlSerializer.serialize(r),C=Object.assign(Object.assign({},d.extras.state),this.generateNgRouterState(d.id,d.targetPageId));this.location.isCurrentPathEqualTo(m)||d.extras.replaceUrl?this.location.replaceState(m,"",C):this.location.go(m,"",C)}restoreHistory(r,d=!1){var m,C;if("computed"===this.canceledNavigationResolution){const w=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(m=this.currentNavigation)||void 0===m?void 0:m.finalUrl)||0===w?this.currentUrlTree===(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)&&0===w&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(w)}else"replace"===this.canceledNavigationResolution&&(d&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,d){const m=new pm(r.id,this.serializeUrl(r.extractedUrl),d);this.triggerEvent(m),r.resolve(!1)}generateNgRouterState(r,d){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:d}:{navigationId:r}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.DyG),p.LFG(Ol),p.LFG(no),p.LFG(we),p.LFG(p.zs3),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(void 0))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function jl(s){return"imperative"!==s}let Hl=(()=>{class s{constructor(r,d,m){this.router=r,this.route=d,this.locationStrategy=m,this.commands=[],this.onChanges=new Rr.xQ,this.subscription=r.events.subscribe(C=>{C instanceof uu&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,d,m,C,w){if(0!==r||d||m||C||w||"string"==typeof this.target&&"_self"!=this.target)return!0;const M={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,M),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Un),p.Y36(Mn),p.Y36(Ie))},s.\u0275dir=p.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,d){1&r&&p.NdJ("click",function(C){return d.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&r&&(p.Ikx("href",d.href,p.LSH),p.uIk("target",d.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[p.TTD]}),s})();function vu(s){return""===s||!!s}let Cd=(()=>{class s{constructor(r,d,m,C,w){this.parentContexts=r,this.location=d,this.resolver=m,this.changeDetector=w,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.name=C||ht,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,d){this.activated=r,this._activatedRoute=d,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,d){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const w=(d=d||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),M=this.parentContexts.getOrCreateContext(this.name).children,G=new vh(r,M,this.location.injector);this.activated=this.location.createComponent(w,this.location.length,G),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(no),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},s.\u0275dir=p.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class vh{constructor(o,r,d){this.route=o,this.childContexts=r,this.parent=d}get(o,r){return o===Mn?this.route:o===no?this.childContexts:this.parent.get(o,r)}}class hg{}class yh{preload(o,r){return(0,Qe.of)(null)}}let c_=(()=>{class s{constructor(r,d,m,C,w){this.router=r,this.injector=C,this.preloadingStrategy=w,this.loader=new ug(d,m,he=>r.triggerEvent(new Dp(he)),he=>r.triggerEvent(new Lf(he)))}setUpPreloading(){this.subscription=this.router.events.pipe(vi(r=>r instanceof uu),Ut(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(p.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,d){const m=[];for(const C of d)if(C.loadChildren&&!C.canLoad&&C._loadedConfig){const w=C._loadedConfig;m.push(this.processRoutes(w.module,w.routes))}else C.loadChildren&&!C.canLoad?m.push(this.preloadConfig(r,C)):C.children&&m.push(this.processRoutes(r,C.children));return(0,an.D)(m).pipe((0,R.J)(),(0,qe.U)(C=>{}))}preloadConfig(r,d){return this.preloadingStrategy.preload(d,()=>(d._loadedConfig?(0,Qe.of)(d._loadedConfig):this.loader.load(r.injector,d)).pipe((0,Pe.zg)(C=>(d._loadedConfig=C,this.processRoutes(C.module,C.routes)))))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Un),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(hg))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),kr=(()=>{class s{constructor(r,d,m={}){this.router=r,this.viewportScroller=d,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof uu&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Vf&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,d){this.router.triggerEvent(new Vf(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,d))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Un),p.LFG(Mt),p.LFG(void 0))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const yu=new p.OlP("ROUTER_CONFIGURATION"),d_=new p.OlP("ROUTER_FORROOT_GUARD"),mg=[we,{provide:Ol,useClass:Im},{provide:Un,useFactory:function(s,o,r,d,m,C,w,M={},G,he){const Ee=new Un(null,s,o,r,d,m,C,sd(w));return G&&(Ee.urlHandlingStrategy=G),he&&(Ee.routeReuseStrategy=he),function(s,o){s.errorHandler&&(o.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(o.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(o.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(o.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(o.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(o.urlUpdateStrategy=s.urlUpdateStrategy)}(M,Ee),M.enableTracing&&Ee.events.subscribe(De=>{var He,Ue;null===(He=console.group)||void 0===He||He.call(console,`Router Event: ${De.constructor.name}`),console.log(De.toString()),console.log(De),null===(Ue=console.groupEnd)||void 0===Ue||Ue.call(console)}),Ee},deps:[Ol,no,we,p.zs3,p.v3s,p.Sil,yd,yu,[class{},new p.FiY],[class{},new p.FiY]]},no,{provide:Mn,useFactory:function(s){return s.routerState.root},deps:[Un]},{provide:p.v3s,useClass:p.EAV},c_,yh,class{preload(o,r){return r().pipe(be(()=>(0,Qe.of)(null)))}},{provide:yu,useValue:{enableTracing:!1}}];function _g(){return new p.PXZ("Router",Un)}let vg=(()=>{class s{constructor(r,d){}static forRoot(r,d){return{ngModule:s,providers:[mg,Cg(r),{provide:d_,useFactory:Ch,deps:[[Un,new p.FiY,new p.tp0]]},{provide:yu,useValue:d||{}},{provide:Ie,useFactory:yg,deps:[Q,[new p.tBr(ye),new p.FiY],yu]},{provide:kr,useFactory:ry,deps:[Un,Mt,yu]},{provide:hg,useExisting:d&&d.preloadingStrategy?d.preloadingStrategy:yh},{provide:p.PXZ,multi:!0,useFactory:_g},[bh,{provide:p.ip1,multi:!0,useFactory:p_,deps:[bh]},{provide:Eg,useFactory:g_,deps:[bh]},{provide:p.tb,multi:!0,useExisting:Eg}]]}}static forChild(r){return{ngModule:s,providers:[Cg(r)]}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(d_,8),p.LFG(Un,8))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})();function ry(s,o,r){return r.scrollOffset&&o.setOffset(r.scrollOffset),new kr(s,o,r)}function yg(s,o,r={}){return r.useHash?new Ye(s,o):new Ae(s,o)}function Ch(s){return"guarded"}function Cg(s){return[{provide:p.deG,multi:!0,useValue:s},{provide:yd,multi:!0,useValue:s}]}let bh=(()=>{class s{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Rr.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let d=null;const m=new Promise(M=>d=M),C=this.injector.get(Un),w=this.injector.get(yu);return"disabled"===w.initialNavigation?(C.setUpLocationChangeListener(),d(!0)):"enabled"===w.initialNavigation||"enabledBlocking"===w.initialNavigation?(C.hooks.afterPreactivation=()=>this.initNavigation?(0,Qe.of)(null):(this.initNavigation=!0,d(!0),this.resultOfPreactivationDone),C.initialNavigation()):d(!0),m})}bootstrapListener(r){const d=this.injector.get(yu),m=this.injector.get(c_),C=this.injector.get(kr),w=this.injector.get(Un),M=this.injector.get(p.z2F);r===M.components[0]&&(("enabledNonBlocking"===d.initialNavigation||void 0===d.initialNavigation)&&w.initialNavigation(),m.setUpPreloading(),C.init(),w.resetRootComponentType(M.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.zs3))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function p_(s){return s.appInitializer.bind(s)}function g_(s){return s.bootstrapListener.bind(s)}const Eg=new p.OlP("Router Initializer"),bg=function(){return[""]},wi=function(s){return["/menu",s,"games"]},Gl=function(s){return["/menu",s,"library"]},m_=function(s){return["/menu",s,"friends","list"]},__=function(s){return["/menu",s,"profile"]},Dh=function(s){return["/menu",s,"recommended"]};let Ti=(()=>{class s{constructor(r){this.route=r}ngOnInit(){this.uid=this.route.snapshot.paramMap.get("uid")}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-menu"]],decls:21,vars:17,consts:[[1,"button","fancy-button",3,"routerLink"],[1,"material-icons"],[3,"routerLink"]],template:function(r,d){1&r&&(p.TgZ(0,"menu"),p.TgZ(1,"li"),p.TgZ(2,"a",0),p.TgZ(3,"i",1),p._uU(4,"explore"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"li"),p.TgZ(6,"a",2),p._uU(7,"Tasks"),p.qZA(),p.qZA(),p.TgZ(8,"li"),p.TgZ(9,"a",2),p._uU(10,"Library"),p.qZA(),p.qZA(),p.TgZ(11,"li"),p.TgZ(12,"a",2),p._uU(13,"Friends"),p.qZA(),p.qZA(),p.TgZ(14,"li"),p.TgZ(15,"a",2),p._uU(16,"Profile"),p.qZA(),p.qZA(),p.TgZ(17,"li"),p.TgZ(18,"a",2),p._uU(19,"Recommended"),p.qZA(),p.qZA(),p.qZA(),p._UZ(20,"router-outlet")),2&r&&(p.xp6(2),p.Q6J("routerLink",p.DdM(6,bg)),p.xp6(4),p.Q6J("routerLink",p.VKq(7,wi,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(9,Gl,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(11,m_,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(13,__,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(15,Dh,d.uid)))},directives:[Hl,Cd],styles:["menu[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;background-color:#fff;display:flex;align-items:center;box-shadow:0 3px 10px #0000008c}.material-icons[_ngcontent-%COMP%]{color:#55d;font-size:36px;padding:10px 0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:14px 10px;text-decoration:none;color:#000;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#55d}"]}),s})();const Wl=[{login:"user_1@mail.ua",pass:"user_1"},{login:"user_2@mail.ua",pass:"user_2"},{login:"user_3@mail.com",pass:"user_3"},{login:"user_4@mail.com",pass:"user_4"}],zt=[["lab_1_0","lab_1_1","lab_1_2","lab_1_3","lab_2_1"],["lab_2_2","lab_3_1","lab_3_2","lab_3_3","lab_4_0"],["lab_4_1","lab_4_2","lab_4_3","lab_5_1"]];let Lr=(()=>{class s{constructor(r,d){this.auth=r,this.db=d}login(r,d){return new Promise((m,C)=>{this.auth.signInWithEmailAndPassword(r,d).then(w=>m(w),w=>C(w))})}read(r){return this.db.object(r).valueChanges()}readGames(r){return this.read(r).pipe((0,qe.U)(d=>d),(0,qe.U)(d=>Object.values(d)))}readAllGames(){return this.readGames("games")}readTasks(r){return this.read(r).pipe((0,qe.U)(d=>d),(0,qe.U)(d=>Object.values(d)))}readAllTasks(){return this.readTasks("tasks")}readGamesFromLibrary(r){return this.readGames(`users/${r}/games`)}readTasksFromLibrary(r){return this.readTasks(`users/${r}/tasks`)}readUser(r){return this.read(`users/${r}`).pipe((0,qe.U)(d=>d))}readFriends(r){return this.read(`users/${r}/friends`).pipe((0,qe.U)(d=>{const m=d;return m&&Object.keys(m).map(C=>({username:m[C],id:C}))}))}update(r,d){this.db.database.ref(r).update(d).then(()=>{alert("update successful")}).catch(m=>{alert(m.message)})}delete(r){return this.db.object(r).remove().then(()=>alert("delete successful")).catch(d=>alert(d.message))}push(r,d){this.db.database.ref(r).push(d).then(()=>alert("add data")).catch(m=>alert(m.message))}searchUser(r,d){let m=[];return this.read("users").pipe((0,qe.U)(C=>C),(0,pn.b)(C=>{m.push(C[r].username),C[r].friends&&(m=[...Object.values(C[r].friends),C[r].username])}),(0,qe.U)(C=>Object.values(C).map(w=>w.username).filter(w=>w.includes(d)).filter(w=>!m.includes(w))))}addGameInLibrary(r,d){this.db.object(`users/${r}/games/${d.name}`).set(d).then(()=>alert(`add ${d.name} game`)).catch(m=>alert(m.message))}addTaskInLibrary(r,d){this.db.object(`users/${r}/tasks/${d.id}`).set(d).then(()=>alert(`add ${d.title} task`)).catch(m=>alert(m.message))}readRecommendedTasks(r){let d;return this.read(`users/${r}/recommended`).pipe((0,qe.U)(m=>m),(0,pn.b)(m=>{console.log("qqq",Object.values(m)),d=[...Object.values(m)]})).pipe((0,Pe.zg)(()=>this.read("tasks").pipe((0,qe.U)(m=>m),(0,qe.U)(m=>d.map(C=>m[C])))))}findIndexTask(r,d){const m=r.findIndex(w=>w.includes(d));return{row:m,col:r[m].indexOf(d)}}isNextTask(r){const{row:d,col:m}=this.findIndexTask(zt,r);return!(d===zt.length-1&&m===zt[d].length-1)}isNextLevel(r){const{row:d}=this.findIndexTask(zt,r);return d!==zt.length-1}nextTask(r){const{row:d,col:m}=this.findIndexTask(zt,r);return m<zt[0].length-1?zt[d][m+1]:zt[d+1][0]}nextLevelTask(r){const{row:d}=this.findIndexTask(zt,r);return zt[d+1][0]}addTaskInRecommended(r,d){this.db.object(`users/${r}/recommended/${d}`).set(d).then(()=>alert(`new task ${d} recommended`)).catch(m=>alert(m.message))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(xf),p.LFG(su))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function bd(s,o){if(1&s&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r.login),p.xp6(2),p.Oqu(r.pass)}}let Xr=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.router=d,this.userService=m,this.title="steamClone",this.loginForm=this.formBuilder.group({email:new Wt(null,[Ar.required]),password:new Wt(null,[Ar.required])}),this.usersList=Wl}ngOnInit(){}submit(){const{email:r,password:d}=this.loginForm.value;this.userService.login(r,d).then(m=>{var C;console.log("succes",m),this.uid=null===(C=m.user)||void 0===C?void 0:C.uid}).then(()=>{this.router.navigate(["/menu",this.uid,"games"])}).catch(m=>{console.log(m.code),console.log(m.message),alert(m.message)}),this.loginForm.reset()}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(qi),p.Y36(Un),p.Y36(Lr))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"round"],[1,"signIn"],[3,"formGroup","submit"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["type","submit",3,"disabled"],[4,"ngFor","ngForOf"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Sign In"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Email"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"p"),p._uU(9,"Password"),p.qZA(),p._UZ(10,"input",4),p.TgZ(11,"button",5),p._uU(12,"Sign In"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div"),p.TgZ(14,"table"),p.TgZ(15,"thead"),p.TgZ(16,"th"),p._uU(17,"login"),p.qZA(),p.TgZ(18,"th"),p._uU(19,"password"),p.qZA(),p.qZA(),p.YNc(20,bd,5,2,"tr",6),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.loginForm),p.xp6(7),p.Q6J("disabled",!d.loginForm.valid),p.xp6(9),p.Q6J("ngForOf",d.usersList))},directives:[fs,Gi,mi,tr,Do,gr,Oe],styles:[".signIn[_ngcontent-%COMP%]{width:250px;background:#fff;border-radius:10px;padding:77px 55px 33px;display:flex;align-items:center;justify-content:center;flex-direction:column}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:95%;height:35px;padding:0 5px}button[_ngcontent-%COMP%]{margin-top:15px;width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #55d}table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px 15px}"]}),s})();function wh(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",15),p.TgZ(1,"div",16),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.TgZ(4,"h3",17),p._uU(5),p.qZA(),p.qZA(),p._UZ(6,"p",18),p.TgZ(7,"div",19),p.TgZ(8,"button",20),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().addTask(C.id)}),p._uU(9,"Add to Library"),p.qZA(),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(3),p.Oqu(r.title),p.xp6(2),p.Oqu(r.level),p.xp6(1),p.Q6J("innerHTML",r.description,p.oJD)}}let Cu=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.userService=d,this.route=m,this.max=3,this.rate=100}ngOnInit(){this.initForm(),this.userService.readAllTasks().subscribe(r=>{this.allTasks=r,this.tasks=[...this.allTasks]})}initForm(){this.gamesForm=this.formBuilder.group({searchGames:new Wt("",[Ar.required]),operators:new Wt(!0),array:new Wt(!0),object:new Wt(!0),range:new Wt(this.max)})}addFilter_1(){const r=this.gamesForm.value.range*this.rate;this.games=this.allGames.filter(d=>this.gamesForm.value[d.genre]),this.gamesForm.value.range!==this.max&&(this.games=this.games.filter(d=>d.price<=r)),this.games=this.games.filter(d=>d.name.includes(this.gamesForm.value.searchGames))}addFilter(){const r=3===this.gamesForm.value.range?"easy,medium,hard":2===this.gamesForm.value.range?"easy,medium":"easy";console.log("qqq",r),this.tasks=this.allTasks.filter(d=>this.gamesForm.value[d.topic]),this.gamesForm.value.range!==this.max&&(this.tasks=this.tasks.filter(d=>r.includes(d.level))),this.tasks=this.tasks.filter(d=>d.title.toLocaleLowerCase().includes(this.gamesForm.value.searchGames))}addGame(r){const d=this.games.find(C=>C.name===r);d&&this.userService.addGameInLibrary(this.route.snapshot.root.children[0].params.uid,d)}addTask(r){const d=this.tasks.find(C=>C.id===r);d&&this.userService.addTaskInLibrary(this.route.snapshot.root.children[0].params.uid,d)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(qi),p.Y36(Lr),p.Y36(Mn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-games"]],decls:34,vars:4,consts:[[1,"block"],[1,""],[3,"formGroup"],["type","text","placeholder","Search Tasks","formControlName","searchGames",1,"searchInput"],["type","button",1,"searchButton",3,"click"],[1,"blockGames"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],["type","range","id","range","formControlName","range","min","1","step","1","value","3",3,"max","change"],["type","checkbox","id","operators","name","operators","formControlName","operators",3,"change"],["for","operators"],["type","checkbox","id","array","name","array","checked","","formControlName","array",3,"change"],["for","array"],["type","checkbox","id","object","name","object","checked","","formControlName","object",3,"change"],["for","object"],[1,"card"],[1,"card-img"],[1,"card-img-money"],[1,"about",3,"innerHTML"],[1,"card-share"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Tasks"),p.qZA(),p.TgZ(4,"form",2),p.TgZ(5,"p"),p._uU(6,"Search Tasks"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"button",4),p.NdJ("click",function(){return d.addFilter()}),p._uU(9,"Search"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"h3"),p._uU(12,"Featured Tasks"),p.qZA(),p.TgZ(13,"div",5),p.TgZ(14,"div",6),p.YNc(15,wh,10,3,"div",7),p.qZA(),p.TgZ(16,"div"),p.TgZ(17,"form",2),p.TgZ(18,"p"),p._uU(19,"Filter by difficulty"),p.qZA(),p.TgZ(20,"input",8),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(21,"p"),p._uU(22,"Filter by tag"),p.qZA(),p.TgZ(23,"input",9),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(24,"label",10),p._uU(25,"operators"),p.qZA(),p._UZ(26,"br"),p.TgZ(27,"input",11),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(28,"label",12),p._uU(29,"array"),p.qZA(),p._UZ(30,"br"),p.TgZ(31,"input",13),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(32,"label",14),p._uU(33,"object"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.gamesForm),p.xp6(11),p.Q6J("ngForOf",d.tasks),p.xp6(2),p.Q6J("formGroup",d.gamesForm),p.xp6(3),p.s9C("max",d.max))},directives:[fs,Gi,mi,tr,Do,gr,Oe,ol,Hi],styles:[".blockGames[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]}),s})();function Eu(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",3),p.TgZ(1,"div",4),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.qZA(),p._UZ(4,"p",5),p.TgZ(5,"div",6),p.TgZ(6,"button",7),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().openTask(C.id)}),p._uU(7,"Open"),p.qZA(),p.TgZ(8,"button",7),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().share(C.id)}),p._uU(9,"Share"),p.qZA(),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(3),p.Oqu(r.title),p.xp6(1),p.Q6J("innerHTML",r.description,p.oJD)}}let bu=(()=>{class s{constructor(r,d){this.userService=r,this.route=d,this.url="https://vyaskevych.github.io/learnJS/"}ngOnInit(){this.userService.readTasksFromLibrary(this.route.snapshot.root.children[0].params.uid).subscribe(d=>this.tasks=d)}download(r){alert(`Wait a minute, the game ${r} is installed on your computer`)}openTask(r){window.open(this.url+r,"_blank")}share(r){alert(`You shared the game ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lr),p.Y36(Mn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-library"]],decls:5,vars:1,consts:[[1,"block"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img"],[1,"about",3,"innerHTML"],[1,"card-share"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"h3"),p._uU(2,"My Tasks"),p.qZA(),p.TgZ(3,"div",1),p.YNc(4,Eu,10,2,"div",2),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("ngForOf",d.tasks))},directives:[Oe],styles:[""]}),s})(),pa=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.router=d,this.route=m,this.searchForm=this.formBuilder.group({searchfriends:new Wt(null,[Ar.required])})}ngOnInit(){}submit(){console.warn("New friends have been found",this.searchForm.value.searchfriends),this.router.navigate(["./search"],{relativeTo:this.route,queryParams:{search:this.searchForm.value.searchfriends}})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(qi),p.Y36(Un),p.Y36(Mn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends"]],decls:11,vars:1,consts:[[1,"block"],[1,"searchFriends"],[3,"formGroup","submit"],["type","text","placeholder","Search Friends","formControlName","searchfriends",1,"searchInput"],["type","submit",1,"searchButton"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Friends"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Search Friends"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"button",4),p._uU(9,"Search"),p.qZA(),p.qZA(),p.qZA(),p._UZ(10,"router-outlet"),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.searchForm))},directives:[fs,Gi,mi,tr,Do,gr,Cd],styles:[""]}),s})(),Du=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.route=d,this.userService=m}ngOnInit(){this.uid=this.route.snapshot.root.children[0].params.uid,this.userService.readUser(this.uid).subscribe(r=>this.user=Object.assign({},r)),this.profileForm=this.formBuilder.group({username:new Wt("",[Ar.required]),email:new Wt(""),age:new Wt("",[Ar.required])})}submit(){console.warn("Your profile has been modified",this.profileForm.value);const{username:r,age:d}=this.profileForm.value;this.userService.update(`users/${this.uid}`,{username:r,age:d})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(qi),p.Y36(Mn),p.Y36(Lr))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-profile"]],decls:16,vars:5,consts:[[1,"round"],[1,"profile"],[3,"formGroup","submit"],["type","text","placeholder","username","formControlName","username",3,"value"],["type","text","placeholder","email","formControlName","email","readonly","",3,"value"],["type","number","min","1","placeholder","age","formControlName","age",3,"value"],["type","submit",3,"disabled"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Profile"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Username"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"p"),p._uU(9,"Email"),p.qZA(),p._UZ(10,"input",4),p.TgZ(11,"p"),p._uU(12,"Age"),p.qZA(),p._UZ(13,"input",5),p.TgZ(14,"button",6),p._uU(15,"Save"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.profileForm),p.xp6(3),p.s9C("value",d.user?d.user.username:null),p.xp6(3),p.s9C("value",d.user?d.user.email:null),p.xp6(3),p.s9C("value",d.user?d.user.age:null),p.xp6(1),p.Q6J("disabled",!d.profileForm.valid))},directives:[fs,Gi,mi,tr,Do,gr,Za,gi],styles:[".profile[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;margin:25px;padding:25px;width:250px;box-shadow:0 0 15px 2px #0000008c}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:10px}"]}),s})();function wu(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",2),p.TgZ(1,"p"),p._uU(2),p.qZA(),p.TgZ(3,"button",3),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().addFriend(C)}),p._uU(4,"Add friend"),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r)}}function Iu(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",4),p.TgZ(1,"p"),p._uU(2),p.qZA(),p.TgZ(3,"button",5),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw(3).removeFriend(C.id)}),p._uU(4,"Remove friend"),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r.username)}}function Au(s,o){if(1&s&&(p.ynx(0),p.YNc(1,Iu,5,1,"div",3),p.BQk()),2&s){const r=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",r.friends)}}function Dg(s,o){if(1&s&&(p.TgZ(0,"div",1),p.TgZ(1,"h3"),p._uU(2,"My Friends"),p.qZA(),p.YNc(3,Au,2,1,"ng-container",2),p.qZA()),2&s){const r=p.oxw();p.xp6(3),p.Q6J("ngIf",r.friends)}}function Tg(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",3),p.TgZ(1,"div",4),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.TgZ(4,"h3",5),p._uU(5),p.qZA(),p.qZA(),p._UZ(6,"p",6),p.TgZ(7,"div",7),p.TgZ(8,"button",8),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().openTask(C.id)}),p._uU(9,"Open"),p.qZA(),p.TgZ(10,"form",9),p.NdJ("change",function(){const C=p.CHM(r).$implicit;return p.oxw().change(C.id)}),p.TgZ(11,"fieldset",10),p._UZ(12,"input",11),p._UZ(13,"input",12),p._UZ(14,"input",13),p._UZ(15,"input",14),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit,d=p.oxw();p.xp6(3),p.Oqu(r.title),p.xp6(2),p.hij("",r.level," "),p.xp6(1),p.Q6J("innerHTML",r.description,p.oJD),p.xp6(4),p.Q6J("formGroup",d.assessmentForm),p.xp6(1),p.Q6J("disabled",!(r.id==d.newId&&d.displayInput)),p.xp6(1),p.Q6J("checked",d.displayInput)}}const Ig=[{path:"",component:Xr},{path:"menu/:uid",component:Ti},{path:"menu/:uid",component:Ti,children:[{path:"games",component:Cu},{path:"library",component:bu},{path:"friends",component:pa},{path:"friends",component:pa,children:[{path:"search",component:(()=>{class s{constructor(r,d,m,C){this.db=r,this.router=d,this.route=m,this.userService=C,this.findUsers=[],this.users=[],this.friends=[]}ngOnInit(){const r=this.route.snapshot.root.children[0].params.uid;this.route.queryParams.subscribe(d=>{this.search=d.search,this.userService.searchUser(r,this.search).subscribe(m=>this.findUsers=m)})}addFriend(r){this.userService.push(`users/${this.route.snapshot.root.children[0].params.uid}/friends`,r),this.router.navigate(["../list"],{relativeTo:this.route})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(su),p.Y36(Un),p.Y36(Mn),p.Y36(Lr))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends-search"]],decls:4,vars:2,consts:[[1,"profile"],["class","blockFriend",4,"ngFor","ngForOf"],[1,"blockFriend"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"h3"),p._uU(2),p.qZA(),p.YNc(3,wu,5,1,"div",1),p.qZA()),2&r&&(p.xp6(2),p.hij("Search Friends: ",d.search,""),p.xp6(1),p.Q6J("ngForOf",d.findUsers))},directives:[Oe],styles:[""]}),s})()},{path:"list",component:(()=>{class s{constructor(r,d){this.route=r,this.userService=d}ngOnInit(){this.uid=this.route.snapshot.root.children[0].params.uid,this.userService.readFriends(this.uid).subscribe(r=>{this.friends=r,console.log("friends form list",this.friends)})}removeFriend(r){this.userService.delete(`users/${this.uid}/friends/${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mn),p.Y36(Lr))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends-list"]],decls:1,vars:1,consts:[["class","usersFriends",4,"ngIf"],[1,"usersFriends"],[4,"ngIf"],["class","blockFriend",4,"ngFor","ngForOf"],[1,"blockFriend"],["type","button",3,"click"]],template:function(r,d){1&r&&p.YNc(0,Dg,4,1,"div",0),2&r&&p.Q6J("ngIf",d.friends)},directives:[bt,Oe],styles:["button[_ngcontent-%COMP%]{background-color:#d2386c}"]}),s})()}]},{path:"profile",component:Du},{path:"recommended",component:(()=>{class s{constructor(r,d,m){this.userService=r,this.route=d,this.formBuilder=m,this.newId="lab_1_1",this.displayInput=!1,this.url="https://vyaskevych.github.io/learnJS/"}ngOnInit(){this.uid=this.route.snapshot.root.children[0].params.uid,this.userService.readRecommendedTasks(this.uid).subscribe(r=>this.tasks=r),this.assessmentForm=this.formBuilder.group({assessment:["bad"]}),this.displayInput=!1}openTask(r){window.open(this.url+r,"_blank"),this.displayInput=!0}nextTask(r){this.userService.isNextTask(r)?(this.newId=this.userService.nextTask(r),this.userService.addTaskInRecommended(this.uid,this.newId),this.displayInput=!1):alert("all tasks in the topic are completed")}nextLevelTask(r){this.userService.isNextLevel(r)?(this.newId=this.userService.nextLevelTask(r),this.userService.addTaskInRecommended(this.uid,this.newId),this.displayInput=!1):alert("all tasks in the topic are completed")}change(r){const d=this.assessmentForm.value.assessment;"bad"!==d?"satisfactory"!==d?"good"===d&&this.nextLevelTask(r):this.nextTask(r):alert("\u0412\u0447\u0438 \u0449\u0435!!")}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lr),p.Y36(Mn),p.Y36(qi))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-recommended"]],decls:5,vars:1,consts:[[1,"block"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img"],[1,"card-img-money"],[1,"about",3,"innerHTML"],[1,"card-share"],["type","button",3,"click"],[3,"formGroup","change"],[3,"disabled"],["type","radio","name","assessment","id","",2,"display","none",3,"checked"],["type","radio","name","assessment","id","bad","formControlName","assessment","value","bad"],["type","radio","name","assessment","id","satisfactory","formControlName","assessment","value","satisfactory"],["type","radio","name","assessment","id","good","formControlName","assessment","value","good"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"h3"),p._uU(2,"My Tasks"),p.qZA(),p.TgZ(3,"div",1),p.YNc(4,Tg,16,6,"div",2),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("ngForOf",d.tasks))},directives:[Oe,fs,Gi,mi,rr,tr,Do,gr],styles:[""]}),s})()}]}];let Ag=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[vg.forRoot(Ig)],vg]}),s})(),Sg=(()=>{class s{constructor(){this.title="steamClone"}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(r,d){1&r&&p._UZ(0,"router-outlet")},directives:[Cd],styles:[""]}),s})(),E_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s,bootstrap:[Sg]}),s.\u0275inj=p.cJS({providers:[],imports:[[of,Ag,Cf,rn.hO.initializeApp(u_firebase),Ml]]}),s})();(0,p.G48)(),Bi().bootstrapModule(E_).catch(s=>console.error(s))},4762:(Fe,me,F)=>{"use strict";F.d(me,{ZT:()=>ie,pi:()=>I,mG:()=>Q,Jh:()=>z,XA:()=>O,CR:()=>B,ev:()=>ce});var p=function(ee,ne){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,X){re.__proto__=X}||function(re,X){for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&(re[pe]=X[pe])})(ee,ne)};function ie(ee,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=ee}p(ee,ne),ee.prototype=null===ne?Object.create(ne):(re.prototype=ne.prototype,new re)}var I=function(){return(I=Object.assign||function(ne){for(var re,X=1,pe=arguments.length;X<pe;X++)for(var te in re=arguments[X])Object.prototype.hasOwnProperty.call(re,te)&&(ne[te]=re[te]);return ne}).apply(this,arguments)};function Q(ee,ne,re,X){return new(re||(re=Promise))(function(te,je){function $e(ke){try{Le(X.next(ke))}catch(Me){je(Me)}}function Ot(ke){try{Le(X.throw(ke))}catch(Me){je(Me)}}function Le(ke){ke.done?te(ke.value):function(te){return te instanceof re?te:new re(function(je){je(te)})}(ke.value).then($e,Ot)}Le((X=X.apply(ee,ne||[])).next())})}function z(ee,ne){var X,pe,te,je,re={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return je={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(je[Symbol.iterator]=function(){return this}),je;function $e(Le){return function(ke){return function(Le){if(X)throw new TypeError("Generator is already executing.");for(;re;)try{if(X=1,pe&&(te=2&Le[0]?pe.return:Le[0]?pe.throw||((te=pe.return)&&te.call(pe),0):pe.next)&&!(te=te.call(pe,Le[1])).done)return te;switch(pe=0,te&&(Le=[2&Le[0],te.value]),Le[0]){case 0:case 1:te=Le;break;case 4:return re.label++,{value:Le[1],done:!1};case 5:re.label++,pe=Le[1],Le=[0];continue;case 7:Le=re.ops.pop(),re.trys.pop();continue;default:if(!(te=(te=re.trys).length>0&&te[te.length-1])&&(6===Le[0]||2===Le[0])){re=0;continue}if(3===Le[0]&&(!te||Le[1]>te[0]&&Le[1]<te[3])){re.label=Le[1];break}if(6===Le[0]&&re.label<te[1]){re.label=te[1],te=Le;break}if(te&&re.label<te[2]){re.label=te[2],re.ops.push(Le);break}te[2]&&re.ops.pop(),re.trys.pop();continue}Le=ne.call(ee,re)}catch(ke){Le=[6,ke],pe=0}finally{X=te=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,ke])}}}function O(ee){var ne="function"==typeof Symbol&&Symbol.iterator,re=ne&&ee[ne],X=0;if(re)return re.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&X>=ee.length&&(ee=void 0),{value:ee&&ee[X++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(ee,ne){var re="function"==typeof Symbol&&ee[Symbol.iterator];if(!re)return ee;var pe,je,X=re.call(ee),te=[];try{for(;(void 0===ne||ne-- >0)&&!(pe=X.next()).done;)te.push(pe.value)}catch($e){je={error:$e}}finally{try{pe&&!pe.done&&(re=X.return)&&re.call(X)}finally{if(je)throw je.error}}return te}function ce(ee,ne,re){if(re||2===arguments.length)for(var te,X=0,pe=ne.length;X<pe;X++)(te||!(X in ne))&&(te||(te=Array.prototype.slice.call(ne,0,X)),te[X]=ne[X]);return ee.concat(te||Array.prototype.slice.call(ne))}}},Fe=>{Fe(Fe.s=9100)}]);